/*! For license information please see main.a0eb4aa2.js.LICENSE.txt */
(()=>{var e={4546:function(e,t,n){!function(e){"use strict";function t(e){var t=h.indexOf(e);-1<t&&h.splice(t,1),h.push(e),v=0,f&&!d&&(a=m(x),d=!0)}function r(e){for(var t=0;t<h.length;t++)if(e===h[t])return h[t];return null}function i(){return d}function o(){return y}var a,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:this||(void 0!==e?e:{}),c=s.requestAnimationFrame||function(e){return s.setTimeout(e,50/3)},l=s.cancelAnimationFrame||function(e){return s.clearTimeout(e)},u=function(){if("undefined"==typeof process||void 0===process.hrtime||process.versions&&void 0!==process.versions.electron){if(void 0!==s.performance&&void 0!==s.performance.now)return s.performance.now.bind(s.performance);var e=s.performance&&s.performance.timing&&s.performance.timing.navigationStart?s.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}return function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}}(),h=[],d=!1,f=!1,p=[],m=c,v=0,g=120,y=!0,b=function(e){var t=h.indexOf(e);-1!==t&&h.splice(t,1),0===h.length&&(l(a),d=!1)},x=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u(),n=1<arguments.length?arguments[1]:void 0;if(g<=v&&y)return d=!1,v=0,l(a),!1;f&&d?a=m(e):function(){for(var e=0;e<p.length;e++)p[e]()}(),h.length||v++;for(var r=0,i=h.length;r<i;)h[r++].update(t,n),i>h.length&&r--,i=h.length;return!0},w={},_={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return Math.pow(e,2)},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,2):-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return Math.pow(e,3)},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,3):.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return Math.pow(e,4)},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,4):-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return Math.pow(e,5)},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,5):.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-_.Bounce.Out(1-e)},Out:function(e){var t=2.75,n=7.5625;return e<1/t?n*e*e:e<2/t?n*(e-=1.5/t)*e+.75:e<2.5/t?n*(e-=2.25/t)*e+.9375:n*(e-=2.625/t)*e+.984375},InOut:function(e){return e<.5?.5*_.Bounce.In(2*e):.5*_.Bounce.Out(2*e-1)+.5}},Stepped:{steps:function(e){return function(t){return(t*e|0)/e}}}};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){var r,i,o;r=e,o=n[i=t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?O(e):t}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=50/3,N="_chainedTweens",I="Callback",j="update",z="complete",F="start",U="repeat",B="reverse",V="restart",H="STRING_PROP",G=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function W(e){if(e&&e.nodeType||void 0===e||"object"!==M(e))return e;if(Array.isArray(e))return[].concat(e);if("object"!==M(e))return e;var t={};for(var n in e)t[n]=W(e[n]);return t}var q=function(e){return isNaN(+e)||("+"===e[0]||"-"===e[0])&&"="===e[1]||""===e||" "===e},Y=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,X=function(e,t){var n,r,i;3===t.length&&(t=(n=t[0])+n+(r=t[1])+r+(i=t[2])+i);var o=parseInt(t,16);return"rgb("+(n=o>>16&255)+", "+(r=o>>8&255)+", "+(i=255&o)+")"};function Z(e){if(e&&e.splice&&e.isString)return e;if("string"!=typeof e)return e;if("="===e.charAt(1))return e;var t=e.replace(Y,X).match(G).map((function(e){return q(e)?e:+e}));return t.isString=!0,t}function $(e,t,n,r){var i=n[e],o=r[e];if(i===o)return!0;if(Array.isArray(i)&&Array.isArray(o)&&i.length===o.length)for(var a=0,s=o.length;a<s;a++){var c=i[a],l=o[a];c===l||"number"==typeof c&&"number"==typeof l||$(a,t[e],i,o)}if(!("number"==typeof i&&"number"==typeof o||i&&i.splice&&i.isString&&o&&o.splice&&o.isString)){if("string"==typeof i&&Array.isArray(o)){var u=Z(i),h=o.map(Z);return n[e]=u,r[e]=h,!0}if("string"==typeof i||"string"==typeof o){var d=Array.isArray(i)&&i[0]===H?i:Z(i),f=Array.isArray(o)&&o[0]===H?o:Z(o);if(void 0===d)return;for(var p=1;p<d.length;)d[p]===f[p]&&"string"==typeof d[p-1]?(d.splice(p-1,2,d[p-1]+d[p]),f.splice(p-1,2,f[p-1]+f[p])):p++;return d[p=0]===H&&d.shift(),f[0]===H&&f.shift(),n[e]=d,r[e]=f,!0}if("object"===M(i)&&"object"===M(o)){if(Array.isArray(i)&&!i.isString)return i.map((function(n,r){return $(r,t[e],i,o)}));for(var m in o)$(m,t[e],i,o);return!0}}return!1}var J="rgba(",K=function(e,t,n){var r=2<arguments.length&&void 0!==n?n:"rgb(";return"number"==typeof e[t]&&(e[t-1]===r||e[t-3]===r||e[t-5]===r)};function Q(e,t,n,r,i,o,a){var s=a?n:n[e],c=a?r:r[e];if(void 0===c)return s;if(void 0===s||"string"==typeof s||s===c)return c;if("object"===M(s)&&"object"===M(c)){if(!s||!c)return t[e];if("object"===M(s)&&s&&s.isString&&c&&c.splice&&c.isString){for(var l="",u=0,h=s.length;u<h;u++)if(s[u]!==c[u]||"number"!=typeof s[u]||"number"==typeof c[u]){var d="number"==typeof s[u]&&"string"==typeof c[u]&&"="===c[u][1],f="number"!=typeof s[u]?s[u]:d?s[u]+parseFloat(c[u][0]+c[u].substr(2))*i:s[u]+(c[u]-s[u])*i;(K(s,u)||K(s,u,J))&&(f|=0),l+=f,d&&1===o&&(s[u]=s[u]+parseFloat(c[u][0]+c[u].substr(2)))}else l+=s[u];return a||(t[e]=l),l}if(Array.isArray(s)&&s[0]!==H)for(var p=0,m=s.length;p<m;p++)s[p]!==c[p]&&"string"!=typeof t[e]&&Q(p,t[e],s,c,i,o);else if("object"===M(s)&&s&&!s.isString)for(var v in s)s[v]!==c[v]&&Q(v,t[e],s,c,i,o)}else if("number"==typeof s){var g="string"==typeof c;t[e]=g?s+parseFloat(c[0]+c.substr(2))*i:s+(c-s)*i,g&&1===o&&(n[e]=t[e])}else"function"==typeof c&&(t[e]=c(i));return t[e]}function ee(e,t){var n=e[t],r=t.replace(ie,"").split(re),i=r.length-1,o=Array.isArray(e),a="object"===M(e)&&!o;return a?(e[t]=null,delete e[t]):o&&e.splice(t,1),r.reduce((function(e,t,s){o&&"."!==t&&"["!==t&&(t*=1);var c="["===r[s+1];if("."===t||"["===t)return"."===t?o=!(a=!0):"["===t&&(o=!(a=!1)),e;if(void 0===e[t]){if(o||a)return e[t]=s===i?n:o||c?[]:a?{}:null,a=o=!1,e[t]}else if(void 0!==e[t])return s===i&&(e[t]=n),e[t];return e}),e)}function te(e){if("object"===M(e)&&e)for(var t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))ee(e,t);else if("object"===M(e[t])&&e[t]){var n=e[t];for(var r in n)if(-1!==r.indexOf(".")||-1!==r.indexOf("["))ee(n,r);else if("object"===M(n[r])&&n[r]){var i=n[r];for(var o in i)-1===o.indexOf(".")&&-1===o.indexOf("[")||ee(i,o)}}return e}var ne,re=/([.[])/g,ie=/\]/g,oe=Object.freeze({__proto__:null,FRAME_MS:D,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:N,EVENT_CALLBACK:I,EVENT_UPDATE:j,EVENT_COMPLETE:z,EVENT_START:F,EVENT_REPEAT:U,EVENT_REVERSE:B,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:V,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:H,NUM_REGEX:G,deepCopy:W,decomposeString:Z,decompose:$,RGB:"rgb(",RGBA:J,isRGBColor:K,recompose:Q,SET_NESTED:te}),ae={Linear:function(e,t,n){var r=e.length-1,i=r*t,o=Math.floor(i),a=ae.Utils.Linear;return t<0?a(e[0],e[1],i,n):1<t?a(e[r],e[r-1],r-i,n):a(e[o],e[r<o+1?r:o+1],i-o,n)},Bezier:function(e,t,n){for(var r=ae.Utils.Reset(n),i=e.length-1,o=Math.pow,a=ae.Utils.Bernstein,s=Array.isArray(r),c=0;c<=i;c++)if("number"==typeof r)r+=o(1-t,i-c)*o(t,c)*e[c]*a(i,c);else if(s)for(var l=0,u=r.length;l<u;l++)"number"==typeof r[l]?r[l]+=o(1-t,i-c)*o(t,c)*e[c][l]*a(i,c):r[l]=e[c][l];else if("object"===M(r))for(var h in r)"number"==typeof r[h]?r[h]+=o(1-t,i-c)*o(t,c)*e[c][h]*a(i,c):r[h]=e[c][h];else if("string"==typeof r){for(var d="",f=e[Math.round(i*t)],p=1,m=f.length;p<m;p++)d+=f[p];return d}return r},CatmullRom:function(e,t,n){var r=e.length-1,i=r*t,o=Math.floor(i),a=ae.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(o=Math.floor(i=r*(1+t))),a(e[(o-1+r)%r],e[o],e[(o+1)%r],e[(o+2)%r],i-o,n)):t<0?a(e[1],e[1],e[0],e[0],-t,n):1<t?a(e[r-1],e[r-1],e[r],e[r],(0|t)-t,n):a(e[o?o-1:0],e[o],e[r<o+1?r:o+1],e[r<o+2?r:o+2],i-o,n)},Utils:{Linear:function(e,t,n,r){if(e===t||"string"==typeof e){if(t.length&&t.splice&&t.isString){t="";for(var i=0,o=e.length;i<o;i++)t+=e[i]}return t}if("number"==typeof e)return"function"==typeof e?e(n):e+(t-e)*n;if("object"===M(e)){if(void 0!==e.length){var a="string"==typeof e[0]||e.isString;if(a||e[0]===H){for(var s="",c=a?0:1,l=e.length;c<l;c++){var u=0===n?e[c]:1!==n&&"number"==typeof e[c]?e[c]+(t[c]-e[c])*n:t[c];(0<n&&n<1&&K(e,c)||K(e,c,J))&&(u|=0),s+=u}return s}if(r&&r.length&&r.splice)for(var h=0,d=r.length;h<d;h++)r[h]=ae.Utils.Linear(e[h],t[h],n,r[h])}else for(var f in r)r[f]=ae.Utils.Linear(e[f],t[f],n,r[f]);return r}},Reset:function(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)e[t]=ae.Utils.Reset(e[t]);return e}if("object"!==M(e))return"number"==typeof e?0:e;for(var r in e)e[r]=ae.Utils.Reset(e[r]);return e},Bernstein:function(e,t){var n=ae.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(ne=[1],function(e){var t=1;if(ne[e])return ne[e];for(var n=e;1<n;n--)t*=n;return ne[e]=t}),CatmullRom:function(e,t,n,r,i,o){if("string"==typeof e)return t;if("number"==typeof e){var a=.5*(n-e),s=.5*(r-t),c=i*i;return(2*t-2*n+a+s)*(i*c)+(-3*t+3*n-2*a-s)*c+a*i+t}if("object"===M(e)){if(void 0!==e.length){if(e[0]===H){for(var l="",u=1,h=e.length;u<h;u++){var d="number"==typeof e[u]?ae.Utils.CatmullRom(e[u],t[u],n[u],r[u],i):r[u];(K(e,u)||K(e,u,J))&&(d|=0),l+=d}return l}for(var f=0,p=o.length;f<p;f++)o[f]=ae.Utils.CatmullRom(e[f],t[f],n[f],r[f],i,o[f])}else for(var m in o)o[m]=ae.Utils.CatmullRom(e[m],t[m],n[m],r[m],i,o[m]);return o}}}},se={};function ce(e,t,n){if(!e||!e.nodeType)return t;var r=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=r);var i=se[r];if(i){if(i.object===t&&e===i.tween.node&&n._startTime===i.tween._startTime)b(i.tween);else if("object"===M(t)&&t&&i.object){for(var o in t)o in i.object&&(n._startTime===i.tween._startTime?delete i.object[o]:i.propNormaliseRequired=!0);Object.assign(i.object,t)}return i.object}return"object"===M(t)&&t?(se[r]={tween:n,object:t,propNormaliseRequired:!1},se[r].object):t}function le(e,t,n){return t?e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?[e]:"string"==typeof e?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:n?e:[]:null:e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?e:"string"==typeof e?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType||n?e:null:null}var ue=0,he=_.Linear.None,de=function(){function e(t,n){return S(this,e),this.id=ue++,!t||"object"!==M(t)||n||t.nodeType?t&&(t.nodeType||t.length||"string"==typeof t)&&(t=this.node=le(t),n=this.object=ce(t,n,this)):(n=this.object=t,t=null),this._valuesEnd=null,this._valuesStart=Array.isArray(n)?[]:{},this._duration=1e3,this._easingFunction=he,this._easingReverse=he,this._interpolationFunction=ae.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return T(e,null,[{key:"fromTo",value:function(t,n,r,i){var o=3<arguments.length&&void 0!==i?i:{};o.quickRender=o.quickRender?o.quickRender:!r;var a=new e(t,n).to(r,o);return o.quickRender&&(a.render().update(a._startTime),a._rendered=!1,a._onStartCallbackFired=!1),a}},{key:"to",value:function(t,n,r){return e.fromTo(t,null,n,r)}},{key:"from",value:function(t,n,r){return e.fromTo(t,n,null,r)}}]),T(e,[{key:"setMaxListener",value:function(e){var t=0<arguments.length&&void 0!==e?e:15;return this._maxListener=t,this}},{key:"on",value:function(e,t){for(var n=this._maxListener,r=e+I,i=0;i<n;i++){var o=r+i;if(!this[o]){this[o]=t;break}}return this}},{key:"once",value:function(e,t){for(var n=this,r=this._maxListener,i=e+I,o=function(e){var r=i+e;if(!n[r])return n[r]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(n,i),n[r]=null},"break"},a=0;a<r&&"break"!==o(a);a++);return this}},{key:"off",value:function(e,t){for(var n=this._maxListener,r=e+I,i=0;i<n;i++){var o=r+i;this[o]===t&&(this[o]=null)}return this}},{key:"emit",value:function(e,t,n,r){var i=this._maxListener,o=e+I;if(!this[o+0])return this;for(var a=0;a<i;a++){var s=o+a;this[s]&&this[s](t,n,r)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(e){var t=this._reversed;return this._reversed=void 0!==e?e:!t,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,b(this),this._pausedTime=u(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=u()-this._pausedTime,this._initTime=this._startTime,t(this),this._pausedTime=u(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),t(this),this.emit(V,this.object)}},{key:"seek",value:function(e,t){var n=this._duration,r=this._initTime,i=this._startTime,o=this._reversed,a=r+e;return this._isPlaying=!0,a<i&&r<=i&&(this._startTime-=n,this._reversed=!o),this.update(e,!1),this.emit("seek",e,this.object),t?this:this.pause()}},{key:"duration",value:function(e){return this._duration="function"==typeof e?e(this._duration):e,this}},{key:"to",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1e3;if(this._valuesEnd=e,"number"==typeof n||"function"==typeof n)this._duration="function"==typeof n?n(this._duration):n;else if("object"===M(n))for(var r in n)if("function"==typeof this[r]){var i=L(Array.isArray(n[r])?n[r]:[n[r]],4),o=i[0],a=void 0===o?null:o,s=i[1],c=void 0===s?null:s,l=i[2],u=void 0===l?null:l,h=i[3],d=void 0===h?null:h;this[r](a,c,u,d)}return this}},{key:"render",value:function(){if(this._rendered)return this;var t=this._valuesStart,n=this._valuesEnd,r=this.object,i=this.node,o=this.InitialValues;if(te(r),te(n),i&&i.queueID&&se[i.queueID]){var a=se[i.queueID];if(a.propNormaliseRequired&&a.tween!==this){for(var s in n)a.tween._valuesEnd[s];a.normalisedProp=!0,a.propNormaliseRequired=!1}}if(i&&o&&(r&&0!==Object.keys(r).length?n&&0!==Object.keys(n).length||(n=this._valuesEnd=o(i,r)):r=this.object=ce(i,o(i,n),this)),!t.processed){for(var c in n){var l=r&&r[c]&&W(r[c]),u=n[c];if(!(w[c]&&w[c].init&&(w[c].init.call(this,l,u,c,r),void 0===l&&t[c]&&(l=t[c]),w[c].skipProcess))&&!("number"==typeof l&&isNaN(l)||null===l||null===u||!1===l||!1===u||void 0===l||void 0===u||l===u)){if(t[c]=l,Array.isArray(u))if(Array.isArray(l))u.isString&&r[c].isString&&!l.isString?l.isString=!0:$(c,r,t,n);else{u.unshift(l);for(var h=0,d=u.length;h<d;h++)"string"==typeof u[h]&&(u[h]=Z(u[h]))}else $(c,r,t,n);"number"!=typeof l||"string"!=typeof u||u[1]}}t.processed=!0}return e.Renderer&&this.node&&e.Renderer.init&&(e.Renderer.init.call(this,r,t,n),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(e){return this._startTime=void 0!==e?"string"==typeof e?u()+parseFloat(e):e:u(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,t(this),this}},{key:"stop",value:function(){var e=this._isPlaying,t=this._isFinite,n=this.object,r=this._startTime,i=this._duration,o=this._r,a=this._yoyo,s=this._reversed;if(!e)return this;var c=t?(o+1)%2==1:!s;return this._reversed=!1,a&&c?this.update(r):this.update(r+i),b(this),this.emit("stop",n)}},{key:"delay",value:function(e){return this._delayTime="function"==typeof e?e(this._delayTime):e,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var e=0,t=this._chainedTweensCount;e<t;e++)this[N+e]=arguments[e];return this}},{key:"repeat",value:function(e){return this._repeat=this._duration?"function"==typeof e?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this}},{key:"reverseDelay",value:function(e){return this._reverseDelayTime="function"==typeof e?e(this._reverseDelayTime):e,this}},{key:"yoyo",value:function(e,t){return this._yoyo="function"==typeof e?e(this._yoyo):null===e?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=t||null,this}},{key:"easing",value:function(e){return this._easingFunction=e,this}},{key:"interpolation",value:function(e){return"function"==typeof e&&(this._interpolationFunction=e),this}},{key:"reassignValues",value:function(e){var n=this._valuesStart,r=this.object,i=this._delayTime;for(var o in this._isPlaying=!0,this._startTime=void 0!==e?e:u(),this._startTime+=i,this._reversed=!1,t(this),n){var a=n[o];r[o]=a}return this}},{key:"update",value:function(t,n,r){var a,s,c,l=this._onStartCallbackFired,h=this._easingFunction,d=this._interpolationFunction,f=this._easingReverse,p=this._repeat,m=this._delayTime,v=this._reverseDelayTime,g=this._yoyo,y=this._reversed,x=this._startTime,_=this._prevTime,M=this._duration,S=this._valuesStart,E=this._valuesEnd,T=this.object,P=this._isFinite,C=this._isPlaying,A=this.__render,k=this._chainedTweensCount,O=0;if(M){var R=(t=void 0!==t?t:u())-_;if(this._prevTime=t,250<R&&i()&&o()&&(t-=R-D),!C||t<x&&!r)return!0;a=1<(a=(t-x)/M)?1:a,a=y?1-a:a}else a=1,p=0;if(l||(this._rendered||(this.render(),this._rendered=!0),this.emit(F,T),this._onStartCallbackFired=!0),s=y&&f||h,!T)return!0;for(c in E){var L=S[c];if(null!=L||w[c]&&w[c].update){var I=E[c],V=s[c]?s[c](a):("function"==typeof s?s:he)(a),H=d[c]?d[c]:"function"==typeof d?d:ae.Linear;"number"==typeof I?T[c]=L+(I-L)*V:!Array.isArray(I)||I.isString||Array.isArray(L)?I&&I.update?I.update(V):"function"==typeof I?T[c]=I(V):"string"==typeof I&&"number"==typeof L?T[c]=L+parseFloat(I[0]+I.substr(2))*V:Q(c,T,S,E,V,a):T[c]=H(I,V,T[c]),w[c]&&w[c].update&&w[c].update.call(this,T[c],L,I,V,a,c),O++}}if(!O)return b(this),!1;if(A&&e.Renderer&&e.Renderer.update&&e.Renderer.update.call(this,T,a),this.emit(j,T,a,t),1===a||y&&0===a){if(0<p&&0<M){if(P&&this._repeat--,g)this._reversed=!y;else for(c in E){var G=E[c];"string"==typeof G&&"number"==typeof S[c]&&(S[c]+=parseFloat(G[0]+G.substr(2)))}return this.emit(g&&!y?B:U,T),this._startTime=y&&v?t-v:t+m,!0}if(n||(this._isPlaying=!1,b(this),ue--),this.emit(z,T),this._repeat=this._r,k)for(var W=0;W<k;W++)this[N+W].start(t+M);return!1}return!0}}]),e}(),fe=function(){function e(){S(this,e),this.totalTime=0,this.labels=[],this.offsets=[]}return T(e,[{key:"parseLabel",value:function(e,t){var n=this.offsets,r=this.labels,i=r.indexOf(e);if("string"==typeof e&&-1!==e.indexOf("=")&&!t&&-1===i){var o=e.substr(e.indexOf("=")-1,2),a=e.split(o);t=2===a.length?o+a[1]:null,e=a[0],i=r.indexOf(e)}if(-1!==i&&e){var s=n[i]||0;if("number"==typeof t)s=t;else if("string"==typeof t&&-1!==t.indexOf("=")){var c=t.charAt(0);t=Number(t.substr(2)),"+"===c||"-"===c?s+=parseFloat(c+t):"*"===c?s*=t:"/"===c?s/=t:"%"===c&&(s*=t/100)}return s}return"number"==typeof t?t:0}},{key:"addLabel",value:function(e,t){return this.labels.push(e),this.offsets.push(this.parseLabel(e,t)),this}},{key:"setLabel",value:function(e,t){var n=this.labels.indexOf(e);return-1!==n&&this.offsets.splice(n,1,this.parseLabel(e,t)),this}},{key:"eraseLabel",value:function(e){var t=this.labels.indexOf(e);return-1!==t&&(this.labels.splice(t,1),this.offsets.splice(t,1)),this}}]),e}(),pe=0,me=function(){function e(t){var n;return S(this,e),(n=R(this,A(e).call(this)))._duration=0,n._startTime=t&&void 0!==t.startTime?t.startTime:u(),n._tweens=[],n.elapsed=0,n._id=pe++,n._defaultParams=t,n.position=new fe,n.position.addLabel("afterLast",n._duration),n.position.addLabel("afterInit",n._startTime),n._onStartCallbackFired=!1,R(n,O(n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(e,de),T(e,[{key:"mapTotal",value:function(e){return e.call(this,this._tweens),this}},{key:"timingOrder",value:function(e){var t=e(this._tweens.map((function(e){return e._startTime})));return this._tweens.map((function(e,n){e._startTime=t[n]})),this}},{key:"getTiming",value:function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:0;if("reverse"===e){var o=n.stagger,a=(o||0)*(t.length-1);return t.map((function(e,t){return a-(o||0)*t+i}))}if("async"===e)return t.map((function(e){return i}));if("sequence"===e||"delayed"===e){var s=n.stagger;return s=s||(n.duration||1e3)/(t.length-1),t.map((function(e,t){return s*t+i}))}if("oneByOne"===e)return t.map((function(e){return n.duration}));if("shuffle"===e){var c=n.stagger;return function(e){var t,n,r;for(r=e.length;r;--r)t=Math.floor(Math.random()*r),n=e[r-1],e[r-1]=e[t],e[t]=n;return e}(t.map((function(e,t){return(c||0)*t+i})))}var l=n.stagger;return t.map((function(e,t){return(l||0)*t+i}))}},{key:"fromTo",value:function(e,t,n,r){if((e=le(e,!0,!0))&&e.length){this._defaultParams&&(r=r?C({},this._defaultParams,{},r):this._defaultParams);for(var i,o=r.label,a="number"==typeof o?o:this.position.parseLabel(void 0!==o?o:"afterLast",null),s=this.getTiming(r.mode,e,r,a),c=0,l=e.length;c<l;c++)i=e[c],this.add(de.fromTo(i,"function"==typeof t?t(c,e.length):"object"===M(t)&&t?C({},t):null,"function"==typeof n?n(c,e.length):n,"function"==typeof r?r(c,e.length):r),s[c])}return this.start()}},{key:"from",value:function(e,t,n){return this.fromTo(e,t,null,n)}},{key:"to",value:function(e,t,n){return this.fromTo(e,null,t,n)}},{key:"addLabel",value:function(e,t){return this.position.addLabel(e,t),this}},{key:"map",value:function(e){for(var t=0,n=this._tweens.length;t<n;t++){var r=this._tweens[t];e(r,t),this._duration=Math.max(this._duration,r._duration+r._startTime)}return this}},{key:"add",value:function(e,t){var n=this;if(Array.isArray(e))return e.map((function(e){n.add(e,t)})),this;"object"!==M(e)||e instanceof de||(e=new de(e.from).to(e.to,e));var r=this._defaultParams,i=this._duration;if(r)for(var o in r)"function"==typeof e[o]&&e[o](r[o]);var a="number"==typeof t?t:this.position.parseLabel(void 0!==t?t:"afterLast",null);return e._startTime=Math.max(this._startTime,e._delayTime,a),e._delayTime=a,e._isPlaying=!0,this._duration=Math.max(i,Math.max(e._startTime+e._delayTime,e._duration)),this._tweens.push(e),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=u(),t(this),this.emit(V)}},{key:"easing",value:function(e){return this.map((function(t){return t.easing(e)}))}},{key:"interpolation",value:function(e){return this.map((function(t){return t.interpolation(e)}))}},{key:"update",value:function(e){var t,n=this._tweens,r=this._duration,a=this._reverseDelayTime,s=this._startTime,c=this._reversed,l=this._yoyo,h=this._repeat,d=this._isFinite,f=this._isPlaying,p=this._prevTime,m=this._onStartCallbackFired,v=(e=void 0!==e?e:u())-p;if(this._prevTime=e,250<v&&i()&&o()&&(e-=v-D),!f||e<s)return!0;t=1<(t=(e-s)/r)?1:t,t=c?1-t:t,this.elapsed=t,m||(this.emit(F),this._onStartCallbackFired=!0);for(var g=e-s,y=c?r-g:g,x=0;x<n.length;)n[x].update(y),x++;if(this.emit(j,t,g),1===t||c&&0===t){if(h){for(d&&this._repeat--,this.emit(c?B:U),l&&(this._reversed=!c,this.timingOrder((function(e){return e.reverse()}))),this._startTime=c&&a?e+a:e,x=0;x<n.length;)n[x].reassignValues(e),x++;return!0}return this.emit(z),this._repeat=this._r,b(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(e){return void 0!==e?this.update(e*this._duration):this.elapsed}}]),e}();e.Easing=_,e.FrameThrottle=function(e){g=1.05*(0<arguments.length&&void 0!==e?e:120)},e.Interpolation=ae,e.Interpolator=function(e,t){var n=Array.isArray(e)&&!e.isString,r="string"==typeof e?e:n?e.slice():C({},e);if(n)for(var i=0,o=e.length;i<o;i++)e[i]===t[i]&&"number"==typeof e[i]&&"number"!=typeof t[i]||$(i,r,e,t);else if("object"===M(e))for(var a in e)e[a]===t[a]&&"number"==typeof e[a]&&"number"!=typeof t[a]||$(a,r,e,t);else if("string"==typeof e){e=Z(e),t=Z(t);for(var s=1;s<e.length;)e[s]===t[s]&&"string"==typeof e[s-1]?(e.splice(s-1,2,e[s-1]+e[s]),t.splice(s-1,2,t[s-1]+t[s])):s++}return function(i){if(n)for(var o=0,a=e.length;o<a;o++)Q(o,r,e,t,i);else if("object"===M(r))for(var s in e)Q(s,r,e,t,i);else"string"==typeof r&&(r=Q(0,0,e,t,i,i,!0));return r}},e.Plugins=w,e.Selector=le,e.Timeline=me,e.ToggleLagSmoothing=function(e){y=!(0<arguments.length&&void 0!==e)||e},e.Tween=de,e.add=t,e.autoPlay=function(e){f=e},e.get=r,e.getAll=function(){return h},e.has=function(e){return null!==r(e)},e.isRunning=i,e.now=u,e.onRequestTick=function(e){p.push(e)},e.onTick=function(e){return h.push({update:e})},e.remove=b,e.removeAll=function(){h.length=0,l(a),d=!1},e.update=x,e.utils=oe,Object.defineProperty(e,"__esModule",{value:!0})}(t)},908:(e,t,n)=>{var r=n(8136)(n(7009),"DataView");e.exports=r},9676:(e,t,n)=>{var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8384:(e,t,n)=>{var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5797:(e,t,n)=>{var r=n(8136)(n(7009),"Map");e.exports=r},8059:(e,t,n)=>{var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8319:(e,t,n)=>{var r=n(8136)(n(7009),"Promise");e.exports=r},3924:(e,t,n)=>{var r=n(8136)(n(7009),"Set");e.exports=r},692:(e,t,n)=>{var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:(e,t,n)=>{var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),c=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},7197:(e,t,n)=>{var r=n(7009).Symbol;e.exports=r},6219:(e,t,n)=>{var r=n(7009).Uint8Array;e.exports=r},7091:(e,t,n)=>{var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4903:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},9055:(e,t,n)=>{var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:(e,t,n)=>{var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),c=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),h=!n&&!u&&a(e),d=!n&&!u&&!h&&c(e),f=n||u||h||d,p=f?r(e.length,String):[],m=p.length;for(var v in e)!t&&!l.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},8950:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8002:(e,t,n)=>{var r=n(2526),i=n(9231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},8463:(e,t,n)=>{var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7112:(e,t,n)=>{var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:(e,t,n)=>{var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5763:(e,t,n)=>{var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1468:(e,t,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(8950),s=n(6194),c=n(75);e.exports=function(e,t,n,l){var u=-1,h=i,d=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=a(t,s(n))),l?(h=o,d=!1):t.length>=200&&(h=c,d=!1,t=new r(t));e:for(;++u<f;){var v=e[u],g=null==n?v:n(v);if(v=l||0!==v?v:0,d&&g===g){for(var y=m;y--;)if(t[y]===g)continue e;p.push(v)}else h(t,g,l)||p.push(v)}return p}},7927:(e,t,n)=>{var r=n(5358),i=n(7056)(r);e.exports=i},2045:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5182:(e,t,n)=>{var r=n(1705),i=n(3529);e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},5099:(e,t,n)=>{var r=n(372)();e.exports=r},5358:(e,t,n)=>{var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:(e,t,n)=>{var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1986:(e,t,n)=>{var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:(e,t,n)=>{var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},529:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:(e,t,n)=>{var r=n(2045),i=n(505),o=n(7167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},9931:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Date]"==r(e)}},1848:(e,t,n)=>{var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:(e,t,n)=>{var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),c=n(3629),l=n(5174),u=n(9102),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=c(e),b=c(t),x=y?d:s(e),w=b?d:s(t),_=(x=x==h?f:x)==f,M=(w=w==h?f:w)==f,S=x==w;if(S&&l(e)){if(!l(t))return!1;y=!0,_=!1}if(S&&!_)return g||(g=new r),y||u(e)?i(e,t,n,m,v,g):o(e,t,x,n,m,v,g);if(!(1&n)){var E=_&&p.call(e,"__wrapped__"),T=M&&p.call(t,"__wrapped__");if(E||T){var P=E?e.value():e,C=T?t.value():t;return g||(g=new r),v(P,C,n,m,g)}}return!!S&&(g||(g=new r),a(e,t,n,m,v,g))}},8856:(e,t,n)=>{var r=n(2854),i=n(1848);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],h=e[u],d=l[1];if(c&&l[2]){if(void 0===h&&!(u in e))return!1}else{var f=new r;if(o)var p=o(h,d,u,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},505:e=>{e.exports=function(e){return e!==e}},6703:(e,t,n)=>{var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8150:(e,t,n)=>{var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},6025:(e,t,n)=>{var r=n(7080),i=n(4322),o=n(2100),a=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3654:(e,t,n)=>{var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:(e,t,n)=>{var r=n(8092),i=n(2936),o=n(4221),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},3849:(e,t,n)=>{var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},7080:(e,t,n)=>{var r=n(8856),i=n(9091),o=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:(e,t,n)=>{var r=n(1848),i=n(6181),o=n(5658),a=n(5823),s=n(5072),c=n(284),l=n(9793);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},4173:(e,t,n)=>{var r=n(2854),i=n(8002),o=n(5099),a=n(9216),s=n(8092),c=n(3961),l=n(5906);e.exports=function e(t,n,u,h,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),s(o))a(t,n,c,u,e,h,d);else{var f=h?h(l(t,c),o,c+"",t,n,d):void 0;void 0===f&&(f=o),i(t,c,f)}}),c)}},9216:(e,t,n)=>{var r=n(8002),i=n(4523),o=n(613),a=n(291),s=n(548),c=n(4963),l=n(3629),u=n(6279),h=n(5174),d=n(4786),f=n(8092),p=n(3977),m=n(9102),v=n(5906),g=n(6576);e.exports=function(e,t,n,y,b,x,w){var _=v(e,n),M=v(t,n),S=w.get(M);if(S)r(e,n,S);else{var E=x?x(_,M,n+"",e,t,w):void 0,T=void 0===E;if(T){var P=l(M),C=!P&&h(M),A=!P&&!C&&m(M);E=M,P||C||A?l(_)?E=_:u(_)?E=a(_):C?(T=!1,E=i(M,!0)):A?(T=!1,E=o(M,!0)):E=[]:p(M)||c(M)?(E=_,c(_)?E=g(_):f(_)&&!d(_)||(E=s(M))):T=!1}T&&(w.set(M,E),b(E,M,y,x,w),w.delete(M)),r(e,n,E)}}},3226:(e,t,n)=>{var r=n(8950),i=n(8667),o=n(6025),a=n(3849),s=n(9179),c=n(6194),l=n(4480),u=n(2100),h=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=r(t,c(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return l(e,t,n)}))}},4980:(e,t,n)=>{var r=n(2591),i=n(5658);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2591:(e,t,n)=>{var r=n(8667),i=n(379),o=n(3082);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],u=r(e,l);n(u,l)&&i(c,o(l,e),u)}return c}},9586:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:(e,t,n)=>{var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},8794:(e,t,n)=>{var r=n(2100),i=n(4262),o=n(9156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},379:(e,t,n)=>{var r=n(8463),i=n(3082),o=n(6800),a=n(8092),s=n(9793);e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,u=(t=i(t,e)).length,h=u-1,d=e;null!=d&&++l<u;){var f=s(t[l]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(l!=h){var m=d[f];void 0===(p=c?c(m,f,d):void 0)&&(p=a(m)?m:o(t[l+1])?[]:{})}r(d,f,p),d=d[f]}return e}},7532:(e,t,n)=>{var r=n(1547),i=n(8528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},9179:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},6478:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:(e,t,n)=>{var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:e=>{e.exports=function(e){return function(t){return e(t)}}},9602:(e,t,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),c=n(2230);e.exports=function(e,t,n){var l=-1,u=i,h=e.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var m=t?null:s(e);if(m)return c(m);d=!1,u=a,p=new r}else p=t?[]:f;e:for(;++l<h;){var v=e[l],g=t?t(v):v;if(v=n||0!==v?v:0,d&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),f.push(v)}else u(p,g,n)||(p!==f&&p.push(g),f.push(v))}return f}},75:e=>{e.exports=function(e,t){return e.has(t)}},3082:(e,t,n)=>{var r=n(3629),i=n(5823),o=n(170),a=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},7010:(e,t,n)=>{var r=n(6219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4523:(e,t,n)=>{e=n.nmd(e);var r=n(7009),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},613:(e,t,n)=>{var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8558:(e,t,n)=>{var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,c=null===t,l=t===t,u=r(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},4480:(e,t,n)=>{var r=n(8558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},291:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4503:(e,t,n)=>{var r=n(8463),i=n(2526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?i(n,l,u):r(n,l,u)}return n}},5525:(e,t,n)=>{var r=n(7009)["__core-js_shared__"];e.exports=r},9934:(e,t,n)=>{var r=n(8794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},7056:(e,t,n)=>{var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},7730:(e,t,n)=>{var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8528:(e,t,n)=>{var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:(e,t,n)=>{var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,h=t.length;if(u!=h&&!(l&&h>u))return!1;var d=c.get(e),f=c.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var g=e[p],y=t[p];if(a)var b=l?a(y,g,p,t,e,c):a(g,y,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,c)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},2206:(e,t,n)=>{var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),c=n(2230),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=c),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(f(e),f(t),r,l,h,d);return d.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},8078:(e,t,n)=>{var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var h=u;h--;){var d=l[h];if(!(c?d in t:i.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=c;++h<u;){var g=e[d=l[h]],y=t[d];if(o)var b=c?o(y,g,d,t,e,s):o(g,y,d,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},7038:(e,t,n)=>{var r=n(5506),i=n(4262),o=n(9156);e.exports=function(e){return o(i(e,void 0,r),e+"")}},1032:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:(e,t,n)=>{var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:(e,t,n)=>{var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:(e,t,n)=>{var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},8136:(e,t,n)=>{var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:(e,t,n)=>{var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:(e,t,n)=>{var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:(e,t,n)=>{var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:(e,t,n)=>{var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),c=n(9066),l=n(7907),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=l(r),v=l(i),g=l(o),y=l(a),b=l(s),x=c;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||o&&x(o.resolve())!=h||a&&x(new a)!=d||s&&x(new s)!=f)&&(x=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return p;case v:return u;case g:return h;case y:return d;case b:return f}return t}),e.exports=x},40:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},6417:(e,t,n)=>{var r=n(3082),i=n(4963),o=n(3629),a=n(6800),s=n(4635),c=n(9793);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,h=!1;++l<u;){var d=c(t[l]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++l!=u?h:!!(u=null==e?0:e.length)&&s(u)&&a(d,u)&&(o(e)||i(e))}},5403:(e,t,n)=>{var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:(e,t,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:(e,t,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:(e,t,n)=>{var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},548:(e,t,n)=>{var r=n(5763),i=n(1137),o=n(2936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},3529:(e,t,n)=>{var r=n(7197),i=n(4963),o=n(3629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},6800:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:(e,t,n)=>{var r=n(9231),i=n(1473),o=n(6800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5823:(e,t,n)=>{var r=n(3629),i=n(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},5964:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:(e,t,n)=>{var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:(e,t,n)=>{var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:e=>{e.exports=function(){this.__data__=[],this.size=0}},8699:(e,t,n)=>{var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:(e,t,n)=>{var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:(e,t,n)=>{var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:(e,t,n)=>{var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:(e,t,n)=>{var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:(e,t,n)=>{var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:(e,t,n)=>{var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:(e,t,n)=>{var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:(e,t,n)=>{var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:(e,t,n)=>{var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:(e,t,n)=>{var r=n(8136)(Object,"create");e.exports=r},8836:(e,t,n)=>{var r=n(2709)(Object.keys,Object);e.exports=r},4221:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},9494:(e,t,n)=>{e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4262:(e,t,n)=>{var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),r(e,this,l)}}},7009:(e,t,n)=>{var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5906:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},5774:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:e=>{e.exports=function(e){return this.__data__.has(e)}},2230:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:(e,t,n)=>{var r=n(7532),i=n(3197)(r);e.exports=i},3197:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:(e,t,n)=>{var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:e=>{e.exports=function(e){return this.__data__.get(e)}},8832:e=>{e.exports=function(e){return this.__data__.has(e)}},5077:(e,t,n)=>{var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7167:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},170:(e,t,n)=>{var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},9793:(e,t,n)=>{var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},1547:e=>{e.exports=function(e){return function(){return e}}},9231:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},5506:(e,t,n)=>{var r=n(5182);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},6181:(e,t,n)=>{var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5658:(e,t,n)=>{var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:e=>{e.exports=function(e){return e}},4963:(e,t,n)=>{var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3629:e=>{var t=Array.isArray;e.exports=t},1473:(e,t,n)=>{var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6279:(e,t,n)=>{var r=n(1473),i=n(3141);e.exports=function(e){return i(e)&&r(e)}},5174:(e,t,n)=>{e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},6609:(e,t,n)=>{var r=n(9931),i=n(6194),o=n(9494),a=o&&o.isDate,s=a?i(a):r;e.exports=s},8111:(e,t,n)=>{var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:(e,t,n)=>{var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3977:(e,t,n)=>{var r=n(9066),i=n(1137),o=n(3141),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},6769:(e,t,n)=>{var r=n(9066),i=n(3629),o=n(3141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},152:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:(e,t,n)=>{var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:(e,t,n)=>{var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},3961:(e,t,n)=>{var r=n(7538),i=n(8664),o=n(1473);e.exports=function(e){return o(e)?r(e,!0):i(e)}},5727:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},9151:(e,t,n)=>{var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},9286:(e,t,n)=>{var r=n(4173),i=n(9934)((function(e,t,n){r(e,t,n)}));e.exports=i},9694:e=>{e.exports=function(){}},6460:(e,t,n)=>{var r=n(4980),i=n(7038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},38:(e,t,n)=>{var r=n(9586),i=n(4084),o=n(5823),a=n(9793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},4485:(e,t,n)=>{var r=n(379);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},4286:(e,t,n)=>{var r=n(5182),i=n(3226),o=n(8794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},8174:e=>{e.exports=function(){return[]}},9488:e=>{e.exports=function(){return!1}},6576:(e,t,n)=>{var r=n(4503),i=n(3961);e.exports=function(e){return r(e,i(e))}},3518:(e,t,n)=>{var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2064:(e,t,n)=>{var r=n(9602);e.exports=function(e){return e&&e.length?r(e):[]}},6339:(e,t,n)=>{var r=n(6025),i=n(9602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1761:(e,t,n)=>{var r=n(1468),i=n(8794),o=n(6279),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,j=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Me=null;function Se(e){if(e=mi(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=gi(t),we(e.stateNode,e.type,t))}}function Ee(e){_e?Me?Me.push(e):Me=[e]:_e=e}function Te(){if(_e){var e=_e,t=Me;if(Me=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ce(){}var Ae=!1;function ke(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==_e||null!==Me)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(tu){Re=!1}function De(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Ne=!1,Ie=null,je=!1,ze=null,Fe={onError:function(e){Ne=!0,Ie=e}};function Ue(e,t,n,r,i,o,a,s,c){Ne=!1,Ie=null,De.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ut(s):0!==(o&=a)&&(r=ut(o))}else 0!==(a=n&~i)?r=ut(a):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,_t,Mt,St,Et=!1,Tt=[],Pt=null,Ct=null,At=null,kt=new Map,Ot=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=pi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Pt&&jt(Pt)&&(Pt=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),kt.forEach(zt),Ot.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),kt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=yt,o=Vt.transition;Vt.transition=null;try{yt=1,qt(e,t,n,r)}finally{yt=i,Vt.transition=o}}function Wt(e,t,n,r){var i=yt,o=Vt.transition;Vt.transition=null;try{yt=4,qt(e,t,n,r)}finally{yt=i,Vt.transition=o}}function qt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Ur(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Nt(Pt,e,t,n,r,i),!0;case"dragenter":return Ct=Nt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Nt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return kt.set(o,Nt(kt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Nt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=mi(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Ur(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=pi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ke:return 1;case Qe:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Kt=null;function Qt(){if(Kt)return Kt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(cn),un=j({},cn,{view:0,detail:0}),hn=rn(un),dn=j({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(dn),pn=rn(j({},dn,{dataTransfer:0})),mn=rn(j({},un,{relatedTarget:0})),vn=rn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=rn(j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(j({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Mn(){return _n}var Sn=rn(j({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=rn(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(j({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Pn=rn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=rn(j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],kn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Ln=u&&(!kn||On&&8<On&&11>=On),Dn=String.fromCharCode(32),Nn=!1;function In(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Bn(e,t,n,r){Ee(r),0<(t=Vr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Hn=null;function Gn(e){Dr(e,0)}function Wn(e){if(Y(vi(e)))return e}function qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Zn="function"===typeof $n.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function Jn(){Vn&&(Vn.detachEvent("onpropertychange",Kn),Hn=Vn=null)}function Kn(e){if("value"===e.propertyName&&Wn(Hn)){var t=[];Bn(t,Hn,e,xe(e)),ke(Gn,t)}}function Qn(e,t,n){"focusin"===e?(Jn(),Hn=n,(Vn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Hn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&lr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ar(n,o);var a=ar(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,dr=null,fr=null,pr=null,mr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==dr||dr!==X(r)||("selectionStart"in(r=dr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Vr(fr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var _r=wr("animationend"),Mr=wr("animationiteration"),Sr=wr("animationstart"),Er=wr("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Tr.set(e,t),c(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var kr=Pr[Ar];Cr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}Cr(_r,"onAnimationEnd"),Cr(Mr,"onAnimationIteration"),Cr(Sr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Er,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(Ue.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var u=Ie;Ne=!1,Ie=null,je||(je=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,l),o=c}}}if(je)throw e=ze,je=!1,ze=null,e}function Nr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Ir(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ir(t,!1,e),Ir(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ir("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Zt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}ke((function(){var r=o,i=xe(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var c=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":c=Sn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case _r:case Mr:case Sr:c=vn;break;case Er:c=Pn;break;case"scroll":c=hn;break;case"wheel":c=Cn;break;case"copy":case"cut":case"paste":c=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Br(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pi(l)&&!l[ui])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?pi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?s:vi(c),f=null==l?s:vi(l),(s=new u(m,p+"leave",c,n,i)).target=h,s.relatedTarget=f,m=null,pi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==c&&Gr(a,s,c,u,!1),null!==l&&null!==h&&Gr(a,h,l,u,!0)}if("select"===(c=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=qn;else if(Un(s))if(Yn)v=nr;else{v=er;var g=Qn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=tr);switch(v&&(v=v(e,r))?Bn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?vi(r):window,e){case"focusin":(Un(g)||"true"===g.contentEditable)&&(dr=g,fr=r,pr=null);break;case"focusout":pr=fr=dr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,vr(a,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":vr(a,n,i)}var y;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=Qt()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(g=Vr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!kn&&In(e,t)?(e=Qt(),Kt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Dr(a,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Br(e,o,i)),null!=(o=Oe(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Oe(n,o))&&a.unshift(Br(n,c,s)):i||null!=(c=Oe(n,o))&&a.push(Br(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var $r=null,Jr=null;function Kr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Qr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,ui="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,fi="__reactHandles$"+si;function pi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ci])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function gi(e){return e[li]||null}var yi=[],bi=-1;function xi(e){return{current:e}}function wi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function _i(e,t){bi++,yi[bi]=e.current,e.current=t}var Mi={},Si=xi(Mi),Ei=xi(!1),Ti=Mi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){wi(Ei),wi(Si)}function ki(e,t,n){if(Si.current!==Mi)throw Error(o(168));_i(Si,t),_i(Ei,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return j({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ti=Si.current,_i(Si,e),_i(Ei,Ei.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,wi(Ei),wi(Si),_i(Si,e)):wi(Ei),_i(Ei,n)}var Di=null,Ni=!1,Ii=!1;function ji(e){null===Di?Di=[e]:Di.push(e)}function zi(){if(!Ii&&null!==Di){Ii=!0;var e=0,t=yt;try{var n=Di;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Ni=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),qe(Ke,zi),i}finally{yt=t,Ii=!1}}return null}var Fi=[],Ui=0,Bi=null,Vi=0,Hi=[],Gi=0,Wi=null,qi=1,Yi="";function Xi(e,t){Fi[Ui++]=Vi,Fi[Ui++]=Bi,Bi=e,Vi=t}function Zi(e,t,n){Hi[Gi++]=qi,Hi[Gi++]=Yi,Hi[Gi++]=Wi,Wi=e;var r=qi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qi=1<<32-ot(t)+i|n<<i|r,Yi=o+e}else qi=1<<o|n<<i|r,Yi=e}function $i(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function Ji(e){for(;e===Bi;)Bi=Fi[--Ui],Fi[Ui]=null,Vi=Fi[--Ui],Fi[Ui]=null;for(;e===Wi;)Wi=Hi[--Gi],Hi[Gi]=null,Yi=Hi[--Gi],Hi[Gi]=null,qi=Hi[--Gi],Hi[Gi]=null}var Ki=null,Qi=null,eo=!1,to=null;function no(e,t){var n=Cl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ki=e,Qi=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ki=e,Qi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ki=e,Qi=null,!0);default:return!1}}function io(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function oo(e){if(eo){var t=Qi;if(t){var n=t;if(!ro(e,t)){if(io(e))throw Error(o(418));t=oi(n.nextSibling);var r=Ki;t&&ro(e,t)?no(r,n):(e.flags=-4097&e.flags|2,eo=!1,Ki=e)}}else{if(io(e))throw Error(o(418));e.flags=-4097&e.flags|2,eo=!1,Ki=e}}}function ao(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ki=e}function so(e){if(e!==Ki)return!1;if(!eo)return ao(e),eo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Kr(e.type,e.memoizedProps)),t&&(t=Qi)){if(io(e))throw co(),Error(o(418));for(;t;)no(e,t),t=oi(t.nextSibling)}if(ao(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Qi=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Qi=null}}else Qi=Ki?oi(e.stateNode.nextSibling):null;return!0}function co(){for(var e=Qi;e;)e=oi(e.nextSibling)}function lo(){Qi=Ki=null,eo=!1}function uo(e){null===to?to=[e]:to.push(e)}var ho=x.ReactCurrentBatchConfig;function fo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var po=xi(null),mo=null,vo=null,go=null;function yo(){go=vo=mo=null}function bo(e){var t=po.current;wi(po),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){mo=e,go=vo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(go!==e)if(e={context:e,memoizedValue:t,next:null},null===vo){if(null===mo)throw Error(o(308));vo=e,mo.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return t}var Mo=null;function So(e){null===Mo?Mo=[e]:Mo.push(e)}function Eo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(a=0,u=l=c=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=h}}function No(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Io=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jc(),i=Kc(e),o=ko(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Qc(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jc(),i=Kc(e),o=ko(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Qc(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jc(),r=Kc(e),i=ko(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(Qc(t,e,r,n),Ro(t,e,r))}};function Fo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,o))}function Uo(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Ci(t)?Ti:Si.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Io,Co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Ci(t)?Ti:Si.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Do(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Io&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===M?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Wo(o)===t.type)?((r=i(t,n.props)).ref=Ho(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ho(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Rl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case _:return(t=Nl(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Rl(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:h(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,h=o,m=o=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=f(i,h,s[m],c);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===u?l=g:u.sibling=g,u=g,h=v}if(m===s.length)return n(i,h),eo&&Xi(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],c))&&(o=a(h,o,m),null===u?l=h:u.sibling=h,u=h);return eo&&Xi(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(v=p(h,i,m,s[m],c))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?l=v:u.sibling=v,u=v);return e&&h.forEach((function(e){return t(i,e)})),eo&&Xi(i,m),l}function v(i,s,c,l){var u=N(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===h?u=b:h.sibling=b,h=b,m=g}if(y.done)return n(i,m),eo&&Xi(i,v),u;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=d(i,y.value,l))&&(s=a(y,s,v),null===h?u=y:h.sibling=y,h=y);return eo&&Xi(i,v),u}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),eo&&Xi(i,v),u}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===M&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===M){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Wo(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ho(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===M?((o=Rl(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Ol(a.type,a.key,a.props,null,r.mode,c)).ref=Ho(r,o,a),c.return=r,r=c)}return s(r);case _:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nl(a,r.mode,c)).return=r,r=o}return s(r);case R:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return m(r,o,a,c);if(N(a))return v(r,o,a,c);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Dl(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Yo=qo(!0),Xo=qo(!1),Zo={},$o=xi(Zo),Jo=xi(Zo),Ko=xi(Zo);function Qo(e){if(e===Zo)throw Error(o(174));return e}function ea(e,t){switch(_i(Ko,t),_i(Jo,e),_i($o,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi($o),_i($o,t)}function ta(){wi($o),wi(Jo),wi(Ko)}function na(e){Qo(Ko.current);var t=Qo($o.current),n=ce(t,e.type);t!==n&&(_i(Jo,e),_i($o,n))}function ra(e){Jo.current===e&&(wi($o),wi(Jo))}var ia=xi(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var ca=x.ReactCurrentDispatcher,la=x.ReactCurrentBatchConfig,ua=0,ha=null,da=null,fa=null,pa=!1,ma=!1,va=0,ga=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(ua=a,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ma){a=0;do{if(ma=!1,va=0,25<=a)throw Error(o(301));a+=1,fa=da=null,t.updateQueue=null,ca.current=os,e=n(r,i)}while(ma)}if(ca.current=ns,t=null!==da&&null!==da.next,ua=0,fa=da=ha=null,pa=!1,t)throw Error(o(300));return e}function wa(){var e=0!==va;return va=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?ha.memoizedState=fa=e:fa=fa.next=e,fa}function Ma(){if(null===da){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===fa?ha.memoizedState:fa.next;if(null!==t)fa=t,da=e;else{if(null===e)throw Error(o(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===fa?ha.memoizedState=fa=e:fa=fa.next=e}return fa}function Sa(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var h=u.lane;if((ua&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,s=r):l=l.next=d,ha.lanes|=h,Lc|=h}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,rr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ha.lanes|=a,Lc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);rr(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Ca(e,t){var n=ha,r=Ma(),i=t(),a=!rr(r.memoizedState,i);if(a&&(r.memoizedState=i,vs=!0),r=r.queue,Ua(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,Na(9,ka.bind(null,n,r,i,t),void 0,null),null===Tc)throw Error(o(349));0!==(30&ua)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&La(e)}function Oa(e,t,n){return n((function(){Ra(t)&&La(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function La(e){var t=To(e,1);null!==t&&Qc(t,e,1,-1)}function Da(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,ha,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return Ma().memoizedState}function ja(e,t,n,r){var i=_a();ha.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ma();r=void 0===r?null:r;var o=void 0;if(null!==da){var a=da.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=Na(t,n,o,r))}ha.flags|=e,i.memoizedState=Na(1|t,n,o,r)}function Fa(e,t){return ja(8390656,8,e,t)}function Ua(e,t){return za(2048,8,e,t)}function Ba(e,t){return za(4,2,e,t)}function Va(e,t){return za(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ha.bind(null,t,e),n)}function Wa(){}function qa(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),ha.lanes|=n,Lc|=n,e.baseState=!0),t)}function Za(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{yt=n,la.transition=r}}function $a(){return Ma().memoizedState}function Ja(e,t,n){var r=Kc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))es(t,n);else if(null!==(n=Eo(e,t,n,r))){Qc(n,e,r,Jc()),ts(n,t,r)}}function Ka(e,t,n){var r=Kc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a)){var c=t.interleaved;return null===c?(i.next=i,So(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Eo(e,t,i,r))&&(Qc(n,e,r,i=Jc()),ts(n,t,r))}}function Qa(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function es(e,t){ma=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:_o,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:_o,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Da,useDebugValue:Wa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Za.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ha,i=_a();if(eo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tc)throw Error(o(349));0!==(30&ua)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Tc.identifierPrefix;if(eo){var n=Yi;t=":"+t+"R"+(n=(qi&~(1<<32-ot(qi)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:_o,useCallback:qa,useContext:_o,useEffect:Ua,useImperativeHandle:Ga,useInsertionEffect:Ba,useLayoutEffect:Va,useMemo:Ya,useReducer:Ea,useRef:Ia,useState:function(){return Ea(Sa)},useDebugValue:Wa,useDeferredValue:function(e){return Xa(Ma(),da.memoizedState,e)},useTransition:function(){return[Ea(Sa)[0],Ma().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1},os={readContext:_o,useCallback:qa,useContext:_o,useEffect:Ua,useImperativeHandle:Ga,useInsertionEffect:Ba,useLayoutEffect:Va,useMemo:Ya,useReducer:Ta,useRef:Ia,useState:function(){return Ta(Sa)},useDebugValue:Wa,useDeferredValue:function(e){var t=Ma();return null===da?t.memoizedState=e:Xa(t,da.memoizedState,e)},useTransition:function(){return[Ta(Sa)[0],Ma().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1};function as(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ko(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bc||(Bc=!0,Vc=r),cs(0,t)},n}function hs(e,t,n){(n=ko(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){cs(0,t),"function"!==typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ko(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ms=x.ReactCurrentOwner,vs=!1;function gs(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var o=t.ref;return wo(t,i),r=xa(e,t,n,r,o,i),n=wa(),null===e||vs?(eo&&n&&$i(t),t.flags|=1,gs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Al(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=kl(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(vs=!0)}}return Ms(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(kc,Ac),Ac|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(kc,Ac),Ac|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(kc,Ac),Ac|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(kc,Ac),Ac|=r;return gs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var o=Ci(n)?Ti:Si.current;return o=Pi(t,o),wo(t,i),n=xa(e,t,n,r,o,i),r=wa(),null===e||vs?(eo&&r&&$i(t),t.flags|=1,gs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Ss(e,t,n,r,i){if(Ci(n)){var o=!0;Ri(t)}else o=!1;if(wo(t,i),null===t.stateNode)Us(e,t),Uo(t,n,r),Vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=_o(l):l=Pi(t,l=Ci(n)?Ti:Si.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Bo(t,a,r,l),Po=!1;var d=t.memoizedState;a.state=d,Do(t,r,a,i),c=t.memoizedState,s!==r||d!==c||Ei.current||Po?("function"===typeof u&&(jo(t,n,u,r),c=t.memoizedState),(s=Po||Fo(t,n,s,r,d,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ao(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:fo(t.type,s),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=_o(c):c=Pi(t,c=Ci(n)?Ti:Si.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==c)&&Bo(t,a,r,c),Po=!1,d=t.memoizedState,a.state=d,Do(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Ei.current||Po?("function"===typeof f&&(jo(t,n,f,r),p=t.memoizedState),(l=Po||Fo(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,o,i)}function Es(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Bs(e,t,o);r=t.stateNode,ms.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):gs(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),ea(e,t.containerInfo)}function Ps(e,t,n,r,i){return lo(),uo(i),t.flags|=256,gs(e,t,n,r),t.child}var Cs,As,ks,Os,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,i=t.pendingProps,a=ia.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ia,1&a),null===e)return oo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ll(c,i,0,null),e=Rl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Rs,e):Ns(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Is(e,t,s,r=ss(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Rl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Is(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Is(e,t,s,r=ss(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),vs||c){if(null!==(r=Tc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,To(e,i),Qc(r,e,i,-1))}return dl(),Is(e,t,s,r=ss(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Qi=oi(i.nextSibling),Ki=t,eo=!0,to=null,null!==e&&(Hi[Gi++]=qi,Hi[Gi++]=Yi,Hi[Gi++]=Wi,qi=e.id,Yi=e.overflow,Wi=t),t=Ns(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=kl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=kl(r,s):(s=Rl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=kl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Is(e,t,n,r){return null!==r&&uo(r),Yo(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!eo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ci(t.type)&&Ai(),Hs(t),null;case 3:return r=t.stateNode,ta(),wi(Ei),wi(Si),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(so(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==to&&(rl(to),to=null))),As(e,t),Hs(t),null;case 5:ra(t);var i=Qo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)ks(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=Qo($o.current),so(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ci]=t,r[li]=a,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":$(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":ie(r,a),Nr("invalid",r)}for(var c in ge(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Nr("scroll",r)}switch(n){case"input":q(r),Q(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[ci]=t,e[li]=r,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(c=ye(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":$(e,r),i=Z(e,r),Nr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Nr("invalid",e)}for(a in ge(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Nr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Ko.current),Qo($o.current),so(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(a=r.nodeValue!==n)&&null!==(e=Ki))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return Hs(t),null;case 13:if(wi(ia),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(eo&&null!==Qi&&0!==(1&t.mode)&&0===(128&t.flags))co(),lo(),t.flags|=98560,a=!1;else if(a=so(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[ci]=t}else lo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==to&&(rl(to),to=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Oc&&(Oc=3):dl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return ta(),As(e,t),null===e&&zr(t.stateNode.containerInfo),Hs(t),null;case 10:return bo(t.type._context),Hs(t),null;case 19:if(wi(ia),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Vs(a,!1);else{if(0!==Oc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=oa(e))){for(t.flags|=128,Vs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Fc&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!eo)return Hs(t),null}else 2*$e()-a.renderingStartTime>Fc&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ia.current,_i(ia,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ac)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(Ji(t),t.tag){case 1:return Ci(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),wi(Ei),wi(Si),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(wi(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));lo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(ia),null;case 4:return ta(),null;case 10:return bo(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},ks=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo($o.current);var o,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ge(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Nr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wl(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){wl(e,t,r)}}var Ks=!1;function Qs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Js(t,n,o)}i=i.next}while(i!==r)}}function ec(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nc(e){var t=e.alternate;null!==t&&(e.alternate=null,nc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rc(e){return 5===e.tag||3===e.tag||4===e.tag}function ic(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(oc(e,t,n),e=e.sibling;null!==e;)oc(e,t,n),e=e.sibling}function ac(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ac(e,t,n),e=e.sibling;null!==e;)ac(e,t,n),e=e.sibling}var sc=null,cc=!1;function lc(e,t,n){for(n=n.child;null!==n;)uc(e,t,n),n=n.sibling}function uc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ys||$s(n,t);case 6:var r=sc,i=cc;sc=null,lc(e,t,n),cc=i,null!==(sc=r)&&(cc?(e=sc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sc.removeChild(n.stateNode));break;case 18:null!==sc&&(cc?(e=sc,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Bt(e)):ii(sc,n.stateNode));break;case 4:r=sc,i=cc,sc=n.stateNode.containerInfo,cc=!0,lc(e,t,n),sc=r,cc=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Js(n,t,a),i=i.next}while(i!==r)}lc(e,t,n);break;case 1:if(!Ys&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wl(n,t,s)}lc(e,t,n);break;case 21:lc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,lc(e,t,n),Ys=r):lc(e,t,n);break;default:lc(e,t,n)}}function hc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function dc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:sc=c.stateNode,cc=!1;break e;case 3:case 4:sc=c.stateNode.containerInfo,cc=!0;break e}c=c.return}if(null===sc)throw Error(o(160));uc(a,s,i),sc=null,cc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){wl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fc(t,e),t=t.sibling}function fc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dc(t,e),pc(e),4&r){try{Qs(3,e,e.return),ec(3,e)}catch(v){wl(e,e.return,v)}try{Qs(5,e,e.return)}catch(v){wl(e,e.return,v)}}break;case 1:dc(t,e),pc(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(dc(t,e),pc(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){wl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(i,a),ye(c,s);var u=ye(c,a);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?ue(i,d):"children"===h?he(i,d):b(i,h,d,u)}switch(c){case"input":K(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[li]=a}catch(v){wl(e,e.return,v)}}break;case 6:if(dc(t,e),pc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){wl(e,e.return,v)}}break;case 3:if(dc(t,e),pc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){wl(e,e.return,v)}break;case 4:default:dc(t,e),pc(e);break;case 13:dc(t,e),pc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=$e())),4&r&&hc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||h,dc(t,e),Ys=u):dc(t,e),pc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(d=Zs=h;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:Qs(4,f,f.return);break;case 1:$s(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){wl(r,n,v)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){yc(d);continue}}null!==p?(p.return=f,Zs=p):yc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=pe("display",s))}catch(v){wl(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){wl(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dc(t,e),pc(e),4&r&&hc(e);case 21:}}function pc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ac(e,ic(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;oc(e,ic(e),a);break;default:throw Error(o(161))}}catch(s){wl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mc(e,t,n){Zs=e,vc(e,t,n)}function vc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||qs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=qs;var l=Ys;if(qs=a,(Ys=c)&&!l)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?bc(i):null!==c?(c.return=a,Zs=c):bc(i);for(;null!==o;)Zs=o,vc(o,t,n),o=o.sibling;Zs=i,qs=s,Ys=l}gc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):gc(e)}}function gc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ec(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&No(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}No(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&tc(t)}catch(f){wl(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function yc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function bc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ec(4,t)}catch(c){wl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){wl(t,i,c)}}var o=t.return;try{tc(t)}catch(c){wl(t,o,c)}break;case 5:var a=t.return;try{tc(t)}catch(c){wl(t,a,c)}}}catch(c){wl(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var xc,wc=Math.ceil,_c=x.ReactCurrentDispatcher,Mc=x.ReactCurrentOwner,Sc=x.ReactCurrentBatchConfig,Ec=0,Tc=null,Pc=null,Cc=0,Ac=0,kc=xi(0),Oc=0,Rc=null,Lc=0,Dc=0,Nc=0,Ic=null,jc=null,zc=0,Fc=1/0,Uc=null,Bc=!1,Vc=null,Hc=null,Gc=!1,Wc=null,qc=0,Yc=0,Xc=null,Zc=-1,$c=0;function Jc(){return 0!==(6&Ec)?$e():-1!==Zc?Zc:Zc=$e()}function Kc(e){return 0===(1&e.mode)?1:0!==(2&Ec)&&0!==Cc?Cc&-Cc:null!==ho.transition?(0===$c&&($c=pt()),$c):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function Qc(e,t,n,r){if(50<Yc)throw Yc=0,Xc=null,Error(o(185));vt(e,n,r),0!==(2&Ec)&&e===Tc||(e===Tc&&(0===(2&Ec)&&(Dc|=n),4===Oc&&il(e,Cc)),el(e,r),1===n&&0===Ec&&0===(1&t.mode)&&(Fc=$e()+500,Ni&&zi()))}function el(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ot(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Tc?Cc:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ni=!0,ji(e)}(ol.bind(null,e)):ji(ol.bind(null,e)),ni((function(){0===(6&Ec)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ke;break;case 4:n=Qe;break;case 16:default:n=et;break;case 536870912:n=nt}n=Tl(n,tl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tl(e,t){if(Zc=-1,$c=0,0!==(6&Ec))throw Error(o(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ht(e,e===Tc?Cc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fl(e,r);else{t=r;var i=Ec;Ec|=2;var a=hl();for(Tc===e&&Cc===t||(Uc=null,Fc=$e()+500,ll(e,t));;)try{ml();break}catch(c){ul(e,c)}yo(),_c.current=a,Ec=i,null!==Pc?t=0:(Tc=null,Cc=0,t=Oc)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=nl(e,i))),1===t)throw n=Rc,ll(e,0),il(e,r),el(e,$e()),n;if(6===t)il(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=fl(e,r))&&(0!==(a=ft(e))&&(r=a,t=nl(e,a))),1===t))throw n=Rc,ll(e,0),il(e,r),el(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:yl(e,jc,Uc);break;case 3:if(il(e,r),(130023424&r)===r&&10<(t=zc+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Jc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(yl.bind(null,e,jc,Uc),t);break}yl(e,jc,Uc);break;case 4:if(il(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wc(r/1960))-r)){e.timeoutHandle=Qr(yl.bind(null,e,jc,Uc),r);break}yl(e,jc,Uc);break;default:throw Error(o(329))}}}return el(e,$e()),e.callbackNode===n?tl.bind(null,e):null}function nl(e,t){var n=Ic;return e.current.memoizedState.isDehydrated&&(ll(e,t).flags|=256),2!==(e=fl(e,t))&&(t=jc,jc=n,null!==t&&rl(t)),e}function rl(e){null===jc?jc=e:jc.push.apply(jc,e)}function il(e,t){for(t&=~Nc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ol(e){if(0!==(6&Ec))throw Error(o(327));bl();var t=ht(e,0);if(0===(1&t))return el(e,$e()),null;var n=fl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=nl(e,r))}if(1===n)throw n=Rc,ll(e,0),il(e,t),el(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yl(e,jc,Uc),el(e,$e()),null}function al(e,t){var n=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=n)&&(Fc=$e()+500,Ni&&zi())}}function sl(e){null!==Wc&&0===Wc.tag&&0===(6&Ec)&&bl();var t=Ec;Ec|=1;var n=Sc.transition,r=yt;try{if(Sc.transition=null,yt=1,e)return e()}finally{yt=r,Sc.transition=n,0===(6&(Ec=t))&&zi()}}function cl(){Ac=kc.current,wi(kc)}function ll(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:ta(),wi(Ei),wi(Si),sa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:wi(ia);break;case 10:bo(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Tc=e,Pc=e=kl(e.current,null),Cc=Ac=t,Oc=0,Rc=null,Nc=Dc=Lc=0,jc=Ic=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Mo=null}return e}function ul(e,t){for(;;){var n=Pc;try{if(yo(),ca.current=ns,pa){for(var r=ha.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ua=0,fa=da=ha=null,ma=!1,va=0,Mc.current=null,null===n||null===n.return){Oc=1,Rc=t,Pc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Cc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,ps(p,s,c,0,t),1&p.mode&&ds(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){ds(a,u,t),dl();break e}l=Error(o(426))}else if(eo&&1&c.mode){var g=fs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ps(g,s,c,0,t),uo(as(l,c));break e}}a=l=as(l,c),4!==Oc&&(Oc=2),null===Ic?Ic=[a]:Ic.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,us(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hc||!Hc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,hs(a,c,t));break e}}a=a.return}while(null!==a)}gl(n)}catch(x){t=x,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function hl(){var e=_c.current;return _c.current=ns,null===e?ns:e}function dl(){0!==Oc&&3!==Oc&&2!==Oc||(Oc=4),null===Tc||0===(268435455&Lc)&&0===(268435455&Dc)||il(Tc,Cc)}function fl(e,t){var n=Ec;Ec|=2;var r=hl();for(Tc===e&&Cc===t||(Uc=null,ll(e,t));;)try{pl();break}catch(i){ul(e,i)}if(yo(),Ec=n,_c.current=r,null!==Pc)throw Error(o(261));return Tc=null,Cc=0,Oc}function pl(){for(;null!==Pc;)vl(Pc)}function ml(){for(;null!==Pc&&!Xe();)vl(Pc)}function vl(e){var t=xc(e.alternate,e,Ac);e.memoizedProps=e.pendingProps,null===t?gl(e):Pc=t,Mc.current=null}function gl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ac)))return void(Pc=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Oc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Oc&&(Oc=5)}function yl(e,t,n){var r=yt,i=Sc.transition;try{Sc.transition=null,yt=1,function(e,t,n,r){do{bl()}while(null!==Wc);if(0!==(6&Ec))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tc&&(Pc=Tc=null,Cc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Tl(et,(function(){return bl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sc.transition,Sc.transition=null;var s=yt;yt=1;var c=Ec;Ec|=4,Mc.current=null,function(e,t){if($r=Ht,lr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=s+i),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=s),f===a&&++h===r&&(l=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:fo(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){wl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=Ks,Ks=!1}(e,n),fc(n,e),ur(Jr),Ht=!!$r,Jr=$r=null,e.current=n,mc(n,e,i),Ze(),Ec=c,yt=s,Sc.transition=a}else e.current=n;if(Gc&&(Gc=!1,Wc=e,qc=i),a=e.pendingLanes,0===a&&(Hc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),el(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,e=Vc,Vc=null,e;0!==(1&qc)&&0!==e.tag&&bl(),a=e.pendingLanes,0!==(1&a)?e===Xc?Yc++:(Yc=0,Xc=e):Yc=0,zi()}(e,t,n,r)}finally{Sc.transition=i,yt=r}return null}function bl(){if(null!==Wc){var e=bt(qc),t=Sc.transition,n=yt;try{if(Sc.transition=null,yt=16>e?16:e,null===Wc)var r=!1;else{if(e=Wc,Wc=null,qc=0,0!==(6&Ec))throw Error(o(331));var i=Ec;for(Ec|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zs=u;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:Qs(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zs=d;else for(;null!==Zs;){var f=(h=Zs).sibling,p=h.return;if(nc(h),h===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:Qs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var x=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Zs=x;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:ec(9,c)}}catch(_){wl(c,c.return,_)}if(c===s){Zs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Zs=w;break e}Zs=c.return}}if(Ec=i,zi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{yt=n,Sc.transition=t}}return!1}function xl(e,t,n){e=Oo(e,t=us(0,t=as(n,t),1),1),t=Jc(),null!==e&&(vt(e,1,t),el(e,t))}function wl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){t=Oo(t,e=hs(t,e=as(n,e),1),1),e=Jc(),null!==t&&(vt(t,1,e),el(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jc(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(Cc&n)===n&&(4===Oc||3===Oc&&(130023424&Cc)===Cc&&500>$e()-zc?ll(e,0):Nc|=n),el(e,t)}function Ml(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Jc();null!==(e=To(e,t))&&(vt(e,t,n),el(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ml(e,n)}function El(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ml(e,n)}function Tl(e,t){return qe(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cl(e,t,n,r){return new Pl(e,t,n,r)}function Al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kl(e,t){var n=e.alternate;return null===n?((n=Cl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Al(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case M:return Rl(n.children,i,a,t);case S:s=8,i|=8;break;case E:return(e=Cl(12,n,t,2|i)).elementType=E,e.lanes=a,e;case A:return(e=Cl(13,n,t,i)).elementType=A,e.lanes=a,e;case k:return(e=Cl(19,n,t,i)).elementType=k,e.lanes=a,e;case L:return Ll(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case C:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Cl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rl(e,t,n,r){return(e=Cl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Cl(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Dl(e,t,n){return(e=Cl(6,e,null,t)).lanes=n,e}function Nl(e,t,n){return(t=Cl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,o,a,s,c){return e=new Il(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Cl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(o),e}function zl(e){if(!e)return Mi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Oi(e,n,t)}return t}function Fl(e,t,n,r,i,o,a,s,c){return(e=jl(n,r,!0,e,0,o,0,s,c)).context=zl(null),n=e.current,(o=ko(r=Jc(),i=Kc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,vt(e,i,r),el(e,r),e}function Ul(e,t,n,r){var i=t.current,o=Jc(),a=Kc(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ko(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,a))&&(Qc(e,i,a,o),Ro(e,i,a)),a}function Bl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){Vl(e,t),(e=e.alternate)&&Vl(e,t)}xc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),lo();break;case 5:na(t);break;case 1:Ci(t.type)&&Ri(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(po,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(_i(ia,1&ia.current),null!==(e=Bs(e,t,n))?e.sibling:null);_i(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Bs(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,eo&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var i=Pi(t,Si.current);wo(t,n),i=xa(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Co(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Vo(t,r,e,n),t=Es(null,t,r,!0,a,n)):(t.tag=0,eo&&a&&$i(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Al(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=fo(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=bs(null,t,r,fo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ao(e,t),Do(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=as(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=as(Error(o(424)),t));break e}for(Qi=oi(t.stateNode.containerInfo.firstChild),Ki=t,eo=!0,to=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(lo(),r===i){t=Bs(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=32),_s(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&oo(t),null;case 13:return Ds(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(po,r._currentValue),r._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===i.children&&!Ei.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=ko(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wo(t,n),r=r(i=_o(i)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return i=fo(r=t.type,t.pendingProps),bs(e,t,r,i=fo(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fo(r,i),Us(e,t),t.tag=1,Ci(r)?(e=!0,Ri(t)):e=!1,wo(t,n),Uo(t,r,i),Vo(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Fs(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}function ql(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Bl(a);s.call(e)}}Ul(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Bl(a);o.call(e)}}var a=Fl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[ui]=a.current,zr(8===e.nodeType?e.parentNode:e),sl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Bl(c);s.call(e)}}var c=jl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[ui]=c.current,zr(8===e.nodeType?e.parentNode:e),sl((function(){Ul(t,c,n,r)})),c}(n,t,e,i,r);return Bl(a)}ql.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Ul(e,t,null,null)},ql.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sl((function(){Ul(null,e,null,null)})),t[ui]=null}},ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),el(t,$e()),0===(6&Ec)&&(Fc=$e()+500,zi()))}break;case 13:sl((function(){var t=To(e,1);if(null!==t){var n=Jc();Qc(t,e,1,n)}})),Hl(e,1)}},wt=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)Qc(t,e,134217728,Jc());Hl(e,134217728)}},_t=function(e){if(13===e.tag){var t=Kc(e),n=To(e,t);if(null!==n)Qc(n,e,t,Jc());Hl(e,t)}},Mt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(o(90));Y(r),K(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=al,Ce=sl;var Jl={usingClientEntryPoint:!1,Events:[mi,vi,gi,Ee,Te,al]},Kl={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ql={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{rt=eu.inject(Ql),it=eu}catch(tu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,zr(8===e.nodeType?e.parentNode:e),new Wl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return sl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Fl(t,null,e,1,null!=n?n:null,i,0,a,s),e[ui]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ql(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return!!e._reactRootContainer&&(sl((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[ui]=null}))})),!0)},t.unstable_batchedUpdates=al,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $l(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,M={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:M.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+C(c,0):o,w(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var u=o+C(s=e[l],l);c+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=A(s=s.value,t,i,u=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function k(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:M};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function w(e){if(v=!1,x(e),!m)if(null!==r(l))m=!0,L(_);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function _(e,n){m=!1,v&&(v=!1,y(T),T=-1),p=!0;var o=f;try{for(x(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),x(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,S=!1,E=null,T=-1,P=5,C=-1;function A(){return!(t.unstable_now()-C<P)}function k(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?M():(S=!1,E=null)}}else S=!1}if("function"===typeof b)M=function(){b(k)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=k,M=function(){R.postMessage(null)}}else M=function(){g(k,0)};function L(e){E=e,S||(S=!0,M())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(v?(y(T),T=-1):v=!0,D(w,o-a))):(e.sortIndex=s,n(l,e),m||p||(m=!0,L(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},9613:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.nc=void 0,(()=>{"use strict";var e=n(2791),t=n.t(e,2),r=n(1250);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(9613),c=n.n(s),l="-ms-",u="-moz-",h="-webkit-",d="comm",f="rule",p="decl",m="@import",v="@keyframes",g="@layer",y=Math.abs,b=String.fromCharCode,x=Object.assign;function w(e){return e.trim()}function _(e,t){return(e=t.exec(e))?e[0]:e}function M(e,t,n){return e.replace(t,n)}function S(e,t){return e.indexOf(t)}function E(e,t){return 0|e.charCodeAt(t)}function T(e,t,n){return e.slice(t,n)}function P(e){return e.length}function C(e){return e.length}function A(e,t){return t.push(e),e}function k(e,t){return e.filter((function(e){return!_(e,t)}))}var O=1,R=1,L=0,D=0,N=0,I="";function j(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:O,column:R,length:a,return:"",siblings:s}}function z(e,t){return x(j("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function F(e){for(;e.root;)e=z(e.root,{children:[e]});A(e,e.siblings)}function U(){return N=D>0?E(I,--D):0,R--,10===N&&(R=1,O--),N}function B(){return N=D<L?E(I,D++):0,R++,10===N&&(R=1,O++),N}function V(){return E(I,D)}function H(){return D}function G(e,t){return T(I,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function q(e){return O=R=1,L=P(I=e),D=0,[]}function Y(e){return I="",e}function X(e){return w(G(D-1,J(91===e?e+2:40===e?e+1:e)))}function Z(e){for(;(N=V())&&N<33;)B();return W(e)>2||W(N)>3?"":" "}function $(e,t){for(;--t&&B()&&!(N<48||N>102||N>57&&N<65||N>70&&N<97););return G(e,H()+(t<6&&32==V()&&32==B()))}function J(e){for(;B();)switch(N){case e:return D;case 34:case 39:34!==e&&39!==e&&J(N);break;case 40:41===e&&J(e);break;case 92:B()}return D}function K(e,t){for(;B()&&e+N!==57&&(e+N!==84||47!==V()););return"/*"+G(t,D-1)+"*"+b(47===e?e:B())}function Q(e){for(;!W(V());)B();return G(e,D)}function ee(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function te(e,t,n,r){switch(e.type){case g:if(e.children.length)break;case m:case p:return e.return=e.return||e.value;case d:return"";case v:return e.return=e.value+"{"+ee(e.children,r)+"}";case f:if(!P(e.value=e.props.join(",")))return""}return P(n=ee(e.children,r))?e.return=e.value+"{"+n+"}":""}function ne(e,t,n){switch(function(e,t){return 45^E(e,0)?(((t<<2^E(e,0))<<2^E(e,1))<<2^E(e,2))<<2^E(e,3):0}(e,t)){case 5103:return h+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return h+e+e;case 4789:return u+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return h+e+u+e+l+e+e;case 5936:switch(E(e,t+11)){case 114:return h+e+l+M(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return h+e+l+M(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return h+e+l+M(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return h+e+l+e+e;case 6165:return h+e+l+"flex-"+e+e;case 5187:return h+e+M(e,/(\w+).+(:[^]+)/,h+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return h+e+l+"flex-item-"+M(e,/flex-|-self/g,"")+(_(e,/flex-|baseline/)?"":l+"grid-row-"+M(e,/flex-|-self/g,""))+e;case 4675:return h+e+l+"flex-line-pack"+M(e,/align-content|flex-|-self/g,"")+e;case 5548:return h+e+l+M(e,"shrink","negative")+e;case 5292:return h+e+l+M(e,"basis","preferred-size")+e;case 6060:return h+"box-"+M(e,"-grow","")+h+e+l+M(e,"grow","positive")+e;case 4554:return h+M(e,/([^-])(transform)/g,"$1"+h+"$2")+e;case 6187:return M(M(M(e,/(zoom-|grab)/,h+"$1"),/(image-set)/,h+"$1"),e,"")+e;case 5495:case 3959:return M(e,/(image-set\([^]*)/,h+"$1$`$1");case 4968:return M(M(e,/(.+:)(flex-)?(.*)/,h+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+h+e+e;case 4200:if(!_(e,/flex-|baseline/))return l+"grid-column-align"+T(e,t)+e;break;case 2592:case 3360:return l+M(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,_(e.props,/grid-\w+-end/)}))?~S(e+(n=n[t].value),"span")?e:l+M(e,"-start","")+e+l+"grid-row-span:"+(~S(n,"span")?_(n,/\d+/):+_(n,/\d+/)-+_(e,/\d+/))+";":l+M(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return _(e.props,/grid-\w+-start/)}))?e:l+M(M(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return M(e,/(.+)-inline(.+)/,h+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(E(e,t+1)){case 109:if(45!==E(e,t+4))break;case 102:return M(e,/(.+:)(.+)-([^]+)/,"$1"+h+"$2-$3$1"+u+(108==E(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch")?ne(M(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return M(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,a,s){return l+n+":"+r+s+(i?l+n+"-span:"+(o?a:+a-+r)+s:"")+e}));case 4949:if(121===E(e,t+6))return M(e,":",":"+h)+e;break;case 6444:switch(E(e,45===E(e,14)?18:11)){case 120:return M(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+h+(45===E(e,14)?"inline-":"")+"box$3$1"+h+"$2$3$1"+l+"$2box$3")+e;case 100:return M(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return M(e,"scroll-","scroll-snap-")+e}return e}function re(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case p:return void(e.return=ne(e.value,e.length,n));case v:return ee([z(e,{value:M(e.value,"@","@"+h)})],r);case f:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(_(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":F(z(e,{props:[M(t,/:(read-\w+)/,":"+u+"$1")]})),F(z(e,{props:[t]})),x(e,{props:k(n,r)});break;case"::placeholder":F(z(e,{props:[M(t,/:(plac\w+)/,":"+h+"input-$1")]})),F(z(e,{props:[M(t,/:(plac\w+)/,":"+u+"$1")]})),F(z(e,{props:[M(t,/:(plac\w+)/,l+"input-$1")]})),F(z(e,{props:[t]})),x(e,{props:k(n,r)})}return""}))}}function ie(e){return Y(oe("",null,null,null,[""],e=q(e),0,[0],e))}function oe(e,t,n,r,i,o,a,s,c){for(var l=0,u=0,h=a,d=0,f=0,p=0,m=1,v=1,g=1,y=0,x="",w=i,_=o,T=r,C=x;v;)switch(p=y,y=B()){case 40:if(108!=p&&58==E(C,h-1)){-1!=S(C+=M(X(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:C+=X(y);break;case 9:case 10:case 13:case 32:C+=Z(p);break;case 92:C+=$(H()-1,7);continue;case 47:switch(V()){case 42:case 47:A(se(K(B(),H()),t,n,c),c);break;default:C+="/"}break;case 123*m:s[l++]=P(C)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:-1==g&&(C=M(C,/\f/g,"")),f>0&&P(C)-h&&A(f>32?ce(C+";",r,n,h-1,c):ce(M(C," ","")+";",r,n,h-2,c),c);break;case 59:C+=";";default:if(A(T=ae(C,t,n,l,u,i,s,x,w=[],_=[],h,o),o),123===y)if(0===u)oe(C,t,T,T,w,o,h,s,_);else switch(99===d&&110===E(C,3)?100:d){case 100:case 108:case 109:case 115:oe(e,T,T,r&&A(ae(e,T,T,0,0,i,s,x,i,w=[],h,_),_),i,_,h,s,r?w:_);break;default:oe(C,T,T,T,[""],_,0,s,_)}}l=u=f=0,m=g=1,x=C="",h=a;break;case 58:h=1+P(C),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==U())continue;switch(C+=b(y),y*m){case 38:g=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(P(C)-1)*g,g=1;break;case 64:45===V()&&(C+=X(B())),d=V(),u=h=P(x=C+=Q(H())),y++;break;case 45:45===p&&2==P(C)&&(m=0)}}return o}function ae(e,t,n,r,i,o,a,s,c,l,u,h){for(var d=i-1,p=0===i?o:[""],m=C(p),v=0,g=0,b=0;v<r;++v)for(var x=0,_=T(e,d+1,d=y(g=a[v])),S=e;x<m;++x)(S=w(g>0?p[x]+" "+_:M(_,/&\f/g,p[x])))&&(c[b++]=S);return j(e,t,n,0===i?f:s,c,l,u,h)}function se(e,t,n,r){return j(e,t,n,d,b(N),T(e,2,-2),0,r)}function ce(e,t,n,r,i){return j(e,t,n,p,T(e,0,r),T(e,r+1,-1),r,i)}var le={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ue="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.SC_ATTR)||"data-styled",he="undefined"!=typeof window&&"HTMLElement"in window,de=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GPTKEY:"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"}.SC_DISABLE_SPEEDY)),fe={},pe=(new Set,Object.freeze([])),me=Object.freeze({});function ve(e,t,n){return void 0===n&&(n=me),e.theme!==n.theme&&e.theme||t||n.theme}var ge=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function xe(e){return e.replace(ye,"-").replace(be,"")}var we=/(a)(d)/gi,_e=function(e){return String.fromCharCode(e+(e>25?39:97))};function Me(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=_e(t%52)+n;return(_e(t%52)+n).replace(we,"$1-$2")}var Se,Ee=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Te=function(e){return Ee(5381,e)};function Pe(e){return Me(Te(e)>>>0)}function Ce(e){return e.displayName||e.name||"Component"}function Ae(e){return"string"==typeof e&&!0}var ke="function"==typeof Symbol&&Symbol.for,Oe=ke?Symbol.for("react.memo"):60115,Re=ke?Symbol.for("react.forward_ref"):60112,Le={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},De={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ie=((Se={})[Re]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Se[Oe]=Ne,Se);function je(e){return("type"in(t=e)&&t.type.$$typeof)===Oe?Ne:"$$typeof"in e?Ie[e.$$typeof]:Le;var t}var ze=Object.defineProperty,Fe=Object.getOwnPropertyNames,Ue=Object.getOwnPropertySymbols,Be=Object.getOwnPropertyDescriptor,Ve=Object.getPrototypeOf,He=Object.prototype;function Ge(e,t,n){if("string"!=typeof t){if(He){var r=Ve(t);r&&r!==He&&Ge(e,r,n)}var i=Fe(t);Ue&&(i=i.concat(Ue(t)));for(var o=je(e),a=je(t),s=0;s<i.length;++s){var c=i[s];if(!(c in De||n&&n[c]||a&&c in a||o&&c in o)){var l=Be(t,c);try{ze(e,c,l)}catch(e){}}}}return e}function We(e){return"function"==typeof e}function qe(e){return"object"==typeof e&&"styledComponentId"in e}function Ye(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Xe(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Ze(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $e(e,t,n){if(void 0===n&&(n=!1),!n&&!Ze(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=$e(e[r],t[r]);else if(Ze(t))for(var r in t)e[r]=$e(e[r],t[r]);return e}function Je(e,t){Object.defineProperty(e,"toString",{value:t})}function Ke(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Qe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Ke(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat("/*!sc*/\n");return t},e}(),et=new Map,tt=new Map,nt=1,rt=function(e){if(et.has(e))return et.get(e);for(;tt.has(nt);)nt++;var t=nt++;return et.set(e,t),tt.set(t,e),t},it=function(e,t){nt=t+1,et.set(e,t),tt.set(t,e)},ot="style[".concat(ue,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),at=new RegExp("^".concat(ue,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),st=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},ct=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var c=s.match(at);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(it(u,l),st(e,u,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}};function lt(){return n.nc}var ut=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ue,"]")));return t[t.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(ue,"active"),r.setAttribute("data-styled-version","6.1.1");var a=lt();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},ht=function(){function e(e){this.element=ut(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Ke(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),dt=function(){function e(e){this.element=ut(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ft=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),pt=he,mt={isServer:!he,useCSSOMInjection:!de},vt=function(){function e(e,t,n){void 0===e&&(e=me),void 0===t&&(t={});var r=this;this.options=o(o({},mt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&he&&pt&&(pt=!1,function(e){for(var t=document.querySelectorAll(ot),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ue)&&(ct(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Je(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return tt.get(e)}(n);if(void 0===i)return"continue";var o=e.names.get(i),a=t.getGroup(n);if(void 0===o||0===a.length)return"continue";var s="".concat(ue,".g").concat(n,'[id="').concat(i,'"]'),c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(a).concat(s,'{content:"').concat(c,'"}').concat("/*!sc*/\n")},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return rt(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(o(o({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ft(n):t?new ht(n):new dt(n)}(this.options),new Qe(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(rt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(rt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(rt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gt=/&/g,yt=/^\s*\/\/.*$/gm;function bt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=bt(e.children,t)),e}))}function xt(e){var t,n,r,i=void 0===e?me:e,o=i.options,a=void 0===o?me:o,s=i.plugins,c=void 0===s?pe:s,l=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=c.slice();u.push((function(e){e.type===f&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gt,n).replace(r,l))})),a.prefix&&u.push(re),u.push(te);var h=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var c=e.replace(yt,""),l=ie(o||i?"".concat(o," ").concat(i," { ").concat(c," }"):c);a.namespace&&(l=bt(l,a.namespace));var h,d=[];return ee(l,function(e){var t=C(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(u.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=c.length?c.reduce((function(e,t){return t.name||Ke(15),Ee(e,t.name)}),5381).toString():"",h}var wt=new vt,_t=xt(),Mt=e.createContext({shouldForwardProp:void 0,styleSheet:wt,stylis:_t}),St=(Mt.Consumer,e.createContext(void 0));function Et(){return(0,e.useContext)(Mt)}function Tt(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=Et().styleSheet,a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,o]),s=(0,e.useMemo)((function(){return xt({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:r})}),[t.enableVendorPrefixes,t.namespace,r]);(0,e.useEffect)((function(){c()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]);var l=(0,e.useMemo)((function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:a,stylis:s}}),[t.shouldForwardProp,a,s]);return e.createElement(Mt.Provider,{value:l},e.createElement(St.Provider,{value:s},t.children))}var Pt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=_t);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Je(this,(function(){throw Ke(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=_t),this.name+e.hash},e}(),Ct=function(e){return e>="A"&&e<="Z"};function At(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Ct(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var kt=function(e){return null==e||!1===e||""===e},Ot=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!kt(o)&&(Array.isArray(o)&&o.isCss||We(o)?r.push("".concat(At(i),":"),o,";"):Ze(o)?r.push.apply(r,a(a(["".concat(i," {")],Ot(o),!1),["}"],!1)):r.push("".concat(At(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in le||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Rt(e,t,n,r){return kt(e)?[]:qe(e)?[".".concat(e.styledComponentId)]:We(e)?!We(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Rt(e(t),t,n,r):e instanceof Pt?n?(e.inject(n,r),[e.getName(r)]):[e]:Ze(e)?Ot(e):Array.isArray(e)?Array.prototype.concat.apply(pe,e.map((function(e){return Rt(e,t,n,r)}))):[e.toString()];var i}function Lt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(We(n)&&!qe(n))return!1}return!0}var Dt=Te("6.1.1"),Nt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Lt(e),this.componentId=t,this.baseHash=Ee(Dt,t),this.baseStyle=n,vt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ye(r,this.staticRulesId);else{var i=Xe(Rt(this.rules,e,t,n)),o=Me(Ee(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=Ye(r,o),this.staticRulesId=o}else{for(var s=Ee(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var u=this.rules[l];if("string"==typeof u)c+=u;else if(u){var h=Xe(Rt(u,e,t,n));s=Ee(s,h+l),c+=h}}if(c){var d=Me(s>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(c,".".concat(d),void 0,this.componentId)),r=Ye(r,d)}}return r},e}(),It=e.createContext(void 0);It.Consumer;var jt={};new Set;function zt(t,n,r){var i=qe(t),a=t,s=!Ae(t),c=n.attrs,l=void 0===c?pe:c,u=n.componentId,h=void 0===u?function(e,t){var n="string"!=typeof e?"sc":xe(e);jt[n]=(jt[n]||0)+1;var r="".concat(n,"-").concat(Pe("6.1.1"+n+jt[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):u,d=n.displayName,f=void 0===d?function(e){return Ae(e)?"styled.".concat(e):"Styled(".concat(Ce(e),")")}(t):d,p=n.displayName&&n.componentId?"".concat(xe(n.displayName),"-").concat(n.componentId):n.componentId||h,m=i&&a.attrs?a.attrs.concat(l).filter(Boolean):l,v=n.shouldForwardProp;if(i&&a.shouldForwardProp){var g=a.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;v=function(e,t){return g(e,t)&&y(e,t)}}else v=g}var b=new Nt(r,p,i?a.componentStyle:void 0);function x(t,n){return function(t,n,r){var i=t.attrs,a=t.componentStyle,s=t.defaultProps,c=t.foldedComponentIds,l=t.styledComponentId,u=t.target,h=e.useContext(It),d=Et(),f=t.shouldForwardProp||d.shouldForwardProp,p=function(e,t,n){for(var r,i=o(o({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var s=We(r=e[a])?r(i):r;for(var c in s)i[c]="className"===c?Ye(i[c],s[c]):"style"===c?o(o({},i[c]),s[c]):s[c]}return t.className&&(i.className=Ye(i.className,t.className)),i}(i,n,ve(n,h,s)||me),m=p.as||u,v={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g||("forwardedAs"===g?v.as=p.forwardedAs:f&&!f(g,m)||(v[g]=p[g]));var y=function(e,t){var n=Et();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,p),b=Ye(c,l);return y&&(b+=" "+y),p.className&&(b+=" "+p.className),v[Ae(m)&&!ge.has(m)?"class":"className"]=b,v.ref=r,(0,e.createElement)(m,v)}(w,t,n)}x.displayName=f;var w=e.forwardRef(x);return w.attrs=m,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=i?Ye(a.foldedComponentIds,a.styledComponentId):"",w.styledComponentId=p,w.target=i?a.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)$e(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Je(w,(function(){return".".concat(w.styledComponentId)})),s&&Ge(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Ft(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Ut=function(e){return Object.assign(e,{isCss:!0})};function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(We(e)||Ze(e))return Ut(Rt(Ft(pe,a([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Rt(r):Ut(Rt(Ft(r,t)))}function Vt(e,t,n){if(void 0===n&&(n=me),!t)throw Ke(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,Bt.apply(void 0,a([r],i,!1)))};return r.attrs=function(r){return Vt(e,t,o(o({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Vt(e,t,o(o({},n),r))},r}var Ht=function(e){return Vt(zt,e)},Gt=Ht;ge.forEach((function(e){Gt[e]=Ht(e)}));var Wt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Lt(e),vt.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(Xe(Rt(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&vt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function qt(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Bt.apply(void 0,a([t],n,!1)),s="sc-global-".concat(Pe(JSON.stringify(i))),c=new Wt(i,s),l=function(t){var n=Et(),r=e.useContext(It),i=e.useRef(n.styleSheet.allocateGSInstance(s)).current;return n.styleSheet.server&&u(i,t,n.styleSheet,r,n.stylis),e.useLayoutEffect((function(){if(!n.styleSheet.server)return u(i,t,n.styleSheet,r,n.stylis),function(){return c.removeStyles(i,n.styleSheet)}}),[i,t,n.styleSheet,r,n.stylis]),null};function u(e,t,n,r,i){if(c.isStatic)c.renderStyles(e,fe,n,i);else{var a=o(o({},t),{theme:ve(t,r,l.defaultProps)});c.renderStyles(e,a,n,i)}}return e.memo(l)}(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=lt(),r=Xe([n&&'nonce="'.concat(n,'"'),"".concat(ue,'="true"'),"".concat("data-styled-version",'="').concat("6.1.1",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw Ke(2);return t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)throw Ke(2);var r=((n={})[ue]="",n["data-styled-version"]="6.1.1",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=lt();return i&&(r.nonce=i),[e.createElement("style",o({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new vt({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw Ke(2);return e.createElement(Tt,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(e){throw Ke(3)}})(),"__sc-".concat(ue,"__");var Yt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Xt=Bt($t||($t=Yt(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"],["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"])));qt(Jt||(Jt=Yt(["",""],["",""])),Xt);const Zt=Xt;var $t,Jt,Kt;function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Kt||(Kt={}));const en="popstate";function tn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function nn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function rn(e,t){return{usr:e.state,key:e.key,idx:t}}function on(e,t,n,r){return void 0===n&&(n=null),Qt({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?sn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function an(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function sn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cn(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Kt.Pop,c=null,l=u();function u(){return(a.state||{idx:null}).idx}function h(){s=Kt.Pop;let e=u(),t=null==e?null:e-l;l=e,c&&c({action:s,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:an(e);return tn(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==l&&(l=0,a.replaceState(Qt({},a.state,{idx:l}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(en,h),c=e,()=>{i.removeEventListener(en,h),c=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=Kt.Push;let r=on(f.location,e,t);n&&n(r,e),l=u()+1;let h=rn(r,l),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&c&&c({action:s,location:f.location,delta:1})},replace:function(e,t){s=Kt.Replace;let r=on(f.location,e,t);n&&n(r,e),l=u();let i=rn(r,l),h=f.createHref(r);a.replaceState(i,"",h),o&&c&&c({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var ln;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ln||(ln={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function un(e,t,n){void 0===n&&(n="/");let r=Sn(("string"===typeof t?sn(t):t).pathname||"/",n);if(null==r)return null;let i=hn(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=wn(i[a],Mn(r));return o}function hn(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(tn(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=An([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(tn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),hn(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:xn(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of dn(e.path))i(e,t,r);else i(e,t)})),t}function dn(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=dn(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const fn=/^:\w+$/,pn=3,mn=2,vn=1,gn=10,yn=-2,bn=e=>"*"===e;function xn(e,t){let n=e.split("/"),r=n.length;return n.some(bn)&&(r+=yn),t&&(r+=mn),n.filter((e=>!bn(e))).reduce(((e,t)=>e+(fn.test(t)?pn:""===t?vn:gn)),r)}function wn(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=_n({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;o.push({params:r,pathname:An([i,l.pathname]),pathnameBase:kn(An([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=An([i,l.pathnameBase]))}return o}function _n(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);nn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return nn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function Mn(e){try{return decodeURI(e)}catch(t){return nn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Sn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function En(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Tn(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Pn(e){return Tn(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function Cn(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=sn(e):(i=Qt({},e),tn(!i.pathname||!i.pathname.includes("?"),En("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),En("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),En("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?sn(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:On(r),hash:Rn(i)}}(i,o),l=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}const An=e=>e.join("/").replace(/\/\/+/g,"/"),kn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),On=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Rn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Ln(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Dn=["post","put","patch","delete"],Nn=(new Set(Dn),["get",...Dn]);new Set(Nn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(this,arguments)}const jn=e.createContext(null);const zn=e.createContext(null);const Fn=e.createContext(null);const Un=e.createContext(null);const Bn=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Vn=e.createContext(null);function Hn(){return null!=e.useContext(Un)}function Gn(){return Hn()||tn(!1),e.useContext(Un).location}function Wn(t){e.useContext(Fn).static||e.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=e.useContext(Bn);return t?function(){let{router:t}=nr(er.UseNavigateStable),n=ir(tr.UseNavigateStable),r=e.useRef(!1);Wn((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,In({fromRouteId:n},i)))}),[t,n]);return i}():function(){Hn()||tn(!1);let t=e.useContext(jn),{basename:n,navigator:r}=e.useContext(Fn),{matches:i}=e.useContext(Bn),{pathname:o}=Gn(),a=JSON.stringify(Pn(i)),s=e.useRef(!1);Wn((()=>{s.current=!0}));let c=e.useCallback((function(e,i){if(void 0===i&&(i={}),!s.current)return;if("number"===typeof e)return void r.go(e);let c=Cn(e,JSON.parse(a),o,"path"===i.relative);null==t&&"/"!==n&&(c.pathname="/"===c.pathname?n:An([n,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)}),[n,r,a,o,t]);return c}()}function Yn(t,n){let{relative:r}=void 0===n?{}:n,{matches:i}=e.useContext(Bn),{pathname:o}=Gn(),a=JSON.stringify(Pn(i));return e.useMemo((()=>Cn(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function Xn(t,n,r){Hn()||tn(!1);let{navigator:i}=e.useContext(Fn),{matches:o}=e.useContext(Bn),a=o[o.length-1],s=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let l,u=Gn();if(n){var h;let e="string"===typeof n?sn(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||tn(!1),l=e}else l=u;let d=l.pathname||"/",f=un(t,{pathname:"/"===c?d:d.slice(c.length)||"/"});let p=Qn(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:An([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:An([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r);return n&&p?e.createElement(Un.Provider,{value:{location:In({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Kt.Pop}},p):p}function Zn(){let t=function(){var t;let n=e.useContext(Vn),r=rr(tr.UseRouteError),i=ir(tr.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Ln(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,null)}const $n=e.createElement(Zn,null);class Jn extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?e.createElement(Bn.Provider,{value:this.props.routeContext},e.createElement(Vn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kn(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(jn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Bn.Provider,{value:n},i)}function Qn(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var o;if(null==(o=r)||!o.errors)return null;t=r.matches}let a=t,s=null==(i=r)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||tn(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((t,i,o)=>{let c=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||$n);let u=n.concat(a.slice(0,o+1)),h=()=>{let n;return n=c?l:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Kn,{match:i,routeContext:{outlet:t,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?e.createElement(Jn,{location:r.location,revalidation:r.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var er=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(er||{}),tr=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tr||{});function nr(t){let n=e.useContext(jn);return n||tn(!1),n}function rr(t){let n=e.useContext(zn);return n||tn(!1),n}function ir(t){let n=function(t){let n=e.useContext(Bn);return n||tn(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||tn(!1),r.route.id}t.startTransition;function or(e){tn(!1)}function ar(t){let{basename:n="/",children:r=null,location:i,navigationType:o=Kt.Pop,navigator:a,static:s=!1}=t;Hn()&&tn(!1);let c=n.replace(/^\/*/,"/"),l=e.useMemo((()=>({basename:c,navigator:a,static:s})),[c,a,s]);"string"===typeof i&&(i=sn(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=e.useMemo((()=>{let e=Sn(u,c);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:o}}),[c,u,h,d,f,p,o]);return null==m?null:e.createElement(Fn.Provider,{value:l},e.createElement(Un.Provider,{children:r,value:m}))}function sr(e){let{children:t,location:n}=e;return Xn(cr(t),n)}new Promise((()=>{}));e.Component;function cr(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let o=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,cr(t.props.children,o));t.type!==or&&tn(!1),t.props.index&&t.props.children&&tn(!1);let a={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=cr(t.props.children,o)),r.push(a)})),r}var lr,ur,hr=n(184);const dr=Gt.div(lr||(lr=i(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n"]))),fr=Gt.div(ur||(ur=i(["\n  z-index: 100;\n  position: absolute;\n  background: #abcaef;\n  border-radius: 50%;\n  width: 8px;\n  height: 8px;\n  animation: fall linear infinite;\n  animation-duration: 10s;\n  animation-timing-function: linear;\n  animation-delay: ",";\n  left: ","; /* \ub79c\ub364\ud55c \uac00\ub85c \uc704\uce58 \uc124\uc815 */\n\n  @keyframes fall {\n    0% {\n      opacity: 1;\n      transform: translateY(-10px);\n    }\n    100% {\n      opaticy: 0;\n      transform: translateY(110vh);\n    }\n  }\n"])),(()=>"-".concat(10*Math.random(),"s")),(()=>"".concat(100*Math.random(),"%"))),pr=e=>{let{count:t}=e;return(0,hr.jsx)(dr,{children:[...Array(t)].map(((e,t)=>(0,hr.jsx)(fr,{},t)))})};var mr=n(4164),vr=n.t(mr,2);function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function yr(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const br=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const xr=t.startTransition;vr.flushSync;function wr(t){let{basename:n,children:r,future:i,window:o}=t,a=e.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),cn((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return on("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:an(t)}),null,e)}({window:o,v5Compat:!0}));let s=a.current,[c,l]=e.useState({action:s.action,location:s.location}),{v7_startTransition:u}=i||{},h=e.useCallback((e=>{u&&xr?xr((()=>l(e))):l(e)}),[l,u]);return e.useLayoutEffect((()=>s.listen(h)),[s,h]),e.createElement(ar,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}const _r="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Mr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=e.forwardRef((function(t,n){let r,{onClick:i,relative:o,reloadDocument:a,replace:s,state:c,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=t,f=yr(t,br),{basename:p}=e.useContext(Fn),m=!1;if("string"===typeof u&&Mr.test(u)&&(r=u,_r))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Sn(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(y){}let v=function(t,n){let{relative:r}=void 0===n?{}:n;Hn()||tn(!1);let{basename:i,navigator:o}=e.useContext(Fn),{hash:a,pathname:s,search:c}=Yn(t,{relative:r}),l=s;return"/"!==i&&(l="/"===s?i:An([i,s])),o.createHref({pathname:l,search:c,hash:a})}(u,{relative:o}),g=function(t,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c}=void 0===n?{}:n,l=qn(),u=Gn(),h=Yn(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==i?i:an(u)===an(h);l(t,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c})}}),[u,l,h,i,o,r,t,a,s,c])}(u,{replace:s,state:c,target:l,preventScrollReset:h,relative:o,unstable_viewTransition:d});return e.createElement("a",gr({},f,{href:r||v,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||g(e)},ref:n,target:l}))}));var Er,Tr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Er||(Er={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Tr||(Tr={}));var Pr,Cr,Ar,kr,Or={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rr=e.createContext&&e.createContext(Or),Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lr.apply(this,arguments)},Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Nr(t){return t&&t.map((function(t,n){return e.createElement(t.tag,Lr({key:n},t.attr),Nr(t.child))}))}function Ir(t){return function(n){return e.createElement(jr,Lr({attr:Lr({},t.attr)},n),Nr(t.child))}}function jr(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=Dr(t,["attr","size","title"]),c=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Lr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Lr(Lr({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Rr?e.createElement(Rr.Consumer,null,(function(e){return n(e)})):n(Or)}function zr(e){return Ir({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M238.431 80.77c-35.155.246-72.04 8.661-108.484 27.94C-29.95 201.198 34.429 334.93 46.134 370.206c20.81 24.447 48.8 32.745 74.469 46.26l-.98-20.2 18.72 6.91-1.414-14.996 21.487-.039-33.25-37.34c9.816-13.393 12.76-41.423 15.21-56.044l59.329 12.877 56.068-6.44c3.142 30.472 7.892 60.945 20.21 91.416l69.76 38.625-3.724-19.205 23.729 4.156-2.356-16.88 23.426 1.029-45.639-41.844.467-41.772c14.428-15.907 44.975-17 52.157-12.23-1.956 16.792 3.749 24.053 9.314 39.195 7.123 19.382 23.098 32.587 37.812 46.35l2.076-18.77 22.463 4.166-1.4-16.394 24.455 2.674-24.123-37.34c.486-20.817.546-41.634-2.256-62.451-3.414 5.69-8.437 10.6-13.912 14.625-10.461 7.69-23.42 12.82-36.252 12.326-8.843-.341-42.722 3.68-60.857-22.658l14.826-10.21c11.768 17.092 33.138 14.358 46.724 14.882 7.047.271 17.368-3.307 24.897-8.842 7.529-5.536 11.346-12.392 11.064-16.223l-.33-4.476 3.377-2.957s3.945-3.469 7.889-8.206c3.944-4.736 6.94-11.006 6.969-12.492.011-.588-1.189-3.557-3.434-8.07s-5.342-12.089-1.871-19.95c2.355-5.333 5.118-8.272 6.578-10.831 1.413-2.477 2.416-5.004 2.535-10.856-.417-4.153-1.148-5.244-2.795-6.623-1.722-1.441-5.616-3.179-11.742-5.123-3.19-1.013-3.497-.562-6.055 1.506-2.557 2.068-5.59 6.183-10.037 10.187l-3.222 2.903-4.278-.713c-20.726-3.451-41.094-1.951-60.205 5.607l-3.582 1.416-3.496-1.61c-12.335-5.685-21.75-10.818-27.205-11.981-2.728-.582-4.082-.43-5.498.191-1.416.62-3.404 2.09-5.975 5.928-3.113 4.649-4.81 12.102-3.736 18.468 1.074 6.367 4.067 11.36 10.791 14.297l-7.205 16.494c-12.43-5.429-19.456-16.646-21.336-27.798-1.88-11.152.537-22.527 6.531-31.477 3.815-5.696 8.286-10.025 13.71-12.4 5.423-2.376 11.29-2.414 16.472-1.309 9.322 1.987 17.862 6.877 27.783 11.674 12.084-4.308 24.541-6.575 37.098-7.066-38.725-39.944-98.414-69.255-164.537-69.78-1.13-.009-2.263-.01-3.397-.002zm188.48 101.973c6.752 0 12.225 6.629 12.225 14.807 0 8.177-5.473 14.807-12.224 14.806-6.751 0-12.223-6.63-12.223-14.806 0-8.177 5.472-14.806 12.223-14.807zm-48.732 5.148c6.75.001 12.223 6.63 12.223 14.807s-5.472 14.806-12.223 14.807c-6.751 0-12.224-6.63-12.224-14.807 0-8.178 5.473-14.807 12.224-14.807zm31.096 40.985c8.973-.167 16.408 3.757 16.607 8.765.12 3.058-2.53 5.961-7.047 7.721l.497 15.873-17.99.565-.507-16.176c-4.535-1.603-7.325-4.367-7.447-7.377-.199-5.008 6.914-9.204 15.887-9.371zm-259.828 86.062l7.365 37.684 38.545 25.539-2.422-14.9 17.178 2.609-5.457-11.967 18.656.97-20.46-19.366-1.395-6.926z"}}]})(e)}const Fr=Gt.div(Pr||(Pr=i(["\n  display: flex;\n"]))),Ur=Gt.div(Cr||(Cr=i(["\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  width: 100%;\n  height: 45px;\n  z-index: 100;\n"]))),Br=Gt.div(Ar||(Ar=i(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 30px;\n  align-items: center;\n  height: 100%;\n"]))),Vr=Gt.div(kr||(kr=i(["\n  display: flex;\n  align-items: center;\n"]))),Hr=function(){return(0,hr.jsx)(Ur,{children:(0,hr.jsxs)(Br,{children:[(0,hr.jsx)(Vr,{children:(0,hr.jsxs)(Sr,{to:"/",style:{textDecoration:"none",color:"white",display:"flex",alignItems:"center",fontSize:20},children:[(0,hr.jsx)(zr,{size:"30",color:"white",style:{marginRight:"15px"}}),"GNI"]})}),(0,hr.jsxs)(Fr,{children:[(0,hr.jsx)(Sr,{to:"/game",style:{textDecoration:"none",color:"white",fontSize:15,marginRight:20},children:"\uc27c\ud130"}),(0,hr.jsx)(Sr,{to:"/info",style:{textDecoration:"none",color:"white",fontSize:15},children:"Who We Are"})]})]})})},Gr=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Wr=(0,e.createContext)({}),qr=(0,e.createContext)(null),Yr="undefined"!==typeof document,Xr=Yr?e.useLayoutEffect:e.useEffect,Zr=(0,e.createContext)({strict:!1});function $r(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Jr(e){return"string"===typeof e||Array.isArray(e)}function Kr(e){return"object"===typeof e&&"function"===typeof e.start}const Qr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ei=["initial",...Qr];function ti(e){return Kr(e.animate)||ei.some((t=>Jr(e[t])))}function ni(e){return Boolean(ti(e)||e.variants)}function ri(t){const{initial:n,animate:r}=function(e,t){if(ti(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Jr(t)?t:void 0,animate:Jr(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(Wr));return(0,e.useMemo)((()=>({initial:n,animate:r})),[ii(n),ii(r)])}function ii(e){return Array.isArray(e)?e.join(" "):e}const oi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ai={};for(const n in oi)ai[n]={isEnabled:e=>oi[n].some((t=>!!e[t]))};const si=(0,e.createContext)({}),ci=(0,e.createContext)({}),li=Symbol.for("motionComponentSymbol");function ui(t){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:o,Component:a}=t;n&&function(e){for(const t in e)ai[t]={...ai[t],...e[t]}}(n);const s=(0,e.forwardRef)((function(t,s){let c;const l={...(0,e.useContext)(Gr),...t,layoutId:hi(t)},{isStatic:u}=l,h=ri(t),d=o(t,u);if(!u&&Yr){h.visualElement=function(t,n,r,i){const{visualElement:o}=(0,e.useContext)(Wr),a=(0,e.useContext)(Zr),s=(0,e.useContext)(qr),c=(0,e.useContext)(Gr).reducedMotion,l=(0,e.useRef)();i=i||a.renderer,!l.current&&i&&(l.current=i(t,{visualState:n,parent:o,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:c}));const u=l.current;(0,e.useInsertionEffect)((()=>{u&&u.update(r,s)}));const h=(0,e.useRef)(Boolean(window.HandoffAppearAnimations));return Xr((()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())})),(0,e.useEffect)((()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)})),u}(a,d,l,r);const t=(0,e.useContext)(ci),i=(0,e.useContext)(Zr).strict;h.visualElement&&(c=h.visualElement.loadFeatures(l,i,n,t))}return e.createElement(Wr.Provider,{value:h},c&&h.visualElement?e.createElement(c,{visualElement:h.visualElement,...l}):null,i(a,t,function(t,n,r){return(0,e.useCallback)((e=>{e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):$r(r)&&(r.current=e))}),[n])}(d,h.visualElement,s),d,u,h.visualElement))}));return s[li]=a,s}function hi(t){let{layoutId:n}=t;const r=(0,e.useContext)(si).id;return r&&void 0!==n?r+"-"+n:n}function di(e){function t(t){return ui(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const fi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pi(e){return"string"===typeof e&&!e.includes("-")&&!!(fi.indexOf(e)>-1||/[A-Z]/.test(e))}const mi={};const vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(vi);function yi(e,t){let{layout:n,layoutId:r}=t;return gi.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!mi[e]||"opacity"===e)}const bi=e=>Boolean(e&&e.getVelocity),xi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wi=vi.length;const _i=e=>t=>"string"===typeof t&&t.startsWith(e),Mi=_i("--"),Si=_i("var(--"),Ei=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ti=(e,t,n)=>Math.min(Math.max(n,e),t),Pi={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ci={...Pi,transform:e=>Ti(0,1,e)},Ai={...Pi,default:1},ki=e=>Math.round(1e5*e)/1e5,Oi=/(-)?([\d]*\.?[\d])+/g,Ri=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Li=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Di(e){return"string"===typeof e}const Ni=e=>({test:t=>Di(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Ii=Ni("deg"),ji=Ni("%"),zi=Ni("px"),Fi=Ni("vh"),Ui=Ni("vw"),Bi={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(100*e)},Vi={...Pi,transform:Math.round},Hi={borderWidth:zi,borderTopWidth:zi,borderRightWidth:zi,borderBottomWidth:zi,borderLeftWidth:zi,borderRadius:zi,radius:zi,borderTopLeftRadius:zi,borderTopRightRadius:zi,borderBottomRightRadius:zi,borderBottomLeftRadius:zi,width:zi,maxWidth:zi,height:zi,maxHeight:zi,size:zi,top:zi,right:zi,bottom:zi,left:zi,padding:zi,paddingTop:zi,paddingRight:zi,paddingBottom:zi,paddingLeft:zi,margin:zi,marginTop:zi,marginRight:zi,marginBottom:zi,marginLeft:zi,rotate:Ii,rotateX:Ii,rotateY:Ii,rotateZ:Ii,scale:Ai,scaleX:Ai,scaleY:Ai,scaleZ:Ai,skew:Ii,skewX:Ii,skewY:Ii,distance:zi,translateX:zi,translateY:zi,translateZ:zi,x:zi,y:zi,z:zi,perspective:zi,transformPerspective:zi,opacity:Ci,originX:Bi,originY:Bi,originZ:zi,zIndex:Vi,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:Vi};function Gi(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let c=!1,l=!1,u=!0;for(const h in t){const e=t[h];if(Mi(h)){o[h]=e;continue}const n=Hi[h],r=Ei(e,n);if(gi.has(h)){if(c=!0,a[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(l=!0,s[h]=r):i[h]=r}if(t.transform||(c||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,a="";for(let s=0;s<wi;s++){const t=vi[s];if(void 0!==e[t]){const n=xi[t]||t;a+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):o&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),l){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Wi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qi(e,t,n){for(const r in t)bi(t[r])||yi(r,n)||(e[r]=t[r])}function Yi(t,n,r){const i={};return qi(i,t.style||{},t),Object.assign(i,function(t,n,r){let{transformTemplate:i}=t;return(0,e.useMemo)((()=>{const e=Wi();return Gi(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(t,n,r)),t.transformValues?t.transformValues(i):i}function Xi(e,t,n){const r={},i=Yi(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Zi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $i(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Zi.has(e)}let Ji=e=>!$i(e);try{(Ki=require("@emotion/is-prop-valid").default)&&(Ji=e=>e.startsWith("on")?!$i(e):Ki(e))}catch(uX){}var Ki;function Qi(e,t,n){return"string"===typeof e?e:zi.transform(t+n*e)}const eo={offset:"stroke-dashoffset",array:"stroke-dasharray"},to={offset:"strokeDashoffset",array:"strokeDasharray"};function no(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:c,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(Gi(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:v}=e;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(void 0!==c||void 0!==l||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Qi(t,e.x,e.width),i=Qi(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==c?c:.5,void 0!==l?l:.5)),void 0!==o&&(p.x=o),void 0!==a&&(p.y=a),void 0!==s&&(p.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?eo:to;e[o.offset]=zi.transform(-r);const a=zi.transform(t),s=zi.transform(n);e[o.array]="".concat(a," ").concat(s)}(p,u,h,d,!1)}const ro=()=>({...Wi(),attrs:{}}),io=e=>"string"===typeof e&&"svg"===e.toLowerCase();function oo(t,n,r,i){const o=(0,e.useMemo)((()=>{const e=ro();return no(e,n,{enableHardwareAcceleration:!1},io(i),t.transformTemplate),{...e.attrs,style:{...e.style}}}),[n]);if(t.style){const e={};qi(e,t.style,t),o.style={...e,...o.style}}return o}function ao(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,o,a)=>{let{latestValues:s}=o;const c=(pi(n)?oo:Xi)(r,s,a,n),l=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Ji(i)||!0===n&&$i(i)||!t&&!$i(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,t),u={...l,...c,ref:i},{children:h}=r,d=(0,e.useMemo)((()=>bi(h)?h.get():h),[h]);return(0,e.createElement)(n,{...u,children:d})}}const so=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function co(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const lo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uo(e,t,n,r){co(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(lo.has(i)?i:so(i),t.attrs[i])}function ho(e,t){const{style:n}=e,r={};for(const i in n)(bi(n[i])||t.style&&bi(t.style[i])||yi(i,e))&&(r[i]=n[i]);return r}function fo(e,t){const n=ho(e,t);for(const r in e)if(bi(e[r])||bi(t[r])){n[-1!==vi.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function po(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function mo(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}const vo=e=>Array.isArray(e),go=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),yo=e=>vo(e)?e[e.length-1]||0:e;function bo(e){const t=bi(e)?e.get():e;return go(t)?t.toValue():t}const xo=t=>(n,r)=>{const i=(0,e.useContext)(Wr),o=(0,e.useContext)(qr),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=e;const s={latestValues:wo(t,n,r,i),renderState:o()};return a&&(s.mount=e=>a(t,e,s)),s}(t,n,i,o);return r?a():mo(a)};function wo(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=bo(o[d]);let{initial:a,animate:s}=e;const c=ti(e),l=ni(e);t&&l&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?s:a;if(h&&"boolean"!==typeof h&&!Kr(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=po(e,t);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const _o=e=>e;class Mo{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const So=["prepare","read","update","preRender","render","postRender"];const{schedule:Eo,cancel:To,state:Po,steps:Co}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=So.reduce(((e,t)=>(e[t]=function(e){let t=new Mo,n=new Mo,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:c=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(c),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(c))}}};return s}((()=>n=!0)),e)),{}),a=e=>o[e].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,So.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},c=So.reduce(((t,a)=>{const c=o[a];return t[a]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),c.schedule(t,o,a)},t}),{});return{schedule:c,cancel:e=>So.forEach((t=>o[t].cancel(e))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:_o,!0),Ao={useVisualState:xo({scrapeMotionValuesFromProps:fo,createRenderState:ro,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Eo.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),Eo.render((()=>{no(r,i,{enableHardwareAcceleration:!1},io(t.tagName),e.transformTemplate),uo(t,r)}))}})},ko={useVisualState:xo({scrapeMotionValuesFromProps:ho,createRenderState:Wi})};function Oo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ro=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Do=e=>t=>Ro(t)&&e(t,Lo(t));function No(e,t,n,r){return Oo(e,t,Do(n),r)}const Io=(e,t)=>n=>t(e(n)),jo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Io)};function zo(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Fo=zo("dragHorizontal"),Uo=zo("dragVertical");function Bo(e){let t=!1;if("y"===e)t=Uo();else if("x"===e)t=Fo();else{const e=Fo(),n=Uo();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Vo(){const e=Bo(!0);return!e||(e(),!1)}class Ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Go(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return No(e.current,n,((n,i)=>{if("touch"===n.type||Vo())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Eo.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const Wo=(e,t)=>!!t&&(e===t||Wo(e,t.parentElement));function qo(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Lo(n))}const Yo=new WeakMap,Xo=new WeakMap,Zo=e=>{const t=Yo.get(e.target);t&&t(e)},$o=e=>{e.forEach(Zo)};function Jo(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Xo.has(r)||Xo.set(r,{});const i=Xo.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver($o,{root:t,...n})),i[o]}(t);return Yo.set(e,n),r.observe(e),()=>{Yo.delete(e),r.unobserve(e)}}const Ko={some:0,all:1};const Qo={inView:{Feature:class extends Ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Ko[r]};return Jo(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ho{constructor(){super(...arguments),this.removeStartListeners=_o,this.removeEndListeners=_o,this.removeAccessibleListeners=_o,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=No(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();Eo.update((()=>{Wo(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=No(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=jo(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Oo(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Oo(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&qo("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Eo.update((()=>n(e,t)))}))})),qo("down",((e,t)=>{this.startPress(e,t)}))})),t=Oo(this.node.current,"blur",(()=>{this.isPressing&&qo("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=jo(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Eo.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Vo()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Eo.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=No(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Oo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jo(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jo(Oo(this.node.current,"focus",(()=>this.onFocus())),Oo(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Ho{mount(){this.unmount=jo(Go(this.node,!0),Go(this.node,!1))}unmount(){}}}};function ea(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ta(e,t,n){const r=e.getProps();return po(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const na="data-"+so("framerAppearId");let ra=_o,ia=_o;const oa=e=>1e3*e,aa=e=>e/1e3,sa=!1,ca=e=>Array.isArray(e)&&"number"===typeof e[0];function la(e){return Boolean(!e||"string"===typeof e&&ha[e]||ca(e)||Array.isArray(e)&&e.every(la))}const ua=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},ha={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ua([0,.65,.55,1]),circOut:ua([.55,0,1,.45]),backIn:ua([.31,.01,.66,-.59]),backOut:ua([.33,1.53,.69,.99])};function da(e){if(e)return ca(e)?ua(e):Array.isArray(e)?e.map(da):ha[e]}const fa=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pa=1e-7,ma=12;function va(e,t,n,r){if(e===t&&n===r)return _o;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=fa(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>pa&&++s<ma);return a}(t,0,1,e,n);return e=>0===e||1===e?e:fa(i(e),t,r)}const ga=va(.42,0,1,1),ya=va(0,0,.58,1),ba=va(.42,0,.58,1),xa=e=>Array.isArray(e)&&"number"!==typeof e[0],wa=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_a=e=>t=>1-e(1-t),Ma=e=>1-Math.sin(Math.acos(e)),Sa=_a(Ma),Ea=wa(Sa),Ta=va(.33,1.53,.69,.99),Pa=_a(Ta),Ca=wa(Pa),Aa={linear:_o,easeIn:ga,easeInOut:ba,easeOut:ya,circIn:Ma,circInOut:Ea,circOut:Sa,backIn:Pa,backInOut:Ca,backOut:Ta,anticipate:e=>(e*=2)<1?.5*Pa(e):.5*(2-Math.pow(2,-10*(e-1)))},ka=e=>{if(Array.isArray(e)){ia(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return va(t,n,r,i)}return"string"===typeof e?(ia(void 0!==Aa[e],"Invalid easing type '".concat(e,"'")),Aa[e]):e},Oa=(e,t)=>n=>Boolean(Di(n)&&Li.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ra=(e,t,n)=>r=>{if(!Di(r))return r;const[i,o,a,s]=r.match(Oi);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},La={...Pi,transform:e=>Math.round((e=>Ti(0,255,e))(e))},Da={test:Oa("rgb","red"),parse:Ra("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+La.transform(t)+", "+La.transform(n)+", "+La.transform(r)+", "+ki(Ci.transform(i))+")"}};const Na={test:Oa("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Da.transform},Ia={test:Oa("hsl","hue"),parse:Ra("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+ji.transform(ki(n))+", "+ji.transform(ki(r))+", "+ki(Ci.transform(i))+")"}},ja={test:e=>Da.test(e)||Na.test(e)||Ia.test(e),parse:e=>Da.test(e)?Da.parse(e):Ia.test(e)?Ia.parse(e):Na.parse(e),transform:e=>Di(e)?e:e.hasOwnProperty("red")?Da.transform(e):Ia.transform(e)},za=(e,t,n)=>-n*e+n*t+e;function Fa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Ua=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ba=[Na,Da,Ia];function Va(e){const t=(e=>Ba.find((t=>t.test(e))))(e);ia(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===Ia&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Fa(i,e,t+1/3),a=Fa(i,e,t),s=Fa(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const Ha=(e,t)=>{const n=Va(e),r=Va(t),i={...n};return e=>(i.red=Ua(n.red,r.red,e),i.green=Ua(n.green,r.green,e),i.blue=Ua(n.blue,r.blue,e),i.alpha=za(n.alpha,r.alpha,e),Da.transform(i))};const Ga={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:_o},Wa={regex:Ri,countKey:"Colors",token:"${c}",parse:ja.parse},qa={regex:Oi,countKey:"Numbers",token:"${n}",parse:Pi.parse};function Ya(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(o)))}function Xa(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ya(n,Ga),Ya(n,Wa),Ya(n,qa),n}function Za(e){return Xa(e).values}function $a(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Xa(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(Ga.token,e[i]):i<r+n?t.replace(Wa.token,ja.transform(e[i])):t.replace(qa.token,ki(e[i]));return t}}const Ja=e=>"number"===typeof e?0:e;const Ka={test:function(e){var t,n;return isNaN(e)&&Di(e)&&((null===(t=e.match(Oi))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ri))||void 0===n?void 0:n.length)||0)>0},parse:Za,createTransformer:$a,getAnimatableNone:function(e){const t=Za(e);return $a(e)(t.map(Ja))}},Qa=(e,t)=>n=>"".concat(n>0?t:e);function es(e,t){return"number"===typeof e?n=>za(e,t,n):ja.test(e)?Ha(e,t):e.startsWith("var(")?Qa(e,t):rs(e,t)}const ts=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>es(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},ns=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=es(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},rs=(e,t)=>{const n=Ka.createTransformer(t),r=Xa(e),i=Xa(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jo(ts(r.values,i.values),n):(ra(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Qa(e,t))},is=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},os=(e,t)=>n=>za(e,t,n);function as(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?os:"string"===typeof e?ja.test(e)?Ha:rs:Array.isArray(e)?ts:"object"===typeof e?ns:os}(e[0]),o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||_o:t;n=jo(e,n)}r.push(n)}return r}function ss(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(ia(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=as(t,r,i),s=a.length,c=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=is(e[n],e[n+1],t);return a[n](r)};return n?t=>c(Ti(e[0],e[o-1],t)):c}function cs(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=is(0,t,r);e.push(za(n,1,i))}}(t,e.length-1),t}function ls(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=xa(i)?i.map(ka):ka(i),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:cs(n),t),c=ss(s,n,{ease:Array.isArray(o)?o:(l=n,u=o,l.map((()=>u||ba)).splice(0,l.length-1))});var l,u;return{calculatedDuration:t,next:e=>(a.value=c(e),a.done=e>=t,a)}}function us(e,t){return t?e*(1e3/t):0}const hs=5;function ds(e,t,n){const r=Math.max(t-hs,0);return us(n-e(r),t-r)}const fs=.001,ps=.01,ms=10,vs=.05,gs=1;function ys(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=e;ra(r<=oa(ms),"Spring duration must be 10 seconds or less");let s=1-i;s=Ti(vs,gs,s),r=Ti(ps,ms,aa(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=xs(e,s),c=Math.exp(-n);return fs-i/a*c},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,c=Math.exp(-n),l=xs(Math.pow(e,2),s);return(-t(e)+fs>0?-1:1)*((i-a)*c)/l}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-fs,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const c=function(e,t,n){let r=n;for(let i=1;i<bs;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=oa(r),isNaN(c))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(c,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const bs=12;function xs(e,t){return e*Math.sqrt(1-t*t)}const ws=["duration","bounce"],_s=["stiffness","damping","mass"];function Ms(e,t){return t.some((t=>void 0!==e[t]))}function Ss(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],a=t[t.length-1],s={done:!1,value:o},{stiffness:c,damping:l,mass:u,velocity:h,duration:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ms(e,_s)&&Ms(e,ws)){const n=ys(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(i),p=h?-aa(h):0,m=l/(2*Math.sqrt(c*u)),v=a-o,g=aa(Math.sqrt(c/u)),y=Math.abs(v)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=xs(g,m);b=t=>{const n=Math.exp(-m*g*t);return a-n*((p+m*g*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-g*e)*(v+(p+g*v)*e);else{const e=g*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*g*t),r=Math.min(e*t,300);return a-n*((p+m*g*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let i=p;0!==e&&(i=m<1?ds(b,e,t):0);const o=Math.abs(i)<=r,c=Math.abs(a-t)<=n;s.done=o&&c}return s.value=s.done?a:t,s}}}function Es(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:c,max:l,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===c?l:void 0===l||Math.abs(c-e)<Math.abs(l-e)?c:l;let m=r*n;const v=d+m,g=void 0===s?v:s(v);g!==v&&(m=g-d);const y=e=>-m*Math.exp(-e/i),b=e=>g+y(e),x=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?g:n};let w,_;const M=e=>{(e=>void 0!==c&&e<c||void 0!==l&&e>l)(f.value)&&(w=e,_=Ss({keyframes:[f.value,p(f.value)],velocity:ds(b,e,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:h}))};return M(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==w||(t=!0,x(e),M(e)),void 0!==w&&e>w?_.next(e-w):(!t&&x(e),f)}}}const Ts=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Eo.update(t,!0),stop:()=>To(t),now:()=>Po.isProcessing?Po.timestamp:performance.now()}},Ps=2e4;function Cs(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ps;)t+=50,n=e.next(t);return t>=Ps?1/0:t}const As={decay:Es,inertia:Es,tween:ls,keyframes:ls,spring:Ss};function ks(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=Ts,keyframes:a,type:s="keyframes",repeat:c=0,repeatDelay:l=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,v=1,g=!1;const y=()=>{n=new Promise((e=>{t=e}))};let b;y();const x=As[s]||ls;let w;x!==ls&&"number"!==typeof a[0]&&(w=ss([0,100],a,{clamp:!1}),a=[0,100]);const _=x({...m,keyframes:a});let M;"mirror"===u&&(M=x({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let S="idle",E=null,T=null,P=null;null===_.calculatedDuration&&c&&(_.calculatedDuration=Cs(_));const{calculatedDuration:C}=_;let A=1/0,k=1/0;null!==C&&(A=C+l,k=A*(c+1)-l);let O=0;const R=e=>{if(null===T)return;v>0&&(T=Math.min(T,e)),v<0&&(T=Math.min(e-k/v,T)),O=null!==E?E:Math.round(e-T)*v;const t=O-i*(v>=0?1:-1),n=v>=0?t<0:t>k;O=Math.max(t,0),"finished"===S&&null===E&&(O=k);let r=O,o=_;if(c){const e=O/A;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);const i=Boolean(t%2);i&&("reverse"===u?(n=1-n,l&&(n-=l/A)):"mirror"===u&&(o=M));let a=Ti(0,1,n);O>k&&(a="reverse"===u&&i?1:0),r=a*A}const s=n?{done:!1,value:a[0]}:o.next(r);w&&(s.value=w(s.value));let{done:h}=s;n||null===C||(h=v>=0?O>=k:O<=0);const d=null===E&&("finished"===S||"running"===S&&h);return p&&p(s.value),d&&N(),s},L=()=>{b&&b.stop(),b=void 0},D=()=>{S="idle",L(),t(),y(),T=P=null},N=()=>{S="finished",f&&f(),L(),t()},I=()=>{if(g)return;b||(b=o(R));const e=b.now();h&&h(),null!==E?T=e-E:T&&"finished"!==S||(T=e),"finished"===S&&y(),P=T,E=null,S="running",b.start()};r&&I();const j={then:(e,t)=>n.then(e,t),get time(){return aa(O)},set time(e){e=oa(e),O=e,null===E&&b&&0!==v?T=b.now()-e/v:E=e},get duration(){const e=null===_.calculatedDuration?Cs(_):_.calculatedDuration;return aa(e)},get speed(){return v},set speed(e){e!==v&&b&&(v=e,j.time=aa(O))},get state(){return S},play:I,pause:()=>{S="paused",E=O},stop:()=>{g=!0,"idle"!==S&&(S="idle",d&&d(),D())},cancel:()=>{null!==P&&R(P),D()},complete:()=>{S="finished"},sample:e=>(T=0,R(e))};return j}const Os=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Rs=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Ls(e,t,n){let{onUpdate:r,onComplete:i,...o}=n;if(!(Os()&&Rs.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let a,s,c=!1;const l=()=>{s=new Promise((e=>{a=e}))};l();let{keyframes:u,duration:h=300,ease:d,times:f}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!la(t.ease))(t,o)){const e=ks({...o,repeat:0,delay:0});let t={done:!1,value:u[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,u=n,h=r-10,d="linear"}const p=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l={[t]:n};c&&(l.offset=c);const u=da(s);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,u,{...o,duration:h,ease:d,times:f});o.syncStart&&(p.startTime=Po.isProcessing?Po.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),v=()=>{Eo.update(m),a(),l()};p.onfinish=()=>{e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(u,o)),i&&i(),v()};return{then:(e,t)=>s.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,_o),get time(){return aa(p.currentTime||0)},set time(e){p.currentTime=oa(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return aa(h)},play:()=>{c||(p.play(),To(m))},pause:()=>p.pause(),stop:()=>{if(c=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=ks({...o,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>p.finish(),cancel:v}}const Ds={type:"spring",stiffness:500,damping:25,restSpeed:10},Ns={type:"keyframes",duration:.8},Is={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},js=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ns:gi.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ds:Is},zs=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Ka.test(t)&&"0"!==t||t.startsWith("url("))),Fs=new Set(["brightness","contrast","saturate","opacity"]);function Us(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Oi)||[];if(!r)return e;const i=n.replace(r,"");let o=Fs.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Bs=/([a-z-]*)\(.*?\)/g,Vs={...Ka,getAnimatableNone:e=>{const t=e.match(Bs);return t?t.map(Us).join(" "):e}},Hs={...Hi,color:ja,backgroundColor:ja,outlineColor:ja,fill:ja,stroke:ja,borderColor:ja,borderTopColor:ja,borderRightColor:ja,borderBottomColor:ja,borderLeftColor:ja,filter:Vs,WebkitFilter:Vs},Gs=e=>Hs[e];function Ws(e,t){let n=Gs(e);return n!==Vs&&(n=Ka),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qs=e=>/^0[^.\s]+$/.test(e);function Ys(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||qs(e):void 0}function Xs(e,t){return e[t]||e.default||e}const Zs=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=Xs(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=oa(a);const c=function(e,t,n,r){const i=zs(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const c=[];for(let l=0;l<o.length;l++)null===o[l]&&(o[l]=0===l?a:o[l-1]),Ys(o[l])&&c.push(l),"string"===typeof o[l]&&"none"!==o[l]&&"0"!==o[l]&&(s=o[l]);if(i&&c.length&&s)for(let l=0;l<c.length;l++)o[c[l]]=Ws(t,s);return o}(t,e,n,o),l=c[0],u=c[c.length-1],h=zs(e,l),d=zs(e,u);ra(h===d,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(u,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:c,from:l,elapsed:u,...h}=e;return!!Object.keys(h).length}(o)||(f={...f,...js(e,f)}),f.duration&&(f.duration=oa(f.duration)),f.repeatDelay&&(f.repeatDelay=oa(f.repeatDelay)),!h||!d||sa||!1===o.type)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:_o,pause:_o,stop:_o,then:e=>(e(),Promise.resolve()),cancel:_o,complete:_o});return n?ks({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(sa?{...f,delay:0}:f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Ls(t,e,f);if(n)return n}return ks(f)}};function $s(e){return Boolean(bi(e)&&e.add)}const Js=e=>/^\-?\d*\.?\d+$/.test(e);function Ks(e,t){-1===e.indexOf(t)&&e.push(t)}function Qs(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ec{constructor(){this.subscriptions=[]}add(e){return Ks(this.subscriptions,e),()=>Qs(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tc={current:void 0};class nc{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Po;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Eo.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Eo.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ec);const n=this.events[e].add(t);return"change"===e?()=>{n(),Eo.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return tc.current&&tc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?us(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rc(e,t){return new nc(e,t)}const ic=e=>t=>t.test(e),oc=[Pi,zi,ji,Ii,Ui,Fi,{test:e=>"auto"===e,parse:e=>e}],ac=e=>oc.find(ic(e)),sc=[...oc,ja,Ka],cc=e=>sc.find(ic(e));function lc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rc(n))}function uc(e,t){const n=ta(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){lc(e,a,yo(o[a]))}}function hc(e,t){if(!t)return;return(t[e]||t.default||t).from}function dc(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function fc(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const t=e.getValue(h),r=s[h];if(!t||void 0===r||u&&dc(u,h))continue;const i={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!t.hasAnimated){const n=e.getProps()[na];n&&(i.elapsed=window.HandoffAppearAnimations(n,h,t,Eo),i.syncStart=!0)}t.start(Zs(h,t,r,e.shouldReduceMotion&&gi.has(h)?{type:!1}:i));const a=t.animation;$s(c)&&(c.add(h),a.then((()=>c.remove(h)))),l.push(a)}return a&&Promise.all(l).then((()=>{a&&uc(e,a)})),l}function pc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=ta(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(fc(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,c=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(mc).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(pc(e,t,{...o,delay:n+c(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function mc(e,t){return e.sortNodePosition(t)}const vc=[...Qr].reverse(),gc=Qr.length;function yc(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>pc(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=pc(e,t,r);else{const i="function"===typeof t?ta(e,t,r.custom):t;n=Promise.all(fc(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function bc(e){let t=yc(e);const n={animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()};let r=!0;const i=(t,n)=>{const r=ta(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,a){const s=e.getProps(),c=e.getVariantContext(!0)||{},l=[],u=new Set;let h={},d=1/0;for(let t=0;t<gc;t++){const f=vc[t],p=n[f],m=void 0!==s[f]?s[f]:c[f],v=Jr(m),g=f===a?p.isActive:null;!1===g&&(d=t);let y=m===c[f]&&m!==s[f]&&v;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...h},!p.isActive&&null===g||!m&&!p.prevProp||Kr(m)||"boolean"===typeof m)continue;const b=xc(p.prevProp,m);let x=b||f===a&&p.isActive&&!y&&v||t>d&&v;const w=Array.isArray(m)?m:[m];let _=w.reduce(i,{});!1===g&&(_={});const{prevResolvedValues:M={}}=p,S={...M,..._},E=e=>{x=!0,u.delete(e),p.needsAnimating[e]=!0};for(const e in S){const t=_[e],n=M[e];h.hasOwnProperty(e)||(t!==n?vo(t)&&vo(n)?!ea(t,n)||b?E(e):p.protectedKeys[e]=!0:void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0)}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(h={...h,..._}),r&&e.blockInitialAnimation&&(x=!1),x&&!y&&l.push(...w.map((e=>({animation:e,options:{type:f,...o}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),l.push({animation:t})}let f=Boolean(l.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function xc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!ea(t,e)}function wc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let _c=0;const Mc={animation:{Feature:class extends Ho{constructor(e){super(e),e.animationState||(e.animationState=bc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Kr(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Ho{constructor(){super(...arguments),this.id=_c++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Sc=(e,t)=>Math.abs(e-t);class Ec{constructor(e,t){let{transformPagePoint:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Cc(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Sc(e.x,t.x),r=Sc(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Po;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Tc(t,this.transformPagePoint),Eo.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=Cc("pointercancel"===e.type?this.lastMoveEventInfo:Tc(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Ro(e))return;this.handlers=t,this.transformPagePoint=n;const r=Tc(Lo(e),this.transformPagePoint),{point:i}=r,{timestamp:o}=Po;this.history=[{...i,timestamp:o}];const{onSessionStart:a}=t;a&&a(e,Cc(r,this.history)),this.removeListeners=jo(No(window,"pointermove",this.handlePointerMove),No(window,"pointerup",this.handlePointerUp),No(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function Tc(e,t){return t?{point:t(e.point)}:e}function Pc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cc(e,t){let{point:n}=e;return{point:n,delta:Pc(n,kc(t)),offset:Pc(n,Ac(t)),velocity:Oc(t,.1)}}function Ac(e){return e[0]}function kc(e){return e[e.length-1]}function Oc(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=kc(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oa(t)));)n--;if(!r)return{x:0,y:0};const o=aa(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rc(e){return e.max-e.min}function Lc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=za(t.min,t.max,e.origin),e.scale=Rc(n)/Rc(t),(Lc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=za(n.min,n.max,e.origin)-e.originPoint,(Lc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Nc(e,t,n,r){Dc(e.x,t.x,n.x,r?r.originX:void 0),Dc(e.y,t.y,n.y,r?r.originY:void 0)}function Ic(e,t,n){e.min=n.min+t.min,e.max=e.min+Rc(t)}function jc(e,t,n){e.min=t.min-n.min,e.max=e.min+Rc(t)}function zc(e,t,n){jc(e.x,t.x,n.x),jc(e.y,t.y,n.y)}function Fc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Uc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Bc=.35;function Vc(e,t,n){return{min:Hc(e,t),max:Hc(e,n)}}function Hc(e,t){return"number"===typeof e?e:e[t]||0}const Gc=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Wc=()=>({x:{min:0,max:0},y:{min:0,max:0}});function qc(e){return[e("x"),e("y")]}function Yc(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Xc(e){return void 0===e||1===e}function Zc(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Xc(t)||!Xc(n)||!Xc(r)}function $c(e){return Zc(e)||Jc(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Jc(e){return Kc(e.x)||Kc(e.y)}function Kc(e){return e&&"0%"!==e}function Qc(e,t,n){return n+t*(e-n)}function el(e,t,n,r,i){return void 0!==i&&(e=Qc(e,i,r)),Qc(e,n,r)+t}function tl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=el(e.min,t,n,r,i),e.max=el(e.max,t,n,r,i)}function nl(e,t){let{x:n,y:r}=t;tl(e.x,n.translate,n.scale,n.originPoint),tl(e.y,r.translate,r.scale,r.originPoint)}function rl(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function il(e,t){e.min=e.min+t,e.max=e.max+t}function ol(e,t,n){let[r,i,o]=n;const a=void 0!==t[o]?t[o]:.5,s=za(e.min,e.max,a);tl(e,t[r],t[i],s,t.scale)}const al=["x","scaleX","originX"],sl=["y","scaleY","originY"];function cl(e,t){ol(e.x,t,al),ol(e.y,t,sl)}function ll(e,t){return Yc(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ul=new WeakMap;class hl{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wc(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new Ec(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Lo(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bo(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qc((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ji.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Rc(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Eo.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Eo.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!dl(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?za(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?za(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&$r(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Fc(e.x,r,o),y:Fc(e.y,n,i)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc;return!1===e?e=0:!0===e&&(e=Bc),{x:Vc(e,"left","right"),y:Vc(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&qc((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$r(e))return!1;const n=e.current;ia(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=ll(e,n),{scroll:i}=t;return i&&(il(r.x,i.offset.x),il(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Uc(e.x,t.x),y:Uc(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Yc(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},c=qc((a=>{if(!dl(a,t,this.currentDirection))return;let c=s&&s[a]||{};o&&(c={min:0,max:0});const l=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[a]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(a,h)}));return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Zs(e,n,0,t))}stopAnimation(){qc((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){qc((t=>{const{drag:n}=this.getProps();if(!dl(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-za(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!$r(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qc((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Rc(e),i=Rc(t);return i>r?n=is(t.min,t.max-r,e.min):r>i&&(n=is(e.min,e.max-i,t.min)),Ti(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),qc((t=>{if(!dl(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(za(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;ul.set(this.visualElement,this);const e=No(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();$r(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Oo(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(qc((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Bc,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function dl(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const fl=e=>(t,n)=>{e&&Eo.update((()=>e(t,n)))};const pl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ml(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vl={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!zi.test(e))return e;e=parseFloat(e)}const n=ml(e,t.target.x),r=ml(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},gl={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Ka.parse(e);if(o.length>5)return i;const a=Ka.createTransformer(e),s="number"!==typeof o[0]?1:0,c=r.x.scale*n.x,l=r.y.scale*n.y;o[0+s]/=c,o[1+s]/=l;const u=za(c,l,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}};class yl extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=xl,Object.assign(mi,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),pl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Eo.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bl(t){const[n,r]=function(){const t=(0,e.useContext)(qr);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=(0,e.useId)();return(0,e.useEffect)((()=>i(o)),[]),!n&&r?[!1,()=>r&&r(o)]:[!0]}(),i=(0,e.useContext)(si);return e.createElement(yl,{...t,layoutGroup:i,switchLayoutGroup:(0,e.useContext)(ci),isPresent:n,safeToRemove:r})}const xl={borderRadius:{...vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vl,borderTopRightRadius:vl,borderBottomLeftRadius:vl,borderBottomRightRadius:vl,boxShadow:gl},wl=["TopLeft","TopRight","BottomLeft","BottomRight"],_l=wl.length,Ml=e=>"string"===typeof e?parseFloat(e):e,Sl=e=>"number"===typeof e||zi.test(e);function El(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Tl=Cl(0,.5,Sa),Pl=Cl(.5,.95,_o);function Cl(e,t,n){return r=>r<e?0:r>t?1:n(is(e,t,r))}function Al(e,t){e.min=t.min,e.max=t.max}function kl(e,t){Al(e.x,t.x),Al(e.y,t.y)}function Ol(e,t,n,r,i){return e=Qc(e-=t,1/n,r),void 0!==i&&(e=Qc(e,1/i,r)),e}function Rl(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ji.test(t)&&(t=parseFloat(t),t=za(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=za(o.min,o.max,r);e===o&&(s-=t),e.min=Ol(e.min,t,n,s,i),e.max=Ol(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const Ll=["x","scaleX","originX"],Dl=["y","scaleY","originY"];function Nl(e,t,n,r){Rl(e.x,t,Ll,n?n.x:void 0,r?r.x:void 0),Rl(e.y,t,Dl,n?n.y:void 0,r?r.y:void 0)}function Il(e){return 0===e.translate&&1===e.scale}function jl(e){return Il(e.x)&&Il(e.y)}function zl(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Fl(e){return Rc(e.x)/Rc(e.y)}class Ul{constructor(){this.members=[]}add(e){Ks(this.members,e),e.scheduleRender()}remove(e){if(Qs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bl(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+="scale(".concat(a,", ").concat(s,")")),r||"none"}const Vl=(e,t)=>e.depth-t.depth;class Hl{constructor(){this.children=[],this.isDirty=!1}add(e){Ks(this.children,e),this.isDirty=!0}remove(e){Qs(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vl),this.isDirty=!1,this.children.forEach(e)}}const Gl=["","X","Y","Z"];let Wl=0;const ql={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Yl(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Wl++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;ql.totalNodes=ql.resolvedTargetDeltas=ql.recalculatedProjection=0,this.nodes.forEach($l),this.nodes.forEach(ru),this.nodes.forEach(iu),this.nodes.forEach(Jl),e=ql,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ec),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(To(r),e(a-t))};return Eo.read(r,!0),()=>To(r)}(r,250),pl.hasAnimatedSinceResize&&(pl.hasAnimatedSinceResize=!1,this.nodes.forEach(nu))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||uu,{onLayoutAnimationStart:s,onLayoutAnimationComplete:c}=a.getProps(),l=!this.targetLayout||!zl(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Xs(o,"layout"),onPlay:s,onComplete:c};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||nu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ou),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ql);this.isUpdating||this.nodes.forEach(eu),this.isUpdating=!1,this.nodes.forEach(tu),this.nodes.forEach(Xl),this.nodes.forEach(Zl),this.clearAllSnapshots();const e=performance.now();Po.delta=Ti(0,1e3/60,e-Po.timestamp),Po.timestamp=e,Po.isProcessing=!0,Co.update.process(Po),Co.preRender.process(Po),Co.render.process(Po),Po.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Kl),this.sharedNodes.forEach(au)}scheduleUpdateProjection(){Eo.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Eo.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!jl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||$c(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),fu((r=n).x),fu(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return Wc();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(il(t.x,n.offset.x),il(t.y,n.offset.y)),t}removeElementScroll(e){const t=Wc();kl(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){kl(t,e);const{scroll:n}=this.root;n&&(il(t.x,-n.offset.x),il(t.y,-n.offset.y))}il(t.x,i.offset.x),il(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Wc();kl(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&cl(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),$c(e.latestValues)&&cl(n,e.latestValues)}return $c(this.latestValues)&&cl(n,this.latestValues),n}removeTransform(e){const t=Wc();kl(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!$c(e.latestValues))continue;Zc(e.latestValues)&&e.updateSnapshot();const r=Wc();kl(r,e.measurePageBox()),Nl(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return $c(this.latestValues)&&Nl(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Po.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Po.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wc(),this.relativeTargetOrigin=Wc(),zc(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),kl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,c;if(this.target||(this.target=Wc(),this.targetWithTransforms=Wc()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,c=this.relativeParent.target,Ic(a.x,s.x,c.x),Ic(a.y,s.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):kl(this.target,this.layout.layoutBox),nl(this.target,this.targetDelta)):kl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wc(),this.relativeTargetOrigin=Wc(),zc(this.relativeTargetOrigin,this.target,e.target),kl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ql.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Zc(this.parent.latestValues)&&!Jc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Po.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;kl(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&cl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nl(e,a)),r&&$c(o.latestValues)&&cl(e,o.latestValues))}t.x=rl(t.x),t.y=rl(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:c}=t;if(!c)return void(this.projectionTransform&&(this.projectionDelta=Gc(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=Gc(),this.projectionDeltaWithTransform=Gc());const l=this.projectionTransform;Nc(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Bl(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),ql.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=Gc();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=Wc(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=Boolean(s&&!l&&!0===this.options.crossfade&&!this.path.some(lu));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;su(o.x,e.x,n),su(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){cu(e.x,t.x,n.x,r),cu(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=Wc()),kl(h,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=za(0,void 0!==n.opacity?n.opacity:1,Tl(r)),e.opacityExit=za(void 0!==t.opacity?t.opacity:1,0,Pl(r))):o&&(e.opacity=za(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<_l;a++){const i="border".concat(wl[a],"Radius");let o=El(t,i),s=El(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Sl(o)===Sl(s)?(e[i]=Math.max(za(Ml(o),Ml(s),r),0),(ji.test(s)||ji.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=za(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Eo.update((()=>{pl.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=bi(e)?e:rc(e);return r.start(Zs("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&pu(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Wc();const t=Rc(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Rc(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}kl(t,n),cl(t,i),Nc(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ul);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Gl.length;i++){const t="rotate"+Gl[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=bo(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=bo(e.pointerEvents)||""),this.hasProjected&&!$c(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Bl(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:c}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*c.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in mi){if(void 0===a[l])continue;const{correct:e,applyTo:t}=mi[l],n="none"===r.transform?a[l]:e(a[l],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[l]=n}return this.options.layoutId&&(r.pointerEvents=o===this?bo(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Ql),this.root.sharedNodes.clear()}}}function Xl(e){e.updateLayout()}function Zl(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?qc((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Rc(r);r.min=t[e].min,r.max=r.min+i})):pu(i,n.layoutBox,t)&&qc((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=Rc(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=Gc();Nc(a,t,n.layoutBox);const s=Gc();o?Nc(s,e.applyTransform(r,!0),n.measuredBox):Nc(s,t,n.layoutBox);const c=!jl(a);let l=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=Wc();zc(a,n.layoutBox,i.layoutBox);const s=Wc();zc(s,t,o.layoutBox),zl(a,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function $l(e){ql.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Jl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kl(e){e.clearSnapshot()}function Ql(e){e.clearMeasurements()}function eu(e){e.isLayoutDirty=!1}function tu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nu(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ru(e){e.resolveTargetDelta()}function iu(e){e.calcProjection()}function ou(e){e.resetRotation()}function au(e){e.removeLeadSnapshot()}function su(e,t,n){e.translate=za(t.translate,0,n),e.scale=za(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cu(e,t,n,r){e.min=za(t.min,n.min,r),e.max=za(t.max,n.max,r)}function lu(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const uu={duration:.45,ease:[.4,0,.1,1]},hu=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),du=hu("applewebkit/")&&!hu("chrome/")?Math.round:_o;function fu(e){e.min=du(e.min),e.max=du(e.max)}function pu(e,t,n){return"position"===e||"preserve-aspect"===e&&!Lc(Fl(t),Fl(n),.2)}const mu=Yl({attachResizeListener:(e,t)=>Oo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vu={current:void 0},gu=Yl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vu.current){const e=new mu({});e.mount(window),e.setOptions({layoutScroll:!0}),vu.current=e}return vu.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),yu={pan:{Feature:class extends Ho{constructor(){super(...arguments),this.removePointerDownListener=_o}onPointerDown(e){this.session=new Ec(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:fl(e),onStart:fl(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Eo.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=No(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ho{constructor(e){super(e),this.removeGroupControls=_o,this.removeListeners=_o,this.controls=new hl(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_o}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:gu,MeasureLayout:bl}},bu=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const xu=4;function wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ia(n<=xu,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=bu.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return Js(e)?parseFloat(e):e}return Si(i)?wu(i,t,n+1):i}const _u=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mu=e=>_u.has(e),Su=e=>e===Pi||e===zi,Eu=(e,t)=>parseFloat(e.split(", ")[t]),Tu=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Eu(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Eu(t[1],e):0}},Pu=new Set(["x","y","z"]),Cu=vi.filter((e=>!Pu.has(e)));const Au={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Tu(4,13),y:Tu(5,14)};Au.translateX=Au.x,Au.translateY=Au.y;const ku=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(Mu);let o=[],a=!1;const s=[];if(i.forEach((i=>{const c=e.getValue(i);if(!e.hasValue(i))return;let l=n[i],u=ac(l);const h=t[i];let d;if(vo(h)){const e=h.length,t=null===h[0]?1:0;l=h[t],u=ac(l);for(let n=t;n<e&&null!==h[n];n++)d?ia(ac(h[n])===d,"All keyframes must be of the same type"):(d=ac(h[n]),ia(d===u||Su(u)&&Su(d),"Keyframes must be of the same dimension as the current value"))}else d=ac(h);if(u!==d)if(Su(u)&&Su(d)){const e=c.get();"string"===typeof e&&c.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===zi&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===l||0===h)?0===l?c.set(d.transform(l)):t[i]=u.transform(h):(a||(o=function(e){const t=[];return Cu.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],c.jump(h))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=Au[e](r,o)})),t.render();const c=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=Au[n](c,o)})),e})(t,e,s);return o.length&&o.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Yr&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ou(e,t,n,r){return(e=>Object.keys(e).some(Mu))(t)?ku(e,t,n,r):{target:t,transitionEnd:r}}const Ru=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Si(t))return;const n=wu(t,i);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Si(e))continue;const t=wu(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Ou(e,t=i.target,n,r=i.transitionEnd)},Lu={current:null},Du={current:!1};const Nu=new WeakMap,Iu=Object.keys(ai),ju=Iu.length,zu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fu=ei.length;class Uu{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Eo.render(this.render,!1,!0);const{latestValues:s,renderState:c}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=ti(n),this.isVariantNode=ni(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const e=u[h];void 0!==s[h]&&bi(e)&&(e.set(s[h],!1),$s(l)&&l.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Nu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Du.current||function(){if(Du.current=!0,Yr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lu.current=e.matches;e.addListener(t),t()}else Lu.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Lu.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Nu.delete(this.current),this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=gi.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Eo.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:a,...s}=e;for(let c=0;c<ju;c++){const e=Iu[c],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=ai[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(o=a))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:c}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&$r(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:c})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wc()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<zu.length;n++){const t=zu[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(bi(o))e.addValue(i,o),$s(r)&&r.add(i);else if(bi(a))e.addValue(i,rc(o,{owner:e})),$s(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,rc(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Fu;t++){const n=ei[t],r=this.props[n];(Jr(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=rc(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=po(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||bi(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ec),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Bu extends Uu{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...o}=e,{transformValues:a}=t,s=function(e,t,n){const r={};for(const i in e){const e=hc(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),a=o.length;if(a)for(let s=0;s<a;s++){const a=o[s],c=t[a];let l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==l&&null!==l&&("string"===typeof l&&(Js(l)||qs(l))?l=parseFloat(l):!cc(l)&&Ka.test(c)&&(l=Ws(a,c)),e.addValue(a,rc(l,{owner:e})),void 0===n[a]&&(n[a]=l),null!==l&&e.setBaseTarget(a,l))}}(this,o,s);const e=Ru(this,o,s,i);i=e.transitionEnd,o=e.target}return{transition:r,transitionEnd:i,...o}}}class Vu extends Bu{readValueFromInstance(e,t){if(gi.has(t)){const e=Gs(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Mi(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return ll(e,n)}build(e,t,n,r){Gi(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ho(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bi(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){co(e,t,n,r)}}class Hu extends Bu{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(gi.has(t)){const e=Gs(t);return e&&e.default||0}return t=lo.has(t)?t:so(t),e.getAttribute(t)}measureInstanceViewportBox(){return Wc()}scrapeMotionValuesFromProps(e,t){return fo(e,t)}build(e,t,n,r){no(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){uo(e,t,0,r)}mount(e){this.isSVGTag=io(e.tagName),super.mount(e)}}const Gu=(e,t)=>pi(e)?new Hu(t,{enableHardwareAcceleration:!1}):new Vu(t,{enableHardwareAcceleration:!0}),Wu={...Mc,...Qo,...yu,...{layout:{ProjectionNode:gu,MeasureLayout:bl}}},qu=di(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...pi(e)?Ao:ko,preloadedFeatures:n,useRender:ao(i),createVisualElement:r,Component:e}}(e,t,Wu,Gu)));function Yu(){const t=(0,e.useRef)(!1);return Xr((()=>(t.current=!0,()=>{t.current=!1})),[]),t}class Xu extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Zu(t){let{children:n,isPresent:r}=t;const i=(0,e.useId)(),o=(0,e.useRef)(null),a=(0,e.useRef)({width:0,height:0,top:0,left:0});return(0,e.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:s}=a.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}}),[r]),e.createElement(Xu,{isPresent:r,childRef:o,sizeRef:a},e.cloneElement(n,{ref:o}))}const $u=t=>{let{children:n,initial:r,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:c}=t;const l=mo(Ju),u=(0,e.useId)(),h=(0,e.useMemo)((()=>({id:u,initial:r,isPresent:i,custom:a,onExitComplete:e=>{l.set(e,!0);for(const t of l.values())if(!t)return;o&&o()},register:e=>(l.set(e,!1),()=>l.delete(e))})),s?void 0:[i]);return(0,e.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[i]),e.useEffect((()=>{!i&&!l.size&&o&&o()}),[i]),"popLayout"===c&&(n=e.createElement(Zu,{isPresent:i},n)),e.createElement(qr.Provider,{value:h},n)};function Ju(){return new Map}const Ku=e=>e.key||"";const Qu=t=>{let{children:n,custom:r,initial:i=!0,onExitComplete:o,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:c="sync"}=t;ia(!a,"Replace exitBeforeEnter with mode='wait'");const l=(0,e.useContext)(si).forceRender||function(){const t=Yu(),[n,r]=(0,e.useState)(0),i=(0,e.useCallback)((()=>{t.current&&r(n+1)}),[n]);return[(0,e.useCallback)((()=>Eo.postRender(i)),[i]),n]}()[0],u=Yu(),h=function(t){const n=[];return e.Children.forEach(t,(t=>{(0,e.isValidElement)(t)&&n.push(t)})),n}(n);let d=h;const f=(0,e.useRef)(new Map).current,p=(0,e.useRef)(d),m=(0,e.useRef)(new Map).current,v=(0,e.useRef)(!0);var g;if(Xr((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=Ku(e);t.set(n,e)}))}(h,m),p.current=d})),g=()=>{v.current=!0,m.clear(),f.clear()},(0,e.useEffect)((()=>()=>g()),[]),v.current)return e.createElement(e.Fragment,null,d.map((t=>e.createElement($u,{key:Ku(t),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:s,mode:c},t))));d=[...d];const y=p.current.map(Ku),b=h.map(Ku),x=y.length;for(let e=0;e<x;e++){const t=y[e];-1!==b.indexOf(t)||f.has(t)||f.set(t,void 0)}return"wait"===c&&f.size&&(d=[]),f.forEach(((t,n)=>{if(-1!==b.indexOf(n))return;const i=m.get(n);if(!i)return;const a=y.indexOf(n);let v=t;if(!v){const t=()=>{f.delete(n);const e=Array.from(m.keys()).filter((e=>!b.includes(e)));if(e.forEach((e=>m.delete(e))),p.current=h.filter((t=>{const r=Ku(t);return r===n||e.includes(r)})),!f.size){if(!1===u.current)return;l(),o&&o()}};v=e.createElement($u,{key:Ku(i),isPresent:!1,onExitComplete:t,custom:r,presenceAffectsLayout:s,mode:c},i),f.set(n,v)}d.splice(a,0,v)})),d=d.map((t=>{const n=t.key;return f.has(n)?t:e.createElement($u,{key:Ku(t),isPresent:!0,presenceAffectsLayout:s,mode:c},t)})),e.createElement(e.Fragment,null,f.size?d:d.map((t=>(0,e.cloneElement)(t))))};var eh,th,nh,rh,ih;const oh=Gt.div(eh||(eh=i(["\n  height: 200vh;\n  width: 100vw;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n  box-sizing: border-box;\n  position: relative;\n"]))),ah=Gt.div(th||(th=i(["\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  width: 80vw;\n  gap: 60px;\n\n  div:first-child,\n  div:last-child {\n    grid-column: span 2;\n  }\n"]))),sh=Gt(qu.div)(nh||(nh=i(["\n  font-size: 30px;\n  position: absolute;\n  top: 100px;\n"]))),ch=Gt(qu.div)(rh||(rh=i(["\n  background-color: rgba(255, 255, 255, 1);\n  border-radius: 20px;\n  height: 500px;\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.06);\n  overflow: hidden;\n"]))),lh=Gt(qu.div)(ih||(ih=i(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));const uh=function(){const[t,n]=(0,e.useState)(null);return(0,hr.jsxs)(oh,{children:[(0,hr.jsxs)(sh,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1,transition:{delay:.2}},children:["\ud658\uacbd\uc5d0 \uad00\ud55c \ucd5c\uadfc"," ",(0,hr.jsx)("span",{style:{backgroundColor:"#ffb703",color:"white",padding:5},children:"\ud1a0\ud53d"}),"\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694!"]}),(0,hr.jsxs)(ah,{style:{zIndex:0},children:[(0,hr.jsx)(ch,{layoutId:"1",onClick:()=>n("1"),children:(0,hr.jsx)("iframe",{src:"https://news.kbs.co.kr/news/pc/view/view.do?ncd=7742803",width:"100%",height:"100%"})},"1"),(0,hr.jsx)(ch,{layoutId:"4",onClick:()=>n("4"),children:(0,hr.jsx)("iframe",{src:"https://news.jtbc.co.kr/article/article.aspx?news_id=nb12146345",width:"100%",height:"100%"})},"4")]}),(0,hr.jsx)(Qu,{children:t?(0,hr.jsx)(lh,{onClick:()=>{n(null)},children:(0,hr.jsx)(ch,{layoutId:t,style:{width:"90vw",height:"80vh"}})}):null})]})};function hh(e){return Ir({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}},{tag:"path",attr:{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}}]})(e)}var dh,fh,ph,mh,vh,gh,yh,bh;const xh=Gt.div(dh||(dh=i(["\n  height: 100vh;\n  background-color: black;\n  color: white;\n"]))),wh=Gt.div(fh||(fh=i(["\n  position: relative;\n  height: 80vh;\n  background-color: #333;\n  left: 50%;\n  top: 0;\n  transform: translateX(-50%);\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px,\n    rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;\n"]))),_h=Gt.div(ph||(ph=i(['\n  width: 1920px;\n  background-color: orange;\n  position: absolute;\n\n  left: 50%;\n  margin-left: calc(1920px / -2);\n  top: 50%;\n  margin-top: calc(1920px * 9 / 16 / -2);\n\n  &::before {\n    content: "";\n    display: block;\n    width: 100%;\n    height: 0;\n    padding-top: 56.25%;\n  }\n']))),Mh=Gt.iframe(mh||(mh=i(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Sh=Gt.div(vh||(vh=i(["\n  background-image: url(/assets/video_cover_pattern.png);\n  background-color: rgba(0, 0, 0, 0.15);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Eh=Gt(qu.div)(gh||(gh=i(["\n  font-weight: 400;\n  color: #f5f5f5;\n  background-color: none;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  font-size: 50px;\n"]))),Th=(Gt.img(yh||(yh=i(["\n  position: absolute;\n  top: 40%;\n  left: -20%;\n  width: 130%;\n  object-fit: cover;\n"]))),Gt(qu.div)(bh||(bh=i(["\n  height: calc(20vh - 80px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  margin-top: 40px;\n\n  & .icon {\n    font-size: 40px;\n    margin-left: 5px;\n  }\n"])))),Ph=function(){const e={float:{y:[0,-2,2,0],transition:{ease:ba,y:{repeat:1/0,duration:3}}}};return(0,hr.jsxs)(xh,{children:[(0,hr.jsxs)(wh,{children:[(0,hr.jsx)(_h,{children:(0,hr.jsx)(Mh,{src:"https://www.youtube.com/embed/Kv9v9ALV3yk?autoplay=1&mute=1&start=0&end=70&controls=0&loop=1&playlist=Kv9v9ALV3yk",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})}),(0,hr.jsx)(Sh,{}),(0,hr.jsx)(Eh,{variants:{start:{opacity:0,top:"50%",left:"50%"},end:{opacity:1,transition:{duration:2,bounce:.5,delayChildren:1,staggerChildren:1}}},initial:"start",animate:"end",children:(0,hr.jsx)(qu.div,{variants:{start:{opacity:0},end:{opacity:1}},children:'"Protect Us."'})})]}),(0,hr.jsxs)(Th,{variants:e,initial:"float",animate:"float",children:[(0,hr.jsx)("div",{children:"- Co2\uc640 \uc9c0\uad6c\uc628\ub09c\ud654, \uadf8\ub9b0\ub780\ub4dc\ub294 \ub179\uace0\uc788\uc2b5\ub2c8\ub2e4 -"}),(0,hr.jsx)(hh,{className:"icon"})]})]})};var Ch,Ah,kh,Oh,Rh,Lh,Dh,Nh,Ih,jh,zh,Fh,Uh,Bh,Vh,Hh;const Gh=Gt.div(Ch||(Ch=i(["\n  border-radius: 5px;\n  box-sizing: border-box;\n  width: 70%;\n  margin-top: 30px;\n"]))),Wh=Gt.div(Ah||(Ah=i(["\n  width: 100%;\n  height: 3px;\n  margin: 15px 0;\n"]))),qh=Gt.div(kh||(kh=i(["\n  border-radius: 5px;\n  overflow-y: scroll;\n  max-height: 300px;\n  background-color: yellow;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0px 30px;\n  font-size: 15px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n"]))),Yh=Gt.div(Oh||(Oh=i(["\n  // background-color: royalBlue;\n  margin: 20px 0;\n"]))),Xh=Gt.form(Rh||(Rh=i(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n  position: relative;\n"]))),Zh=Gt.input(Lh||(Lh=i(["\n  flex: 1;\n  padding: 20px 30px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  &:focus {\n    outline: none;\n  }\n"]))),$h=Gt.button(Dh||(Dh=i(["\n  padding: 8px 16px;\n  background-color: #212121;\n  position: absolute;\n  right: 30px;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n"]))),Jh=(Gt.div(Nh||(Nh=i(["\n  display: none;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n"]))),Gt.div(Ih||(Ih=i(["\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-top: 4px solid #007bff;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),Gt.div(jh||(jh=i(["\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])))),Kh=Gt.div(zh||(zh=i(["\n  width: 100%;\n  height: 600px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),Qh=Gt.div(Fh||(Fh=i(["\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  color: #212121;\n"]))),ed=Gt.span(Uh||(Uh=i(["\n  font-size: 48px;\n  font-weight: 700;\n  line-height: 60px;\n"]))),td=Gt.span(Bh||(Bh=i(["\n  font-size: 40px;\n  font-weight: 700;\n  line-height: 60px;\n"]))),nd=(Gt.div(Vh||(Vh=i(["\n  height: 88px;\n"]))),Gt.textarea(Hh||(Hh=i(["\n  height: inherit;\n  width: 95%;\n"]))),()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)([]),[s,c]=(0,e.useState)(!0),[l,u]=(0,e.useState)(!0),h=()=>{},d=()=>{},f=()=>{},p=async e=>{const t={"Content-Type":"application/json",Authorization:"Bearer ".concat("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")},n={model:"ft:gpt-3.5-turbo-0613:personal::8NrkgSRZ",messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:e}]},r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:t,body:JSON.stringify(n)});return(await r.json()).choices[0].message.content},m=(e,t)=>{a((n=>[...n,{message:e,sender:t}]))};return(0,hr.jsx)(Jh,{children:(0,hr.jsxs)(Kh,{children:[(0,hr.jsxs)(Qh,{style:{opacity:s?1:0,transition:"opacity 0.7s"},children:[(0,hr.jsx)(ed,{children:"\uc548\ub155\ud558\uc138\uc694!"}),(0,hr.jsx)(td,{children:"\uae00\ub85c\ubc8c \ubcf4\uc77c\ub9c1\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"})]}),(0,hr.jsxs)(Gh,{style:{transform:l?"translateY(0)":"translateY(-200px)",transition:"transform 1s"},children:[(0,hr.jsxs)(Xh,{onSubmit:async e=>{e.preventDefault(),h();const r=t;a([]),m(r,"\uc0ac\uc6a9\uc790");try{const e=await p(r);f(),m(e,"GNI")}catch(i){console.error("Error fetching bot response:",i)}finally{d(),n("")}},children:[(0,hr.jsx)(Zh,{type:"text",value:t,placeholder:"\uc9c8\ubb38\uc744 \uc785\ub825\ud558\uc138\uc694",onFocus:()=>{c(!1),u(!1)},onBlur:()=>{c(!0),u(!0)},onChange:e=>n(e.target.value)}),(0,hr.jsx)($h,{type:"submit",style:{backgroundColor:s?"gray":"#212121",transition:"opacity 0.5s"},children:"ENTER"})]}),(0,hr.jsx)(Wh,{style:{backgroundColor:s?"gray":"#212121",transition:"opacity 0.5s"}}),(0,hr.jsx)(qh,{style:{position:"absolute",opacity:s?0:1,transition:"opacity 0.7s",lineHeight:1.5},children:o.map(((e,t)=>(0,hr.jsx)(Yh,{className:"message ".concat(e.sender),children:(0,hr.jsx)("div",{children:e.message})},t)))})]})]})})});var rd=n(2007),id=n.n(rd),od=Object.defineProperty,ad={};((e,t)=>{for(var n in t)od(e,n,{get:t[n],enumerable:!0})})(ad,{assign:()=>Fd,colors:()=>Id,createStringInterpolator:()=>Rd,skipAnimation:()=>jd,to:()=>Ld,willAdvance:()=>zd});var sd=Md(),cd=e=>bd(e,sd),ld=Md();cd.write=e=>bd(e,ld);var ud=Md();cd.onStart=e=>bd(e,ud);var hd=Md();cd.onFrame=e=>bd(e,hd);var dd=Md();cd.onFinish=e=>bd(e,dd);var fd=[];cd.setTimeout=(e,t)=>{const n=cd.now()+t,r=()=>{const e=fd.findIndex((e=>e.cancel==r));~e&&fd.splice(e,1),gd-=~e?1:0},i={time:n,handler:e,cancel:r};return fd.splice(pd(n),0,i),gd+=1,xd(),i};var pd=e=>~(~fd.findIndex((t=>t.time>e))||~fd.length);cd.cancel=e=>{ud.delete(e),hd.delete(e),dd.delete(e),sd.delete(e),ld.delete(e)},cd.sync=e=>{yd=!0,cd.batchedUpdates(e),yd=!1},cd.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,cd.onStart(n)}return r.handler=e,r.cancel=()=>{ud.delete(n),t=null},r};var md="undefined"!=typeof window?window.requestAnimationFrame:()=>{};cd.use=e=>md=e,cd.now="undefined"!=typeof performance?()=>performance.now():Date.now,cd.batchedUpdates=e=>e(),cd.catch=console.error,cd.frameLoop="always",cd.advance=()=>{"demand"!==cd.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_d()};var vd=-1,gd=0,yd=!1;function bd(e,t){yd?(t.delete(e),e(0)):(t.add(e),xd())}function xd(){vd<0&&(vd=0,"demand"!==cd.frameLoop&&md(wd))}function wd(){~vd&&(md(wd),cd.batchedUpdates(_d))}function _d(){const e=vd;vd=cd.now();const t=pd(vd);t&&(Sd(fd.splice(0,t),(e=>e.handler())),gd-=t),gd?(ud.flush(),sd.flush(e?Math.min(64,vd-e):16.667),hd.flush(),ld.flush(),dd.flush()):vd=-1}function Md(){let e=new Set,t=e;return{add(n){gd+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(gd-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,gd-=t.size,Sd(t,(t=>t(n)&&e.add(t))),gd+=e.size,t=e)}}}function Sd(e,t){e.forEach((e=>{try{t(e)}catch(n){cd.catch(n)}}))}function Ed(){}var Td={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Pd(e,t){if(Td.arr(e)){if(!Td.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Cd=(e,t)=>e.forEach(t);function Ad(e,t,n){if(Td.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var kd=e=>Td.und(e)?[]:Td.arr(e)?e:[e];function Od(e,t){if(e.size){const n=Array.from(e);e.clear(),Cd(n,t)}}var Rd,Ld,Dd=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Od(e,(e=>e(...n)))},Nd=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Id=null,jd=!1,zd=Ed,Fd=e=>{e.to&&(Ld=e.to),e.now&&(cd.now=e.now),void 0!==e.colors&&(Id=e.colors),null!=e.skipAnimation&&(jd=e.skipAnimation),e.createStringInterpolator&&(Rd=e.createStringInterpolator),e.requestAnimationFrame&&cd.use(e.requestAnimationFrame),e.batchedUpdates&&(cd.batchedUpdates=e.batchedUpdates),e.willAdvance&&(zd=e.willAdvance),e.frameLoop&&(cd.frameLoop=e.frameLoop)},Ud=new Set,Bd=[],Vd=[],Hd=0,Gd={get idle(){return!Ud.size&&!Bd.length},start(e){Hd>e.priority?(Ud.add(e),cd.onStart(Wd)):(qd(e),cd(Xd))},advance:Xd,sort(e){if(Hd)cd.onFrame((()=>Gd.sort(e)));else{const t=Bd.indexOf(e);~t&&(Bd.splice(t,1),Yd(e))}},clear(){Bd=[],Ud.clear()}};function Wd(){Ud.forEach(qd),Ud.clear(),cd(Xd)}function qd(e){Bd.includes(e)||Yd(e)}function Yd(e){Bd.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(Bd,(t=>t.priority>e.priority)),0,e)}function Xd(e){const t=Vd;for(let n=0;n<Bd.length;n++){const r=Bd[n];Hd=r.priority,r.idle||(zd(r),r.advance(e),r.idle||t.push(r))}return Hd=0,(Vd=Bd).length=0,(Bd=t).length>0}var Zd="[-+]?\\d*\\.?\\d+",$d=Zd+"%";function Jd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Kd=new RegExp("rgb"+Jd(Zd,Zd,Zd)),Qd=new RegExp("rgba"+Jd(Zd,Zd,Zd,Zd)),ef=new RegExp("hsl"+Jd(Zd,$d,$d)),tf=new RegExp("hsla"+Jd(Zd,$d,$d,Zd)),nf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,of=/^#([0-9a-fA-F]{6})$/,af=/^#([0-9a-fA-F]{8})$/;function sf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cf(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=sf(i,r,e+1/3),a=sf(i,r,e),s=sf(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function lf(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function uf(e){return(parseFloat(e)%360+360)%360/360}function hf(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function df(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ff(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=of.exec(e))?parseInt(t[1]+"ff",16)>>>0:Id&&void 0!==Id[e]?Id[e]:(t=Kd.exec(e))?(lf(t[1])<<24|lf(t[2])<<16|lf(t[3])<<8|255)>>>0:(t=Qd.exec(e))?(lf(t[1])<<24|lf(t[2])<<16|lf(t[3])<<8|hf(t[4]))>>>0:(t=nf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=af.exec(e))?parseInt(t[1],16)>>>0:(t=rf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ef.exec(e))?(255|cf(uf(t[1]),df(t[2]),df(t[3])))>>>0:(t=tf.exec(e))?(cf(uf(t[1]),df(t[2]),df(t[3]))|hf(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;const n=(16711680&t)>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var pf=(e,t,n)=>{if(Td.fun(e))return e;if(Td.arr(e))return pf({range:e,output:t,extrapolate:n});if(Td.str(e.output[0]))return Rd(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,c){let l=c?c(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,o[t],o[t+1],i[t],i[t+1],c,a,s,r.map)}};var mf=1.70158,vf=1.525*mf,gf=mf+1,yf=2*Math.PI/3,bf=2*Math.PI/4.5,xf=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},wf={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>gf*e*e*e-mf*e*e,easeOutBack:e=>1+gf*Math.pow(e-1,3)+mf*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-vf)/2:(Math.pow(2*e-2,2)*((vf+1)*(2*e-2)+vf)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*yf),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*yf)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*bf)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*bf)/2+1,easeInBounce:e=>1-xf(1-e),easeOutBounce:xf,easeInOutBounce:e=>e<.5?(1-xf(1-2*e))/2:(1+xf(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},_f=Symbol.for("FluidValue.get"),Mf=Symbol.for("FluidValue.observers"),Sf=e=>Boolean(e&&e[_f]),Ef=e=>e&&e[_f]?e[_f]():e,Tf=e=>e[Mf]||null;function Pf(e,t){const n=e[Mf];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Cf=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Af(this,e)}},Af=(e,t)=>Lf(e,_f,t);function kf(e,t){if(e[_f]){let n=e[Mf];n||Lf(e,Mf,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Of(e,t){const n=e[Mf];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Mf]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Rf,Lf=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Df=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Nf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,If=new RegExp("(".concat(Df.source,")(%|[a-z]+)"),"i"),jf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,zf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ff=e=>{const[t,n]=Uf(e);if(!t||Nd())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&zf.test(n)?Ff(n):n||e},Uf=e=>{const t=zf.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Bf=(e,t,n,r,i)=>"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")"),Vf=e=>{Rf||(Rf=Id?new RegExp("(".concat(Object.keys(Id).join("|"),")(?!\\w)"),"g"):/^\b$/);const t=e.output.map((e=>Ef(e).replace(zf,Ff).replace(Nf,ff).replace(Rf,ff))),n=t.map((e=>e.match(Df).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>pf({...e,output:t})));return e=>{var n;const i=!If.test(t[0])&&(null===(n=t.find((e=>If.test(e))))||void 0===n?void 0:n.replace(Df,""));let o=0;return t[0].replace(Df,(()=>"".concat(r[o++](e)).concat(i||""))).replace(jf,Bf)}},Hf="react-spring: ",Gf=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError("".concat(Hf,"once requires a function parameter"));return function(){n||(t(...arguments),n=!0)}},Wf=Gf(console.warn);var qf=Gf(console.warn);function Yf(e){return Td.str(e)&&("#"==e[0]||/\d/.test(e)||!Nd()&&zf.test(e)||e in(Id||{}))}var Xf=Nd()?e.useEffect:e.useLayoutEffect,Zf=()=>{const t=(0,e.useRef)(!1);return Xf((()=>(t.current=!0,()=>{t.current=!1})),[]),t};function $f(){const t=(0,e.useState)()[1],n=Zf();return()=>{n.current&&t(Math.random())}}var Jf=t=>(0,e.useEffect)(t,Kf),Kf=[];function Qf(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current}var ep=Symbol.for("Animated:node"),tp=e=>e&&e[ep],np=(e,t)=>((e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}))(e,ep,t),rp=e=>e&&e[ep]&&e[ep].getPayload(),ip=class{constructor(){np(this,this)}getPayload(){return this.payload||[]}},op=class extends ip{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Td.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new op(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Td.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Td.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},ap=class extends op{constructor(e){super(0),this._string=null,this._toString=pf({output:[e,e]})}static create(e){return new ap(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Td.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=pf({output:[this.getValue(),e]})),this._value=0,super.reset()}},sp={dependencies:null},cp=class extends ip{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Ad(this.source,((n,r)=>{(e=>!!e&&e[ep]===e)(n)?t[r]=n.getValue(e):Sf(n)?t[r]=Ef(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Cd(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Ad(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){sp.dependencies&&Sf(e)&&sp.dependencies.add(e);const t=rp(e);t&&Cd(t,(e=>this.add(e)))}},lp=class extends cp{constructor(e){super(e)}static create(e){return new lp(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(up)),!0)}};function up(e){return(Yf(e)?ap:op).create(e)}function hp(e){const t=tp(e);return t?t.constructor:Td.arr(e)?lp:Yf(e)?ap:op}var dp=(t,n)=>{const r=!Td.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)(((i,o)=>{const a=(0,e.useRef)(null),s=r&&(0,e.useCallback)((e=>{a.current=function(e,t){e&&(Td.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[c,l]=function(e,t){const n=new Set;sp.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new cp(e),sp.dependencies=null,[e,n]}(i,n),u=$f(),h=()=>{const e=a.current;if(r&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,c.getValue(!0)))&&u()},d=new fp(h,l),f=(0,e.useRef)();Xf((()=>(f.current=d,Cd(l,(e=>kf(e,d))),()=>{f.current&&(Cd(f.current.deps,(e=>Of(e,f.current))),cd.cancel(f.current.update))}))),(0,e.useEffect)(h,[]),Jf((()=>()=>{const e=f.current;Cd(e.deps,(t=>Of(t,e)))}));const p=n.getComponentProps(c.getValue());return e.createElement(t,{...p,ref:s})}))},fp=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&cd.write(this.update)}};var pp=Symbol.for("AnimatedComponent"),mp=e=>Td.str(e)?e:e&&Td.str(e.displayName)?e.displayName:Td.fun(e)&&e.name||null;function vp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Td.fun(e)?e(...n):e}var gp=(e,t)=>!0===e||!!(t&&e&&(Td.fun(e)?e(t):kd(e).includes(t))),yp=(e,t)=>Td.obj(e)?t&&e[t]:e,bp=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,xp=e=>e,wp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xp,n=_p;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);Td.und(n)||(r[i]=n)}return r},_p=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Mp={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Sp(e){const t=function(e){const t={};let n=0;if(Ad(e,((e,r)=>{Mp[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Ad(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function Ep(e){return e=Ef(e),Td.arr(e)?e.map(Ep):Yf(e)?ad.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Tp(e){for(const t in e)return!0;return!1}function Pp(e){return Td.fun(e)||Td.arr(e)&&Td.obj(e[0])}function Cp(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function Ap(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var kp={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Op={...kp.default,mass:1,damping:1,easing:wf.linear,clamp:!1},Rp=class{constructor(){this.velocity=0,Object.assign(this,Op)}};function Lp(e,t){if(Td.und(t.decay)){const n=!Td.und(t.tension)||!Td.und(t.friction);!n&&Td.und(t.frequency)&&Td.und(t.damping)&&Td.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Dp=[],Np=class{constructor(){this.changed=!1,this.values=Dp,this.toValues=null,this.fromValues=Dp,this.config=new Rp,this.immediate=!1}};function Ip(e,t){let{key:n,props:r,defaultProps:i,state:o,actions:a}=t;return new Promise(((t,s)=>{var c;let l,u,h=gp(null!==(c=r.cancel)&&void 0!==c?c:null===i||void 0===i?void 0:i.cancel,n);if(h)p();else{Td.und(r.pause)||(o.paused=gp(r.pause,n));let e=null===i||void 0===i?void 0:i.pause;!0!==e&&(e=o.paused||gp(e,n)),l=vp(r.delay||0,n),e?(o.resumeQueue.add(f),a.pause()):(a.resume(),f())}function d(){o.resumeQueue.add(f),o.timeouts.delete(u),u.cancel(),l=u.time-cd.now()}function f(){l>0&&!ad.skipAnimation?(o.delayed=!0,u=cd.setTimeout(p,l),o.pauseQueue.add(d),o.timeouts.add(u)):p()}function p(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(u),e<=(o.cancelId||0)&&(h=!0);try{a.start({...r,callId:e,cancel:h},t)}catch(n){s(n)}}}))}var jp=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Up(e.get()):t.every((e=>e.noop))?zp(e.get()):Fp(e.get(),t.every((e=>e.finished))),zp=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Fp=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Up=e=>({value:e,cancelled:!0,finished:!1});function Bp(e,t,n,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:c}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=wp(t,((e,t)=>"onRest"===t?void 0:e));let u,h;const d=new Promise(((e,t)=>(u=e,h=t))),f=e=>{const t=i<=(n.cancelId||0)&&Up(r)||i!==n.asyncId&&Fp(r,!1);if(t)throw e.result=t,h(e),e},p=(e,t)=>{const o=new Hp,a=new Gp;return(async()=>{if(ad.skipAnimation)throw Vp(n),a.result=Fp(r,!1),h(a),a;f(o);const s=Td.obj(e)?{...e}:{...t,to:e};s.parentId=i,Ad(l,((e,t)=>{Td.und(s[t])&&(s[t]=e)}));const c=await r.start(s);return f(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),c})()};let m;if(ad.skipAnimation)return Vp(n),Fp(r,!1);try{let t;t=Td.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),d]),m=Fp(r.get(),!0,!1)}catch(v){if(v instanceof Hp)m=v.result;else{if(!(v instanceof Gp))throw v;m=v.result}}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?c:void 0)}return Td.fun(a)&&cd.batchedUpdates((()=>{a(m,r,r.item)})),m})():c}function Vp(e,t){Od(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Hp=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Gp=class extends Error{constructor(){super("SkipAnimationSignal")}},Wp=e=>e instanceof Yp,qp=1,Yp=class extends Cf{constructor(){super(...arguments),this.id=qp++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=tp(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ad.to(this,t)}interpolate(){Wf("".concat(Hf,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ad.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){Pf(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||Gd.sort(this),Pf(this,{type:"priority",parent:this,priority:e})}},Xp=Symbol.for("SpringPhase"),Zp=e=>(1&e[Xp])>0,$p=e=>(2&e[Xp])>0,Jp=e=>(4&e[Xp])>0,Kp=(e,t)=>t?e[Xp]|=3:e[Xp]&=-3,Qp=(e,t)=>t?e[Xp]|=4:e[Xp]&=-5,em=class extends Yp{constructor(e,t){if(super(),this.animation=new Np,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Td.und(e)||!Td.und(t)){const n=Td.obj(e)?{...e}:{...t,from:e};Td.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!($p(this)||this._state.asyncTo)||Jp(this)}get goal(){return Ef(this.animation.to)}get velocity(){const e=tp(this);return e instanceof op?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Zp(this)}get isAnimating(){return $p(this)}get isPaused(){return Jp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=rp(r.to);!a&&Sf(r.to)&&(i=kd(Ef(r.to))),r.values.forEach(((s,c)=>{if(s.done)return;const l=s.constructor==ap?1:a?a[c].lastPosition:i[c];let u=r.immediate,h=l;if(!u){if(h=s.lastPosition,o.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[c],i=null!=s.v0?s.v0:s.v0=Td.arr(o.velocity)?o.velocity[c]:o.velocity;let a;const d=o.precision||(n==l?.005:Math.min(1,.001*Math.abs(l-n)));if(Td.und(o.duration))if(o.decay){const e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*t);h=n+i/(1-e)*(1-r),u=Math.abs(s.lastPosition-h)<=d,a=i*r}else{a=null==s.lastVelocity?i:s.lastVelocity;const t=o.restVelocity||d/10,r=o.clamp?0:o.bounce,c=!Td.und(r),f=n==l?s.v0>0:n<l;let p,m=!1;const v=1,g=Math.ceil(e/v);for(let e=0;e<g&&(p=Math.abs(a)>t,p||(u=Math.abs(l-h)<=d,!u));++e){c&&(m=h==l||h>l==f,m&&(a=-a*r,h=l));a+=(1e-6*-o.tension*(h-l)+.001*-o.friction*a)/o.mass*v,h+=a*v}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(o.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),h=n+o.easing(r)*(l-n),a=(h-s.lastPosition)/e,u=1==r}s.lastVelocity=a,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[c].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(h,o.round)&&(n=!0)}));const s=tp(this),c=s.getValue();if(t){const e=Ef(r.to);c===e&&!n||o.decay?n&&o.decay&&this._onChange(c):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(c)}set(e){return cd.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if($p(this)){const{to:e,config:t}=this.animation;cd.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Td.und(e)?(n=this.queue||[],this.queue=[]):n=[Td.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>jp(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Vp(this._state,e&&this._lastCallId),cd.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Td.obj(n)?n[t]:n,(null==n||Pp(n))&&(n=void 0),r=Td.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Zp(this)||(e.reverse&&([n,r]=[r,n]),r=Ef(r),Td.und(r)?tp(this)||this._set(n):this._set(r)),i}_update(e,t){let{...n}=e;const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,wp(n,((e,t)=>/^on/.test(t)?yp(e,r):e))),sm(this,n,"onProps"),cm(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Ip(++this._lastCallId,{key:r,props:n,defaultProps:i,state:a,actions:{pause:()=>{Jp(this)||(Qp(this,!0),Dd(a.pauseQueue),cm(this,"onPause",Fp(this,tm(this,this.animation.to)),this))},resume:()=>{Jp(this)&&(Qp(this,!1),$p(this)&&this._resume(),Dd(a.resumeQueue),cm(this,"onResume",Fp(this,tm(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=nm(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Up(this));const r=!Td.und(e.to),i=!Td.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(Up(this));this._lastToId=t.callId}const{key:o,defaultProps:a,animation:s}=this,{to:c,from:l}=s;let{to:u=c,from:h=l}=e;!i||r||t.default&&!Td.und(u)||(u=h),t.reverse&&([u,h]=[h,u]);const d=!Pd(h,l);d&&(s.from=h),h=Ef(h);const f=!Pd(u,c);f&&this._focus(u);const p=Pp(t.to),{config:m}=s,{decay:v,velocity:g}=m;(r||i)&&(m.velocity=0),t.config&&!p&&function(e,t,n){n&&(Lp(n={...n},t),t={...n,...t}),Lp(e,t),Object.assign(e,t);for(const a in Op)null==e[a]&&(e[a]=Op[a]);let{frequency:r,damping:i}=e;const{mass:o}=e;Td.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(m,vp(t.config,o),t.config!==a.config?vp(a.config,o):void 0);let y=tp(this);if(!y||Td.und(u))return n(Fp(this,!0));const b=Td.und(t.reset)?i&&!t.default:!Td.und(h)&&gp(t.reset,o),x=b?h:this.get(),w=Ep(u),_=Td.num(w)||Td.arr(w)||Yf(w),M=!p&&(!_||gp(a.immediate||t.immediate,o));if(f){const e=hp(u);if(e!==y.constructor){if(!M)throw Error("Cannot animate between ".concat(y.constructor.name," and ").concat(e.name,', as the "to" prop suggests'));y=this._set(w)}}const S=y.constructor;let E=Sf(u),T=!1;if(!E){const e=b||!Zp(this)&&d;(f||e)&&(T=Pd(Ep(x),w),E=!T),(Pd(s.immediate,M)||M)&&Pd(m.decay,v)&&Pd(m.velocity,g)||(E=!0)}if(T&&$p(this)&&(s.changed&&!b?E=!0:E||this._stop(c)),!p&&((E||Sf(c))&&(s.values=y.getPayload(),s.toValues=Sf(u)?null:S==ap?[1]:kd(w)),s.immediate!=M&&(s.immediate=M,M||b||this._set(c)),E)){const{onRest:e}=s;Cd(am,(e=>sm(this,t,e)));const r=Fp(this,tm(this,c));Dd(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&cd.batchedUpdates((()=>{var t;(s.changed=!b,null===e||void 0===e||e(r,this),b)?vp(a.onRest,r):null===(t=s.onStart)||void 0===t||t.call(s,r,this)}))}b&&this._set(x),p?n(Bp(t.to,t,this._state,this)):E?this._start():$p(this)&&!f?this._pendingCalls.add(n):n(zp(x))}_focus(e){const t=this.animation;e!==t.to&&(Tf(this)&&this._detach(),t.to=e,Tf(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Sf(t)&&(kf(t,this),Wp(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Sf(e)&&Of(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Ef(e);if(!Td.und(n)){const e=tp(this);if(!e||!Pd(n,e.getValue())){const r=hp(n);e&&e.constructor==r?e.setValue(n):np(this,r.create(n)),e&&cd.batchedUpdates((()=>{this._onChange(n,t)}))}}return tp(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,cm(this,"onStart",Fp(this,tm(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),vp(this.animation.onChange,e,this)),vp(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;tp(this).reset(Ef(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),$p(this)||(Kp(this,!0),Jp(this)||this._resume())}_resume(){ad.skipAnimation?this.finish():Gd.start(this)}_stop(e,t){if($p(this)){Kp(this,!1);const n=this.animation;Cd(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Pf(this,{type:"idle",parent:this});const r=t?Up(this.get()):Fp(this.get(),tm(this,null!==e&&void 0!==e?e:n.to));Dd(this._pendingCalls,r),n.changed&&(n.changed=!1,cm(this,"onRest",r,this))}}};function tm(e,t){const n=Ep(t);return Pd(Ep(e.get()),n)}function nm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=vp(t);if(r){const i=!0!==r&&Sp(r),o=(i||e).reverse,a=!i||i.reset;return rm({...e,loop:t,default:!1,pause:void 0,to:!o||Pp(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function rm(e){const{to:t,from:n}=e=Sp(e),r=new Set;return Td.obj(t)&&om(t,r),Td.obj(n)&&om(n,r),e.keys=r.size?Array.from(r):null,e}function im(e){const t=rm(e);return Td.und(t.default)&&(t.default=wp(t)),t}function om(e,t){Ad(e,((e,n)=>null!=e&&t.add(n)))}var am=["onStart","onRest","onChange","onPause","onResume"];function sm(e,t,n){e.animation[n]=t[n]!==bp(t,n)?yp(t[n],e.key):void 0}function cm(e,t){for(var n,r,i,o,a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];null===(n=(r=e.animation)[t])||void 0===n||n.call(r,...s),null===(i=(o=e.defaultProps)[t])||void 0===i||i.call(o,...s)}var lm=["onStart","onChange","onRest"],um=1,hm=class{constructor(e,t){this.id=um++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Td.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(rm(e)),this}start(e){let{queue:t}=this;return e?t=kd(e).map(rm):this.queue=[],this._flush?this._flush(this,t):(ym(this,t),dm(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Cd(kd(t),(t=>n[t].stop(!!e)))}else Vp(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Td.und(e))this.start({pause:!0});else{const t=this.springs;Cd(kd(e),(e=>t[e].pause()))}return this}resume(e){if(Td.und(e))this.start({pause:!1});else{const t=this.springs;Cd(kd(e),(e=>t[e].resume()))}return this}each(e){Ad(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Od(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&Od(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),o&&(this._started=!1,Od(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}cd.onFrame(this._onFrame)}};function dm(e,t){return Promise.all(t.map((t=>fm(e,t)))).then((t=>jp(e,t)))}async function fm(e,t,n){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:c}=t,l=Td.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);const u=Td.arr(i)||Td.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):Cd(lm,(n=>{const r=t[n];if(Td.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[n]=t[n])}}));const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Dd(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),f=!0===t.cancel||!0===bp(t,"cancel");(u||f&&h.asyncId)&&d.push(Ip(++e._lastAsyncId,{props:t,state:h,actions:{pause:Ed,resume:Ed,start(t,n){f?(Vp(h,e._lastAsyncId),n(Up(e))):(t.onRest=s,n(Bp(u,t,h,e)))}}})),h.paused&&await new Promise((e=>{h.resumeQueue.add(e)}));const p=jp(e,await Promise.all(d));if(a&&p.finished&&(!n||!p.noop)){const n=nm(t,a,i);if(n)return ym(e,[n]),fm(e,n,!0)}return c&&cd.batchedUpdates((()=>c(p,e,e.item))),p}function pm(e,t){const n={...e.springs};return t&&Cd(kd(t),(e=>{Td.und(e.keys)&&(e=rm(e)),Td.obj(e.to)||(e={...e,to:void 0}),gm(n,e,(e=>vm(e)))})),mm(e,n),n}function mm(e,t){Ad(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,kf(t,e))}))}function vm(e,t){const n=new em;return n.key=e,t&&kf(n,t),n}function gm(e,t,n){t.keys&&Cd(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function ym(e,t){Cd(t,(t=>{gm(e.springs,t,(t=>vm(t,e)))}))}var bm,xm,wm=t=>{let{children:n,...r}=t;const i=(0,e.useContext)(_m),o=r.pause||!!i.pause,a=r.immediate||!!i.immediate;r=function(t,n){const[r]=(0,e.useState)((()=>({inputs:n,result:t()}))),i=(0,e.useRef)(),o=i.current;let a=o;if(a){const e=Boolean(n&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.inputs));e||(a={inputs:n,result:t()})}else a=r;return(0,e.useEffect)((()=>{i.current=a,o==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((()=>({pause:o,immediate:a})),[o,a]);const{Provider:s}=_m;return e.createElement(s,{value:r},n)},_m=(bm=wm,xm={},Object.assign(bm,e.createContext(xm)),bm.Provider._context=bm,bm.Consumer._context=bm,bm);wm.Provider=_m.Provider,wm.Consumer=_m.Consumer;var Mm=()=>{const e=[],t=function(t){qf("".concat(Hf,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));const r=[];return Cd(e,((e,i)=>{if(Td.und(t))r.push(e.start());else{const o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Cd(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Cd(e,(e=>e.resume(...arguments))),this},t.set=function(t){Cd(e,((e,n)=>{const r=Td.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return Cd(e,((e,r)=>{if(Td.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return Cd(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Cd(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Td.fun(e)?e(n,t):e};return t._getProps=n,t};function Sm(t,n,r){const i=Td.fun(n)&&n;i&&!r&&(r=[]);const o=(0,e.useMemo)((()=>i||3==arguments.length?Mm():void 0),[]),a=(0,e.useRef)(0),s=$f(),c=(0,e.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=pm(e,t);return a.current>0&&!c.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?dm(e,t):new Promise((r=>{mm(e,n),c.queue.push((()=>{r(dm(e,t))})),s()}))}})),[]),l=(0,e.useRef)([...c.ctrls]),u=[],h=Qf(t)||0;function d(e,t){for(let r=e;r<t;r++){const e=l.current[r]||(l.current[r]=new hm(null,c.flush)),t=i?i(r,e):n[r];t&&(u[r]=im(t))}}(0,e.useMemo)((()=>{Cd(l.current.slice(t,h),(e=>{Cp(e,o),e.stop(!0)})),l.current.length=t,d(h,t)}),[t]),(0,e.useMemo)((()=>{d(0,Math.min(h,t))}),r);const f=l.current.map(((e,t)=>pm(e,u[t]))),p=(0,e.useContext)(wm),m=Qf(p),v=p!==m&&Tp(p);Xf((()=>{a.current++,c.ctrls=l.current;const{queue:e}=c;e.length&&(c.queue=[],Cd(e,(e=>e()))),Cd(l.current,((e,t)=>{null===o||void 0===o||o.add(e),v&&e.start({default:p});const n=u[t];n&&(Ap(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Jf((()=>()=>{Cd(c.ctrls,(e=>e.stop(!0)))}));const g=f.map((e=>({...e})));return o?[g,o]:g}function Em(e,t){const n=Td.fun(e),[[r],i]=Sm(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}function Tm(t,n,r){const i=Td.fun(n)&&n,{reset:o,sort:a,trail:s=0,expires:c=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:h,config:d}=i?i():n,f=(0,e.useMemo)((()=>i||3==arguments.length?Mm():void 0),[]),p=kd(t),m=[],v=(0,e.useRef)(null),g=o?null:v.current;Xf((()=>{v.current=m})),Jf((()=>(Cd(m,(e=>{null===f||void 0===f||f.add(e.ctrl),e.ctrl.ref=f})),()=>{Cd(v.current,(e=>{e.expired&&clearTimeout(e.expirationId),Cp(e.ctrl,f),e.ctrl.stop(!0)}))})));const y=function(e,t,n){let{key:r,keys:i=r}=t;if(null===i){const t=new Set;return e.map((e=>{const r=n&&n.find((n=>n.item===e&&"leave"!==n.phase&&!t.has(n)));return r?(t.add(r),r.key):Pm++}))}return Td.und(i)?e:Td.fun(i)?e.map(i):kd(i)}(p,i?i():n,g),b=o&&v.current||[];Xf((()=>Cd(b,(e=>{let{ctrl:t,item:n,key:r}=e;Cp(t,f),vp(u,n,r)}))));const x=[];if(g&&Cd(g,((e,t)=>{e.expired?(clearTimeout(e.expirationId),b.push(e)):~(t=x[t]=y.indexOf(e.key))&&(m[t]=e)})),Cd(p,((e,t)=>{m[t]||(m[t]={key:y[t],item:e,phase:"mount",ctrl:new hm},m[t].ctrl.item=e)})),x.length){let e=-1;const{leave:t}=i?i():n;Cd(x,((n,r)=>{const i=g[r];~n?(e=m.indexOf(i),m[e]={...i,item:p[n]}):t&&m.splice(++e,0,i)}))}Td.fun(a)&&m.sort(((e,t)=>a(e.item,t.item)));let w=-s;const _=$f(),M=wp(n),S=new Map,E=(0,e.useRef)(new Map),T=(0,e.useRef)(!1);Cd(m,((e,t)=>{const r=e.key,o=e.phase,a=i?i():n;let u,f;const p=vp(a.delay||0,r);if("mount"==o)u=a.enter,f="enter";else{const e=y.indexOf(r)<0;if("leave"!=o)if(e)u=a.leave,f="leave";else{if(!(u=a.update))return;f="update"}else{if(e)return;u=a.enter,f="enter"}}if(u=vp(u,e.item,t),u=Td.obj(u)?Sp(u):{to:u},!u.config){const n=d||M.config;u.config=vp(n,e.item,t,f)}w+=s;const m={...M,delay:p+w,ref:h,immediate:a.immediate,reset:!1,...u};if("enter"==f&&Td.und(m.from)){const r=i?i():n,o=Td.und(r.initial)||g?r.from:r.initial;m.from=vp(o,e.item,t)}const{onResolve:b}=m;m.onResolve=e=>{vp(b,e);const t=v.current,n=t.find((e=>e.key===r));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){const e=t.every((e=>e.ctrl.idle));if("leave"==n.phase){const t=vp(c,n.item);if(!1!==t){const r=!0===t?0:t;if(n.expired=!0,!e&&r>0)return void(r<=2147483647&&(n.expirationId=setTimeout(_,r)))}}e&&t.some((e=>e.expired))&&(E.current.delete(n),l&&(T.current=!0),_())}};const x=pm(e.ctrl,m);"leave"===f&&l?E.current.set(e,{phase:f,springs:x,payload:m}):S.set(e,{phase:f,springs:x,payload:m})}));const P=(0,e.useContext)(wm),C=Qf(P),A=P!==C&&Tp(P);Xf((()=>{A&&Cd(m,(e=>{e.ctrl.start({default:P})}))}),[P]),Cd(S,((e,t)=>{if(E.current.size){const e=m.findIndex((e=>e.key===t.key));m.splice(e,1)}})),Xf((()=>{Cd(E.current.size?E.current:S,((e,t)=>{let{phase:n,payload:r}=e;const{ctrl:i}=t;t.phase=n,null===f||void 0===f||f.add(i),A&&"enter"==n&&i.start({default:P}),r&&(Ap(i,r.ref),!i.ref&&!f||T.current?(i.start(r),T.current&&(T.current=!1)):i.update(r))}))}),o?void 0:r);const k=t=>e.createElement(e.Fragment,null,m.map(((n,r)=>{const{springs:i}=S.get(n)||n.ctrl,o=t({...i},n.item,n,r);return o&&o.type?e.createElement(o.type,{...o.props,key:Td.str(n.key)||Td.num(n.key)?n.key:n.ctrl.id,ref:o.ref}):o})));return f?[k,f]:k}var Pm=1;var Cm=class extends Yp{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=pf(...t);const n=this._get(),r=hp(n);np(this,r.create(n))}advance(e){const t=this._get();Pd(t,this.get())||(tp(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&km(this._active)&&Om(this)}_get(){const e=Td.arr(this.source)?this.source.map(Ef):kd(Ef(this.source));return this.calc(...e)}_start(){this.idle&&!km(this._active)&&(this.idle=!1,Cd(rp(this),(e=>{e.done=!1})),ad.skipAnimation?(cd.batchedUpdates((()=>this.advance())),Om(this)):Gd.start(this))}_attach(){let e=1;Cd(kd(this.source),(t=>{Sf(t)&&kf(t,this),Wp(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Cd(kd(this.source),(e=>{Sf(e)&&Of(e,this)})),this._active.clear(),Om(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=kd(this.source).reduce(((e,t)=>Math.max(e,(Wp(t)?t.priority:0)+1)),0))}};function Am(e){return!1!==e.idle}function km(e){return!e.size||Array.from(e).every(Am)}function Om(e){e.idle||(e.idle=!0,Cd(rp(e),(e=>{e.done=!0})),Pf(e,{type:"idle",parent:e}))}ad.assign({createStringInterpolator:Vf,to:(e,t)=>new Cm(e,t)});Gd.advance;var Rm=/^--/;function Lm(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Rm.test(e)||Nm.hasOwnProperty(e)&&Nm[e]?(""+t).trim():t+"px"}var Dm={};var Nm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Im=["Webkit","Ms","Moz","O"];Nm=Object.keys(Nm).reduce(((e,t)=>(Im.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Nm);var jm=/^(matrix|translate|scale|rotate|skew)/,zm=/^(translate)/,Fm=/^(rotate|skew)/,Um=(e,t)=>Td.num(e)&&0!==e?e+t:e,Bm=(e,t)=>Td.arr(e)?e.every((e=>Bm(e,t))):Td.num(e)?e===t:parseFloat(e)===t,Vm=class extends cp{constructor(e){let{x:t,y:n,z:r,...i}=e;const o=[],a=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),a.push((e=>["translate3d(".concat(e.map((e=>Um(e,"px"))).join(","),")"),Bm(e,0)]))),Ad(i,((e,t)=>{if("transform"===t)o.push([e||""]),a.push((e=>[e,""===e]));else if(jm.test(t)){if(delete i[t],Td.und(e))return;const n=zm.test(t)?"px":Fm.test(t)?"deg":"";o.push(kd(e)),a.push("rotate3d"===t?e=>{let[t,r,i,o]=e;return["rotate3d(".concat(t,",").concat(r,",").concat(i,",").concat(Um(o,n),")"),Bm(o,0)]}:e=>["".concat(t,"(").concat(e.map((e=>Um(e,n))).join(","),")"),Bm(e,t.startsWith("scale")?1:0)])}})),o.length&&(i.transform=new Hm(o,a)),super(i)}},Hm=class extends Cf{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Cd(this.inputs,((n,r)=>{const i=Ef(n[0]),[o,a]=this.transforms[r](Td.arr(i)?i:n.map(Ef));e+=" "+o,t=t&&a})),t?"none":e}observerAdded(e){1==e&&Cd(this.inputs,(e=>Cd(e,(e=>Sf(e)&&kf(e,this)))))}observerRemoved(e){0==e&&Cd(this.inputs,(e=>Cd(e,(e=>Sf(e)&&Of(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Pf(this,e)}};ad.assign({batchedUpdates:mr.unstable_batchedUpdates,createStringInterpolator:Vf,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Gm=function(e){let{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new cp(e)),getComponentProps:r=(e=>e)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=mp(e)||"Anonymous";return(e=Td.str(e)?o[e]||(o[e]=dp(e,i)):e[pp]||(e[pp]=dp(e,i))).displayName="Animated(".concat(t,")"),e};return Ad(e,((t,n)=>{Td.arr(e)&&(n=mp(t)),o[n]=o(t)})),{animated:o}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:s,...c}=t,l=Object.values(c),u=Object.keys(c).map((t=>n||e.hasAttribute(t)?t:Dm[t]||(Dm[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==i&&(e.textContent=i);for(const h in r)if(r.hasOwnProperty(h)){const t=Lm(h,r[h]);Rm.test(h)?e.style.setProperty(h,t):e.style[h]=t}u.forEach(((t,n)=>{e.setAttribute(t,l[n])})),void 0!==o&&(e.scrollTop=o),void 0!==a&&(e.scrollLeft=a),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new Vm(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),Wm=Gm.animated;function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(this,arguments)}var Ym={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},Xm=function(e,t){return"translate("+e+"px, "+t+"px)"},Zm=(0,e.memo)((function(t){var n,r=t.position,i=t.anchor,o=t.children,a=h_(),s=Vw(),c=s.animate,l=s.config,u=o_(),h=u[0],d=u[1],f=(0,e.useRef)(!1),p=void 0,m=!1,v=d.width>0&&d.height>0,g=Math.round(r[0]),y=Math.round(r[1]);v&&("top"===i?(g-=d.width/2,y-=d.height+14):"right"===i?(g+=14,y-=d.height/2):"bottom"===i?(g-=d.width/2,y+=14):"left"===i?(g-=d.width+14,y-=d.height/2):"center"===i&&(g-=d.width/2,y-=d.height/2),p={transform:Xm(g,y)},f.current||(m=!0),f.current=[g,y]);var b=Em({to:p,config:l,immediate:!c||m}),x=qm({},Ym,a.tooltip,{transform:null!=(n=b.transform)?n:Xm(g,y)});return(0,hr.jsx)(Wm.div,{ref:h,style:x,children:o})}));Zm.displayName="TooltipWrapper";var $m=(0,e.memo)((function(e){var t=e.size,n=void 0===t?12:t,r=e.color,i=e.style;return(0,hr.jsx)("span",{style:qm({display:"block",width:n,height:n,background:r},void 0===i?{}:i)})})),Jm=(0,e.memo)((function(e){var t,n=e.id,r=e.value,i=e.format,o=e.enableChip,a=void 0!==o&&o,s=e.color,c=e.renderContent,l=h_(),u=s_(i);if("function"==typeof c)t=c();else{var h=r;void 0!==u&&void 0!==h&&(h=u(h)),t=(0,hr.jsxs)("div",{style:l.tooltip.basic,children:[a&&(0,hr.jsx)($m,{color:s,style:l.tooltip.chip}),void 0!==h?(0,hr.jsxs)("span",{children:[n,": ",(0,hr.jsx)("strong",{children:""+h})]}):n]})}return(0,hr.jsx)("div",{style:l.tooltip.container,children:t})})),Km={width:"100%",borderCollapse:"collapse"},Qm=(0,e.memo)((function(e){var t,n=e.title,r=e.rows,i=void 0===r?[]:r,o=e.renderContent,a=h_();return i.length?(t="function"==typeof o?o():(0,hr.jsxs)("div",{children:[n&&n,(0,hr.jsx)("table",{style:qm({},Km,a.tooltip.table),children:(0,hr.jsx)("tbody",{children:i.map((function(e,t){return(0,hr.jsx)("tr",{children:e.map((function(e,t){return(0,hr.jsx)("td",{style:a.tooltip.tableCell,children:e},t)}))},t)}))})})]}),(0,hr.jsx)("div",{style:a.tooltip.container,children:t})):null}));Qm.displayName="TableTooltip";var ev=(0,e.memo)((function(t){var n=t.x0,r=t.x1,i=t.y0,o=t.y1,a=h_(),s=Vw(),c=s.animate,l=s.config,u=(0,e.useMemo)((function(){return qm({},a.crosshair.line,{pointerEvents:"none"})}),[a.crosshair.line]),h=Em({x1:n,x2:r,y1:i,y2:o,config:l,immediate:!c});return(0,hr.jsx)(Wm.line,qm({},h,{fill:"none",style:u}))}));ev.displayName="CrosshairLine";var tv=(0,e.memo)((function(e){var t,n,r=e.width,i=e.height,o=e.type,a=e.x,s=e.y;return"cross"===o?(t={x0:a,x1:a,y0:0,y1:i},n={x0:0,x1:r,y0:s,y1:s}):"top-left"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:0,x1:a,y0:s,y1:s}):"top"===o?t={x0:a,x1:a,y0:0,y1:s}:"top-right"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:a,x1:r,y0:s,y1:s}):"right"===o?n={x0:a,x1:r,y0:s,y1:s}:"bottom-right"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:a,x1:r,y0:s,y1:s}):"bottom"===o?t={x0:a,x1:a,y0:s,y1:i}:"bottom-left"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:0,x1:a,y0:s,y1:s}):"left"===o?n={x0:0,x1:a,y0:s,y1:s}:"x"===o?t={x0:a,x1:a,y0:0,y1:i}:"y"===o&&(n={x0:0,x1:r,y0:s,y1:s}),(0,hr.jsxs)(hr.Fragment,{children:[t&&(0,hr.jsx)(ev,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&(0,hr.jsx)(ev,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})}));tv.displayName="Crosshair";var nv=(0,e.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),rv={isVisible:!1,position:[null,null],content:null,anchor:null},iv=(0,e.createContext)(rv),ov=function(t){var n=(0,e.useState)(rv),r=n[0],i=n[1],o=(0,e.useCallback)((function(e,t,n){var r=t[0],o=t[1];void 0===n&&(n="top"),i({isVisible:!0,position:[r,o],anchor:n,content:e})}),[i]),a=(0,e.useCallback)((function(e,n,r){void 0===r&&(r="top");var o=t.current.getBoundingClientRect(),a=t.current.offsetWidth,s=a===o.width?1:a/o.width,c=(n.clientX-o.left)*s,l=(n.clientY-o.top)*s;"left"!==r&&"right"!==r||(r=c<o.width/2?"right":"left"),i({isVisible:!0,position:[c,l],anchor:r,content:e})}),[t,i]),s=(0,e.useCallback)((function(){i(rv)}),[i]);return{actions:(0,e.useMemo)((function(){return{showTooltipAt:o,showTooltipFromEvent:a,hideTooltip:s}}),[o,a,s]),state:r}},av=function(){var t=(0,e.useContext)(nv);if(void 0===t)throw new Error("useTooltip must be used within a TooltipProvider");return t},sv=function(){var t=function(){var t=(0,e.useContext)(iv);if(void 0===t)throw new Error("useTooltipState must be used within a TooltipProvider");return t}();return function(e){return e.isVisible}(t)?(0,hr.jsx)(Zm,{position:t.position,anchor:t.anchor,children:t.content}):null},cv=function(e){var t=e.container,n=e.children,r=ov(t),i=r.actions,o=r.state;return(0,hr.jsx)(nv.Provider,{value:i,children:(0,hr.jsx)(iv.Provider,{value:o,children:n})})},lv=n(9286),uv=n.n(lv),hv=n(6181),dv=n.n(hv),fv=n(4485),pv=n.n(fv);function mv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gv=new RegExp(vv.source,"g");var yv=n(6769),bv=n.n(yv),xv=n(5727),wv=n.n(xv);n(3629);function _v(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const Mv=Symbol("implicit");function Sv(){var e=new Map,t=[],n=[],r=Mv;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Mv)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Sv(t,n).unknown(r)},_v.apply(i,arguments),i}function Ev(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Tv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cv(){}var Av=.7,kv=1/Av,Ov="\\s*([+-]?\\d+)\\s*",Rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dv=/^#([0-9a-f]{3,8})$/,Nv=new RegExp("^rgb\\(".concat(Ov,",").concat(Ov,",").concat(Ov,"\\)$")),Iv=new RegExp("^rgb\\(".concat(Lv,",").concat(Lv,",").concat(Lv,"\\)$")),jv=new RegExp("^rgba\\(".concat(Ov,",").concat(Ov,",").concat(Ov,",").concat(Rv,"\\)$")),zv=new RegExp("^rgba\\(".concat(Lv,",").concat(Lv,",").concat(Lv,",").concat(Rv,"\\)$")),Fv=new RegExp("^hsl\\(".concat(Rv,",").concat(Lv,",").concat(Lv,"\\)$")),Uv=new RegExp("^hsla\\(".concat(Rv,",").concat(Lv,",").concat(Lv,",").concat(Rv,"\\)$")),Bv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vv(){return this.rgb().formatHex()}function Hv(){return this.rgb().formatRgb()}function Gv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Dv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Wv(t):3===n?new Zv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?qv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?qv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Nv.exec(e))?new Zv(t[1],t[2],t[3],1):(t=Iv.exec(e))?new Zv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jv.exec(e))?qv(t[1],t[2],t[3],t[4]):(t=zv.exec(e))?qv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Fv.exec(e))?tg(t[1],t[2]/100,t[3]/100,1):(t=Uv.exec(e))?tg(t[1],t[2]/100,t[3]/100,t[4]):Bv.hasOwnProperty(e)?Wv(Bv[e]):"transparent"===e?new Zv(NaN,NaN,NaN,0):null}function Wv(e){return new Zv(e>>16&255,e>>8&255,255&e,1)}function qv(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zv(e,t,n,r)}function Yv(e){return e instanceof Cv||(e=Gv(e)),e?new Zv((e=e.rgb()).r,e.g,e.b,e.opacity):new Zv}function Xv(e,t,n,r){return 1===arguments.length?Yv(e):new Zv(e,t,n,null==r?1:r)}function Zv(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function $v(){return"#".concat(eg(this.r)).concat(eg(this.g)).concat(eg(this.b))}function Jv(){const e=Kv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Qv(this.r),", ").concat(Qv(this.g),", ").concat(Qv(this.b)).concat(1===e?")":", ".concat(e,")"))}function Kv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eg(e){return((e=Qv(e))<16?"0":"")+e.toString(16)}function tg(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rg(e,t,n,r)}function ng(e){if(e instanceof rg)return new rg(e.h,e.s,e.l,e.opacity);if(e instanceof Cv||(e=Gv(e)),!e)return new rg;if(e instanceof rg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new rg(a,s,c,e.opacity)}function rg(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ig(e){return(e=(e||0)%360)<0?e+360:e}function og(e){return Math.max(0,Math.min(1,e||0))}function ag(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function sg(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Tv(Cv,Gv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vv,formatHex:Vv,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ng(this).formatHsl()},formatRgb:Hv,toString:Hv}),Tv(Zv,Xv,Pv(Cv,{brighter(e){return e=null==e?kv:Math.pow(kv,e),new Zv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Av:Math.pow(Av,e),new Zv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zv(Qv(this.r),Qv(this.g),Qv(this.b),Kv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$v,formatHex:$v,formatHex8:function(){return"#".concat(eg(this.r)).concat(eg(this.g)).concat(eg(this.b)).concat(eg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Jv,toString:Jv})),Tv(rg,(function(e,t,n,r){return 1===arguments.length?ng(e):new rg(e,t,n,null==r?1:r)}),Pv(Cv,{brighter(e){return e=null==e?kv:Math.pow(kv,e),new rg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Av:Math.pow(Av,e),new rg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Zv(ag(e>=240?e-240:e+120,i,r),ag(e,i,r),ag(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rg(ig(this.h),og(this.s),og(this.l),Kv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ig(this.h),", ").concat(100*og(this.s),"%, ").concat(100*og(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const cg=e=>()=>e;function lg(e,t){return function(n){return e+n*t}}function ug(e){return 1===(e=+e)?hg:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cg(isNaN(t)?n:t)}}function hg(e,t){var n=t-e;return n?lg(e,n):cg(isNaN(e)?t:e)}(function e(t){var n=ug(t);function r(e,t){var r=n((e=Xv(e)).r,(t=Xv(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=hg(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r})(1);function dg(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Xv(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var fg=dg((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return sg((n-r/t)*t,a,i,o,s)}}));dg((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return sg((n-r/t)*t,i,o,a,s)}}));const pg=e=>fg(e[e.length-1]);var mg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ev);pg(mg);var vg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ev);pg(vg);var gg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ev);pg(gg);var yg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ev);pg(yg);var bg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ev);pg(bg);var xg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ev);pg(xg);var wg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ev);pg(wg);var _g=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ev);pg(_g);var Mg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ev);pg(Mg);var Sg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ev);pg(Sg);var Eg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ev);pg(Eg);var Tg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ev);pg(Tg);var Pg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ev);pg(Pg);var Cg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ev);pg(Cg);var Ag=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ev);pg(Ag);var kg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ev);pg(kg);var Og=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ev);pg(Og);var Rg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ev);pg(Rg);var Lg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ev);pg(Lg);var Dg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ev);pg(Dg);var Ng=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ev);pg(Ng);var Ig=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ev);pg(Ig);var jg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ev);pg(jg);var zg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ev);pg(zg);var Fg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ev);pg(Fg);var Ug=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ev);pg(Ug);var Bg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ev);pg(Bg);const Vg=Ev("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Hg=Ev("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Gg=Ev("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Wg=Ev("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qg=Ev("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Yg=Ev("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xg=Ev("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Zg=Ev("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),$g=Ev("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Jg(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Jg(Ev("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Jg(Ev("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jg(Ev("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jg(Ev("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Kg=Math.PI/180,Qg=180/Math.PI;var ey=-.14861,ty=1.78277,ny=-.29227,ry=-.90649,iy=1.97294,oy=iy*ry,ay=iy*ty,sy=ty*ny-ry*ey;function cy(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof ly)return new ly(e.h,e.s,e.l,e.opacity);e instanceof Zv||(e=Yv(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(sy*r+oy*t-ay*n)/(sy+oy-ay),o=r-i,a=(iy*(n-i)-ny*o)/ry,s=Math.sqrt(a*a+o*o)/(iy*i*(1-i)),c=s?Math.atan2(a,o)*Qg-120:NaN;return new ly(c<0?c+360:c,s,i,e.opacity)}(e):new ly(e,t,n,null==r?1:r)}function ly(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function uy(e){return function t(n){function r(t,r){var i=e((t=cy(t)).h,(r=cy(r)).h),o=hg(t.s,r.s),a=hg(t.l,r.l),s=hg(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Tv(ly,cy,Pv(Cv,{brighter(e){return e=null==e?kv:Math.pow(kv,e),new ly(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Av:Math.pow(Av,e),new ly(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Kg,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Zv(255*(t+n*(ey*r+ty*i)),255*(t+n*(ny*r+ry*i)),255*(t+n*(iy*r)),this.opacity)}}));uy((function(e,t){var n=t-e;return n?lg(e,n>180||n<-180?n-360*Math.round(n/360):n):cg(isNaN(e)?t:e)}));var hy=uy(hg);hy(cy(-100,.75,.35),cy(80,1.5,.8)),hy(cy(260,.75,.35),cy(80,1.5,.8)),cy();hy(cy(300,.5,0),cy(-240,.5,1));Xv(),Math.PI,Math.PI;var dy=n(4786),fy=n.n(dy),py=n(1761),my=n.n(py);function vy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function gy(e){this._context=e}function yy(){}function by(e){this._context=e}function xy(e){this._context=e}function wy(e,t){this._basis=new gy(e),this._beta=t}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},by.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*a),this._beta*t[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const _y=function e(t){function n(e){return 1===t?new gy(e):new wy(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function My(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Sy(e,t){this._context=e,this._k=(1-t)/6}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:My(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:My(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ey=function e(t){function n(e){return new Sy(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ty(e,t){this._context=e,this._k=(1-t)/6}Ty.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:My(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Py=function e(t){function n(e){return new Ty(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Cy(e,t){this._context=e,this._k=(1-t)/6}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:My(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ay=function e(t){function n(e){return new Cy(e,t)}return n.tension=function(t){return e(+t)},n}(0);Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI;function ky(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>1e-12){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Oy(e,t){this._context=e,this._alpha=t}Oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ky(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ry=function e(t){function n(e){return t?new Oy(e,t):new Sy(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ly(e,t){this._context=e,this._alpha=t}Ly.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ky(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Dy=function e(t){function n(e){return t?new Ly(e,t):new Ty(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ny(e,t){this._context=e,this._alpha=t}Ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ky(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Iy=function e(t){function n(e){return t?new Ny(e,t):new Cy(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function jy(e){this._context=e}function zy(e){return new jy(e)}function Fy(e){this._context=e}function Uy(e){return e<0?-1:1}function By(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Uy(o)+Uy(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vy(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hy(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Gy(e){this._context=e}function Wy(e){this._context=new qy(e)}function qy(e){this._context=e}function Yy(e){this._context=e}function Xy(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Zy(e,t){this._context=e,this._t=t}function $y(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jy(e){var t=e.map(Ky);return $y(e).sort((function(e,n){return t[e]-t[n]}))}function Ky(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function Qy(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function eb(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function tb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nb(e){return(e=tb(Math.abs(e)))?e[1]:NaN}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Fy.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hy(this,this._t0,Vy(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hy(this,Vy(this,n=By(this,e,t)),n);break;default:Hy(this,this._t0,n=By(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Wy.prototype=Object.create(Gy.prototype)).point=function(e,t){Gy.prototype.point.call(this,t,e)},qy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Xy(e),i=Xy(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var rb,ib=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ob(e){if(!(t=ib.exec(e)))throw new Error("invalid format: "+e);var t;return new ab({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ab(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sb(e,t){var n=tb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ob.prototype=ab.prototype,ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const cb={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return sb(100*e,t)},r:sb,s:function(e,t){var n=tb(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(rb=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tb(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function lb(e){return e}var ub,hb,db,fb=Array.prototype.map,pb=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function mb(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?lb:(t=fb.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?lb:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(fb.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=ob(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):cb[y]||(void 0===v&&(v=12),g=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?o:/[%p]/.test(y)?c:"",w=cb[y],_=/[defgprs%]/.test(y);function M(e){var i,o,c,d=b,M=x;if("c"===y)M=w(e)+M,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==h&&(S=!1),d=(S?"("===h?h:l:"-"===h||"("===h?"":h)+d,M=("s"===y?pb[8+rb/3]:"")+M+(S&&"("===h?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){M=(46===c?a+e.slice(i+1):e.slice(i))+M,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=d.length+e.length+M.length,T=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-M.length:1/0),T=""),n){case"<":e=d+e+M+T;break;case"=":e=d+T+e+M;break;case"^":e=T.slice(0,E=T.length>>1)+d+e+M+T.slice(E);break;default:e=T+d+e+M}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return e+""},M}return{format:h,formatPrefix:function(e,t){var n=h(((e=ob(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(nb(t)/3))),i=Math.pow(10,-r),o=pb[8+r/3];return function(e){return n(i*e)+o}}}}ub=mb({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),hb=ub.format,db=ub.formatPrefix;var vb=new Date,gb=new Date;function yb(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return yb((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return vb.setTime(+t),gb.setTime(+r),e(vb),e(gb),Math.floor(n(vb,gb))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var bb=1e3,xb=6e4,wb=36e5,_b=864e5,Mb=6048e5;function Sb(e){return yb((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Mb}))}var Eb=Sb(0),Tb=Sb(1),Pb=Sb(2),Cb=Sb(3),Ab=Sb(4),kb=Sb(5),Ob=Sb(6),Rb=(Eb.range,Tb.range,Pb.range,Cb.range,Ab.range,kb.range,Ob.range,yb((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/_b}),(function(e){return e.getUTCDate()-1})));const Lb=Rb;Rb.range;function Db(e){return yb((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xb)/Mb}))}var Nb=Db(0),Ib=Db(1),jb=Db(2),zb=Db(3),Fb=Db(4),Ub=Db(5),Bb=Db(6),Vb=(Nb.range,Ib.range,jb.range,zb.range,Fb.range,Ub.range,Bb.range,yb((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xb)/_b}),(function(e){return e.getDate()-1})));const Hb=Vb;Vb.range;var Gb=yb((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Gb.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yb((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Wb=Gb;Gb.range;var qb=yb((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));qb.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yb((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const Yb=qb;qb.range;function Xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $b(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Jb,Kb,Qb,ex,tx,nx={"-":"",_:" ",0:"0"},rx=/^\s*\d+/,ix=/^%/,ox=/[\\^$*+?|[\]().{}]/g;function ax(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function sx(e){return e.replace(ox,"\\$&")}function cx(e){return new RegExp("^(?:"+e.map(sx).join("|")+")","i")}function lx(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ux(e,t,n){var r=rx.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hx(e,t,n){var r=rx.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function px(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mx(e,t,n){var r=rx.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gx(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yx(e,t,n){var r=rx.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function bx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wx(e,t,n){var r=rx.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _x(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Mx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Sx(e,t,n){var r=rx.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ex(e,t,n){var r=rx.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Tx(e,t,n){var r=rx.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Px(e,t,n){var r=ix.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cx(e,t,n){var r=rx.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ax(e,t,n){var r=rx.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kx(e,t){return ax(e.getDate(),t,2)}function Ox(e,t){return ax(e.getHours(),t,2)}function Rx(e,t){return ax(e.getHours()%12||12,t,2)}function Lx(e,t){return ax(1+Hb.count(Wb(e),e),t,3)}function Dx(e,t){return ax(e.getMilliseconds(),t,3)}function Nx(e,t){return Dx(e,t)+"000"}function Ix(e,t){return ax(e.getMonth()+1,t,2)}function jx(e,t){return ax(e.getMinutes(),t,2)}function zx(e,t){return ax(e.getSeconds(),t,2)}function Fx(e){var t=e.getDay();return 0===t?7:t}function Ux(e,t){return ax(Nb.count(Wb(e)-1,e),t,2)}function Bx(e){var t=e.getDay();return t>=4||0===t?Fb(e):Fb.ceil(e)}function Vx(e,t){return e=Bx(e),ax(Fb.count(Wb(e),e)+(4===Wb(e).getDay()),t,2)}function Hx(e){return e.getDay()}function Gx(e,t){return ax(Ib.count(Wb(e)-1,e),t,2)}function Wx(e,t){return ax(e.getFullYear()%100,t,2)}function qx(e,t){return ax((e=Bx(e)).getFullYear()%100,t,2)}function Yx(e,t){return ax(e.getFullYear()%1e4,t,4)}function Xx(e,t){var n=e.getDay();return ax((e=n>=4||0===n?Fb(e):Fb.ceil(e)).getFullYear()%1e4,t,4)}function Zx(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ax(t/60|0,"0",2)+ax(t%60,"0",2)}function $x(e,t){return ax(e.getUTCDate(),t,2)}function Jx(e,t){return ax(e.getUTCHours(),t,2)}function Kx(e,t){return ax(e.getUTCHours()%12||12,t,2)}function Qx(e,t){return ax(1+Lb.count(Yb(e),e),t,3)}function ew(e,t){return ax(e.getUTCMilliseconds(),t,3)}function tw(e,t){return ew(e,t)+"000"}function nw(e,t){return ax(e.getUTCMonth()+1,t,2)}function rw(e,t){return ax(e.getUTCMinutes(),t,2)}function iw(e,t){return ax(e.getUTCSeconds(),t,2)}function ow(e){var t=e.getUTCDay();return 0===t?7:t}function aw(e,t){return ax(Eb.count(Yb(e)-1,e),t,2)}function sw(e){var t=e.getUTCDay();return t>=4||0===t?Ab(e):Ab.ceil(e)}function cw(e,t){return e=sw(e),ax(Ab.count(Yb(e),e)+(4===Yb(e).getUTCDay()),t,2)}function lw(e){return e.getUTCDay()}function uw(e,t){return ax(Tb.count(Yb(e)-1,e),t,2)}function hw(e,t){return ax(e.getUTCFullYear()%100,t,2)}function dw(e,t){return ax((e=sw(e)).getUTCFullYear()%100,t,2)}function fw(e,t){return ax(e.getUTCFullYear()%1e4,t,4)}function pw(e,t){var n=e.getUTCDay();return ax((e=n>=4||0===n?Ab(e):Ab.ceil(e)).getUTCFullYear()%1e4,t,4)}function mw(){return"+0000"}function vw(){return"%"}function gw(e){return+e}function yw(e){return Math.floor(+e/1e3)}!function(e){Jb=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=cx(i),u=lx(i),h=cx(o),d=lx(o),f=cx(a),p=lx(a),m=cx(s),v=lx(s),g=cx(c),y=lx(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:kx,e:kx,f:Nx,g:qx,G:Xx,H:Ox,I:Rx,j:Lx,L:Dx,m:Ix,M:jx,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:gw,s:yw,S:zx,u:Fx,U:Ux,V:Vx,w:Hx,W:Gx,x:null,X:null,y:Wx,Y:Yx,Z:Zx,"%":vw},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:$x,e:$x,f:tw,g:dw,G:pw,H:Jx,I:Kx,j:Qx,L:ew,m:nw,M:rw,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:gw,s:yw,S:iw,u:ow,U:aw,V:cw,w:lw,W:uw,x:null,X:null,y:hw,Y:fw,Z:mw,"%":vw},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:xx,e:xx,f:Tx,g:vx,G:mx,H:_x,I:_x,j:wx,L:Ex,m:bx,M:Mx,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:yx,Q:Cx,s:Ax,S:Sx,u:hx,U:dx,V:fx,w:ux,W:px,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:vx,Y:mx,Z:gx,"%":Px};function _(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=nx[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function M(e,t){return function(n){var r,i,o=$b(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Zb($b(o.y,0,1))).getUTCDay(),r=i>4||0===i?Tb.ceil(r):Tb(r),r=Lb.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Xb($b(o.y,0,1))).getDay(),r=i>4||0===i?Ib.ceil(r):Ib(r),r=Hb.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Zb($b(o.y,0,1)).getUTCDay():Xb($b(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Zb(o)):Xb(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in nx?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=M(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=M(e+="",!0);return t.toString=function(){return e},t}}}(e),Kb=Jb.format,Qb=Jb.parse,ex=Jb.utcFormat,tx=Jb.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var bw=n(3977),xw=n.n(bw),ww=n(6460),_w=n.n(ww),Mw=n(8111),Sw=n.n(Mw);function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(this,arguments)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tw(e,t)}function Pw(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Cw={fill:id().string,fontSize:id().number,fontFamily:id().string},Aw=id().shape({domain:id().shape({line:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,strokeDasharray:id().string}).isRequired}).isRequired,ticks:id().shape({line:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,strokeDasharray:id().string}).isRequired,text:id().shape(Ew({},Cw)).isRequired}).isRequired,legend:id().shape({text:id().shape(Ew({},Cw)).isRequired}).isRequired}),kw=id().shape({line:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,strokeDasharray:id().string}).isRequired}),Ow=id().shape({hidden:id().shape({symbol:id().shape({fill:id().string.isRequired,opacity:id().number}).isRequired,text:id().shape(Ew({},Cw,{opacity:id().number})).isRequired}).isRequired,text:id().shape(Ew({},Cw)).isRequired}),Rw=id().shape({text:id().shape(Ew({},Cw)).isRequired}),Lw=id().shape({text:id().shape(Ew({},Cw)).isRequired}),Dw=id().shape({text:id().shape(Ew({},Cw)).isRequired}),Nw=id().shape({line:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,strokeDasharray:id().string}).isRequired}),Iw=id().shape({text:id().shape(Ew({},Cw,{outlineWidth:id().number.isRequired,outlineColor:id().string.isRequired})).isRequired,link:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,outlineWidth:id().number.isRequired,outlineColor:id().string.isRequired}).isRequired,outline:id().shape({stroke:id().string.isRequired,strokeWidth:id().number.isRequired,outlineWidth:id().number.isRequired,outlineColor:id().string.isRequired}).isRequired,symbol:id().shape({fill:id().string.isRequired,outlineWidth:id().number.isRequired,outlineColor:id().string.isRequired}).isRequired}),jw=(id().shape({background:id().string.isRequired,fontFamily:id().string.isRequired,fontSize:id().number.isRequired,textColor:id().string.isRequired,axis:Aw.isRequired,grid:kw.isRequired,legends:Ow.isRequired,labels:Rw.isRequired,dots:Lw.isRequired,markers:Dw,crosshair:Nw.isRequired,annotations:Iw.isRequired}),{background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}}),zw=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Fw=(0,e.createContext)(),Uw=function(t){var n=t.children,r=t.animate,i=t.config,o=(0,e.useMemo)((function(){var e=bv()(i)?kp[i]:i;return{animate:r,config:e}}),[r,i]);return(0,hr.jsx)(Fw.Provider,{value:o,children:n})},Bw={animate:id().bool,motionConfig:id().oneOfType([id().oneOf(Object.keys(kp)),id().shape({mass:id().number,tension:id().number,friction:id().number,clamp:id().bool,precision:id().number,velocity:id().number,duration:id().number,easing:id().func})])};Uw.propTypes={children:id().node.isRequired,animate:Bw.animate,config:Bw.motionConfig};Uw.defaultProps={animate:!0,config:"default"};var Vw=function(){return(0,e.useContext)(Fw)},Hw=function(t){var n=Vw(),r=n.animate,i=n.config,o=function(t){var n=(0,e.useRef)();return(0,e.useEffect)((function(){n.current=t}),[t]),n.current}(t),a=(0,e.useMemo)((function(){return function(e,t){var n,r,i,o=vv.lastIndex=gv.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=vv.exec(e))&&(r=gv.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:mv(n,r)})),o=gv.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}(o,t)}),[o,t]);return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Cm(e,n)}(Em({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!r}).value,a)},Gw={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:wv()(mg),PRGn:wv()(vg),PiYG:wv()(gg),PuOr:wv()(yg),RdBu:wv()(bg),RdGy:wv()(xg),RdYlBu:wv()(wg),RdYlGn:wv()(_g),spectral:wv()(Mg),blues:wv()(Sg),greens:wv()(Eg),greys:wv()(Tg),oranges:wv()(Pg),purples:wv()(Cg),reds:wv()(Ag),BuGn:wv()(kg),BuPu:wv()(Og),GnBu:wv()(Rg),OrRd:wv()(Lg),PuBuGn:wv()(Dg),PuBu:wv()(Ng),PuRd:wv()(Ig),RdPu:wv()(jg),YlGnBu:wv()(zg),YlGn:wv()(Fg),YlOrBr:wv()(Ug),YlOrRd:wv()(Bg)},Ww=Object.keys(Gw),qw=(wv()(mg),wv()(vg),wv()(gg),wv()(yg),wv()(bg),wv()(xg),wv()(wg),wv()(_g),wv()(Mg),wv()(Sg),wv()(Eg),wv()(Tg),wv()(Pg),wv()(Cg),wv()(Ag),wv()(kg),wv()(Og),wv()(Rg),wv()(Lg),wv()(Dg),wv()(Ng),wv()(Ig),wv()(jg),wv()(zg),wv()(Fg),wv()(Ug),wv()(Bg),id().oneOfType([id().oneOf(Ww),id().func,id().arrayOf(id().string)]),{basis:function(e){return new gy(e)},basisClosed:function(e){return new by(e)},basisOpen:function(e){return new xy(e)},bundle:_y,cardinal:Ey,cardinalClosed:Py,cardinalOpen:Ay,catmullRom:Ry,catmullRomClosed:Dy,catmullRomOpen:Iy,linear:zy,linearClosed:function(e){return new Fy(e)},monotoneX:function(e){return new Gy(e)},monotoneY:function(e){return new Wy(e)},natural:function(e){return new Yy(e)},step:function(e){return new Zy(e,.5)},stepAfter:function(e){return new Zy(e,1)},stepBefore:function(e){return new Zy(e,0)}}),Yw=Object.keys(qw),Xw=(id().oneOf(Yw),Yw.filter((function(e){return e.endsWith("Closed")})),my()(Yw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),my()(Yw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),Zw=id().oneOf(Xw),$w=function(e){if(!qw[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return qw[e]},Jw={defs:id().arrayOf(id().shape({id:id().string.isRequired})).isRequired,fill:id().arrayOf(id().shape({id:id().string.isRequired,match:id().oneOfType([id().oneOf(["*"]),id().object,id().func]).isRequired})).isRequired},Kw={ascending:Jy,descending:function(e){return Jy(e).reverse()},insideOut:function(e){var t,n,r=e.length,i=e.map(Ky),o=function(e){var t=e.map(Qy);return $y(e).sort((function(e,n){return t[e]-t[n]}))}(e),a=0,s=0,c=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)},none:$y,reverse:function(e){return $y(e).reverse()}},Qw=Object.keys(Kw),e_=(id().oneOf(Qw),{expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}eb(e,t)}},diverging:function(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,c=0,l=e[t[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},none:eb,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}eb(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,l+=d*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,eb(e,t)}}}),t_=Object.keys(e_),n_=(id().oneOf(t_),id().shape({top:id().number,right:id().number,bottom:id().number,left:id().number}).isRequired,id().oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])),r_=(Sv($g),{top:0,right:0,bottom:0,left:0}),i_=function(t,n,r){return void 0===r&&(r={}),(0,e.useMemo)((function(){var e=Ew({},r_,r);return{margin:e,innerWidth:t-e.left-e.right,innerHeight:n-e.top-e.bottom,outerWidth:t,outerHeight:n}}),[t,n,r.top,r.right,r.bottom,r.left])},o_=function(){var t=(0,e.useRef)(null),n=(0,e.useState)({left:0,top:0,width:0,height:0}),r=n[0],i=n[1],o=(0,e.useState)((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e[0];return i(t.contentRect)}))}))[0];return(0,e.useEffect)((function(){return t.current&&null!==o&&o.observe(t.current),function(){null!==o&&o.disconnect()}}),[]),[t,r]},a_=function(t){return(0,e.useMemo)((function(){return function(e,t){var n=uv()({},e,t);return zw.forEach((function(e){void 0===dv()(n,e+".fontFamily")&&pv()(n,e+".fontFamily",n.text.fontFamily),void 0===dv()(n,e+".fontSize")&&pv()(n,e+".fontSize",n.text.fontSize),void 0===dv()(n,e+".fill")&&pv()(n,e+".fill",n.text.fill),void 0===dv()(n,e+".outlineWidth")&&pv()(n,e+".outlineWidth",n.text.outlineWidth),void 0===dv()(n,e+".outlineColor")&&pv()(n,e+".outlineColor",n.text.outlineColor)})),n}(jw,t)}),[t])},s_=function(t){return(0,e.useMemo)((function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?Kb(e.slice("5")):hb(e):function(e){return""+e}}(t)}),[t])},c_=(0,e.createContext)(),l_={},u_=function(e){var t=e.theme,n=void 0===t?l_:t,r=e.children,i=a_(n);return(0,hr.jsx)(c_.Provider,{value:i,children:r})};u_.propTypes={children:id().node.isRequired,theme:id().object};var h_=function(){return(0,e.useContext)(c_)},d_=function(t){var n=t.children,r=t.condition,i=t.wrapper;return r?(0,e.cloneElement)(i,{},n):n};d_.propTypes={children:id().node.isRequired,condition:id().bool.isRequired,wrapper:id().element.isRequired};var f_={position:"relative"},p_=function(t){var n=t.children,r=t.theme,i=t.renderWrapper,o=void 0===i||i,a=t.isInteractive,s=void 0===a||a,c=t.animate,l=t.motionConfig,u=(0,e.useRef)(null);return(0,hr.jsx)(u_,{theme:r,children:(0,hr.jsx)(Uw,{animate:c,config:l,children:(0,hr.jsx)(cv,{container:u,children:(0,hr.jsxs)(d_,{condition:o,wrapper:(0,hr.jsx)("div",{style:f_,ref:u}),children:[n,s&&(0,hr.jsx)(sv,{})]})})})})};p_.propTypes={children:id().element.isRequired,isInteractive:id().bool,renderWrapper:id().bool,theme:id().object,animate:id().bool,motionConfig:id().string};id().func.isRequired,id().bool,id().bool,id().object.isRequired,id().bool.isRequired,id().string;var m_=function(e){var t=e.children,n=o_(),r=n[0],i=n[1],o=i.width>0&&i.height>0;return(0,hr.jsx)("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:i.width,height:i.height})})};m_.propTypes={children:id().func.isRequired};var v_=["id","colors"],g_=function(e){var t=e.id,n=e.colors,r=Pw(e,v_);return(0,hr.jsx)("linearGradient",Ew({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map((function(e){var t=e.offset,n=e.color,r=e.opacity;return(0,hr.jsx)("stop",{offset:t+"%",stopColor:n,stopOpacity:void 0!==r?r:1},t)}))}))};g_.propTypes={id:id().string.isRequired,colors:id().arrayOf(id().shape({offset:id().number.isRequired,color:id().string.isRequired,opacity:id().number})).isRequired,gradientTransform:id().string};var y_={linearGradient:g_},b_=(0,e.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,c=i/2,l=o/2;return!0===a&&(s=2*i+2*o),(0,hr.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,hr.jsx)("rect",{width:s,height:s,fill:n}),(0,hr.jsx)("circle",{cx:l+c,cy:l+c,r:c,fill:r}),a&&(0,hr.jsx)("circle",{cx:1.5*o+i+c,cy:1.5*o+i+c,r:c,fill:r})]})}));b_.displayName="PatternDots",b_.propTypes={id:id().string.isRequired,color:id().string.isRequired,background:id().string.isRequired,size:id().number.isRequired,padding:id().number.isRequired,stagger:id().bool.isRequired},b_.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};Math.PI;var x_=function(e){return e*Math.PI/180},w_={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},__=(0,e.memo)((function(e){var t=e.id,n=e.spacing,r=e.rotation,i=e.background,o=e.color,a=e.lineWidth,s=Math.round(r)%360,c=Math.abs(n);s>180?s-=360:s>90?s-=180:s<-180?s+=360:s<-90&&(s+=180);var l,u=c,h=c;return 0===s?l="\n                M 0 0 L "+u+" 0\n                M 0 "+h+" L "+u+" "+h+"\n            ":90===s?l="\n                M 0 0 L 0 "+h+"\n                M "+u+" 0 L "+u+" "+h+"\n            ":(u=Math.abs(c/Math.sin(x_(s))),h=c/Math.sin(x_(90-s)),l=s>0?"\n                    M 0 "+-h+" L "+2*u+" "+h+"\n                    M "+-u+" "+-h+" L "+u+" "+h+"\n                    M "+-u+" 0 L "+u+" "+2*h+"\n                ":"\n                    M "+-u+" "+h+" L "+u+" "+-h+"\n                    M "+-u+" "+2*h+" L "+2*u+" "+-h+"\n                    M 0 "+2*h+" L "+2*u+" 0\n                "),(0,hr.jsxs)("pattern",{id:t,width:u,height:h,patternUnits:"userSpaceOnUse",children:[(0,hr.jsx)("rect",{width:u,height:h,fill:i,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),(0,hr.jsx)("path",{d:l,strokeWidth:a,stroke:o,strokeLinecap:"square"})]})}));__.displayName="PatternLines",__.propTypes={id:id().string.isRequired,spacing:id().number.isRequired,rotation:id().number.isRequired,background:id().string.isRequired,color:id().string.isRequired,lineWidth:id().number.isRequired},__.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var M_=(0,e.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,c=o/2;return!0===a&&(s=2*i+2*o),(0,hr.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,hr.jsx)("rect",{width:s,height:s,fill:n}),(0,hr.jsx)("rect",{x:c,y:c,width:i,height:i,fill:r}),a&&(0,hr.jsx)("rect",{x:1.5*o+i,y:1.5*o+i,width:i,height:i,fill:r})]})}));M_.displayName="PatternSquares",M_.propTypes={id:id().string.isRequired,color:id().string.isRequired,background:id().string.isRequired,size:id().number.isRequired,padding:id().number.isRequired,stagger:id().bool.isRequired},M_.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var S_={patternDots:b_,patternLines:__,patternSquares:M_},E_=["type"],T_=Ew({},y_,S_),P_=function(t){var n=t.defs;return!n||n.length<1?null:(0,hr.jsx)("defs",{"aria-hidden":!0,children:n.map((function(t){var n=t.type,r=Pw(t,E_);return T_[n]?(0,e.createElement)(T_[n],Ew({key:r.id},r)):null}))})};P_.propTypes={defs:id().arrayOf(id().shape({type:id().oneOf(Object.keys(T_)).isRequired,id:id().string.isRequired}))};var C_=(0,e.memo)(P_),A_=function(e){var t=e.width,n=e.height,r=e.margin,i=e.defs,o=e.children,a=e.role,s=e.ariaLabel,c=e.ariaLabelledBy,l=e.ariaDescribedBy,u=e.isFocusable,h=h_();return(0,hr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:a,"aria-label":s,"aria-labelledby":c,"aria-describedby":l,focusable:u,tabIndex:u?0:void 0,children:[(0,hr.jsx)(C_,{defs:i}),(0,hr.jsx)("rect",{width:t,height:n,fill:h.background}),(0,hr.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};A_.propTypes={width:id().number.isRequired,height:id().number.isRequired,margin:id().shape({top:id().number.isRequired,left:id().number.isRequired}).isRequired,defs:id().array,children:id().oneOfType([id().arrayOf(id().node),id().node]).isRequired,role:id().string,isFocusable:id().bool,ariaLabel:id().string,ariaLabelledBy:id().string,ariaDescribedBy:id().string};var k_=function(e){var t=e.size,n=e.color,r=e.borderWidth,i=e.borderColor;return(0,hr.jsx)("circle",{r:t/2,fill:n,stroke:i,strokeWidth:r,style:{pointerEvents:"none"}})};k_.propTypes={size:id().number.isRequired,color:id().string.isRequired,borderWidth:id().number.isRequired,borderColor:id().string.isRequired};var O_=(0,e.memo)(k_),R_=function(t){var n=t.x,r=t.y,i=t.symbol,o=void 0===i?O_:i,a=t.size,s=t.datum,c=t.color,l=t.borderWidth,u=t.borderColor,h=t.label,d=t.labelTextAnchor,f=void 0===d?"middle":d,p=t.labelYOffset,m=void 0===p?-12:p,v=h_(),g=Vw(),y=g.animate,b=Em({transform:"translate("+n+", "+r+")",config:g.config,immediate:!y});return(0,hr.jsxs)(Wm.g,{transform:b.transform,style:{pointerEvents:"none"},children:[(0,e.createElement)(o,{size:a,color:c,datum:s,borderWidth:l,borderColor:u}),h&&(0,hr.jsx)("text",{textAnchor:f,y:m,style:v.dots.text,children:h})]})};R_.propTypes={x:id().number.isRequired,y:id().number.isRequired,datum:id().object.isRequired,size:id().number.isRequired,color:id().string.isRequired,borderWidth:id().number.isRequired,borderColor:id().string.isRequired,symbol:id().oneOfType([id().func,id().object]),label:id().oneOfType([id().string,id().number]),labelTextAnchor:id().oneOf(["start","middle","end"]),labelYOffset:id().number};var L_=(0,e.memo)(R_),D_=function(e){var t=e.width,n=e.height,r=e.axis,i=e.scale,o=e.value,a=e.lineStyle,s=e.textStyle,c=e.legend,l=e.legendPosition,u=e.legendOffsetX,h=e.legendOffsetY,d=e.legendOrientation,f=h_(),p=0,m=0,v=0,g=0;"y"===r?(v=i(o),m=t):(p=i(o),g=n);var y=null;if(c){var b=function(e){var t=e.width,n=e.height,r=e.position,i=e.offsetX,o=e.offsetY,a=e.orientation,s=0,c=0,l="vertical"===a?-90:0,u="start";if("x"===e.axis)switch(r){case"top-left":s=-i,c=o,u="end";break;case"top":c=-o,u="horizontal"===a?"middle":"start";break;case"top-right":s=i,c=o,u="horizontal"===a?"start":"end";break;case"right":s=i,c=n/2,u="horizontal"===a?"start":"middle";break;case"bottom-right":s=i,c=n-o,u="start";break;case"bottom":c=n+o,u="horizontal"===a?"middle":"end";break;case"bottom-left":c=n-o,s=-i,u="horizontal"===a?"end":"start";break;case"left":s=-i,c=n/2,u="horizontal"===a?"end":"middle"}else switch(r){case"top-left":s=i,c=-o,u="start";break;case"top":s=t/2,c=-o,u="horizontal"===a?"middle":"start";break;case"top-right":s=t-i,c=-o,u="horizontal"===a?"end":"start";break;case"right":s=t+i,u="horizontal"===a?"start":"middle";break;case"bottom-right":s=t-i,c=o,u="end";break;case"bottom":s=t/2,c=o,u="horizontal"===a?"middle":"end";break;case"bottom-left":s=i,c=o,u="horizontal"===a?"start":"end";break;case"left":s=-i,u="horizontal"===a?"end":"middle"}return{x:s,y:c,rotation:l,textAnchor:u}}({axis:r,width:t,height:n,position:l,offsetX:u,offsetY:h,orientation:d});y=(0,hr.jsx)("text",{transform:"translate("+b.x+", "+b.y+") rotate("+b.rotation+")",textAnchor:b.textAnchor,dominantBaseline:"central",style:s,children:c})}return(0,hr.jsxs)("g",{transform:"translate("+p+", "+v+")",children:[(0,hr.jsx)("line",{x1:0,x2:m,y1:0,y2:g,stroke:f.markers.lineColor,strokeWidth:f.markers.lineStrokeWidth,style:a}),y]})};D_.propTypes={width:id().number.isRequired,height:id().number.isRequired,axis:id().oneOf(["x","y"]).isRequired,scale:id().func.isRequired,value:id().oneOfType([id().number,id().string,id().instanceOf(Date)]).isRequired,lineStyle:id().object,textStyle:id().object,legend:id().string,legendPosition:id().oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:id().number.isRequired,legendOffsetY:id().number.isRequired,legendOrientation:id().oneOf(["horizontal","vertical"]).isRequired},D_.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var N_=(0,e.memo)(D_),I_=function(e){var t=e.markers,n=e.width,r=e.height,i=e.xScale,o=e.yScale;return t&&0!==t.length?t.map((function(e,t){return(0,hr.jsx)(N_,Ew({},e,{width:n,height:r,scale:"y"===e.axis?o:i}),t)})):null};I_.propTypes={width:id().number.isRequired,height:id().number.isRequired,xScale:id().func.isRequired,yScale:id().func.isRequired,markers:id().arrayOf(id().shape({axis:id().oneOf(["x","y"]).isRequired,value:id().oneOfType([id().number,id().string,id().instanceOf(Date)]).isRequired,lineStyle:id().object,textStyle:id().object}))};var j_=(0,e.memo)(I_),z_=["theme","renderWrapper","animate","motionConfig"],F_=function(t){return function(e){var n,r;function i(){return e.apply(this,arguments)||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Tw(n,r),i.prototype.render=function(){var e=this.props,n=e.theme,r=e.renderWrapper,i=e.animate,o=e.motionConfig,a=Pw(e,z_);return(0,hr.jsx)(p_,{theme:n,renderWrapper:r,isInteractive:a.isInteractive,animate:i,motionConfig:o,children:(0,hr.jsx)(t,Ew({},a))})},i}(e.Component)},U_=function(e,t){var n,r=t.clientX,i=t.clientY,o=e.getBoundingClientRect(),a=(n=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}).width===o.width?1:n.width/o.width;return[(r-o.left)*a,(i-o.top)*a]},B_=Object.keys(y_),V_=Object.keys(S_),H_=function(e,t,n,r){var i=void 0===r?{}:r,o=i.dataKey,a=i.colorKey,s=void 0===a?"color":a,c=i.targetKey,l=void 0===c?"fill":c,u=[],h={};return e.length&&t.length&&(u=[].concat(e),t.forEach((function(t){for(var r=function(){var r=n[i],a=r.id;if(function(e,t,n){if("*"===e)return!0;if(fy()(e))return e(t);if(xw()(e)){var r=n?dv()(t,n):t;return Sw()(_w()(r,Object.keys(e)),e)}return!1}(r.match,t,o)){var c=e.find((function(e){return e.id===a}));if(c)if(V_.includes(c.type))if("inherit"===c.background||"inherit"===c.color){var d=dv()(t,s),f=c.background,p=c.color,m=a;"inherit"===c.background&&(m=m+".bg."+d,f=d),"inherit"===c.color&&(m=m+".fg."+d,p=d),pv()(t,l,"url(#"+m+")"),h[m]||(u.push(Ew({},c,{id:m,background:f,color:p})),h[m]=1)}else pv()(t,l,"url(#"+a+")");else if(B_.includes(c.type))if(c.colors.map((function(e){return e.color})).includes("inherit")){var v=dv()(t,s),g=a,y=Ew({},c,{colors:c.colors.map((function(e,t){return"inherit"!==e.color?e:(g=g+"."+t+"."+v,Ew({},e,{color:"inherit"===e.color?v:e.color}))}))});y.id=g,pv()(t,l,"url(#"+g+")"),h[g]||(u.push(y),h[g]=1)}else pv()(t,l,"url(#"+a+")");return"break"}},i=0;i<n.length&&"break"!==r();i++);}))),u};function G_(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const W_=G_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),q_=G_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Y_=G_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),X_=G_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Z_=G_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),$_=G_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),J_=G_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),K_=G_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Q_=G_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function eM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nM(){}var rM=.7,iM=1/rM,oM="\\s*([+-]?\\d+)\\s*",aM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cM=/^#([0-9a-f]{3,8})$/,lM=new RegExp("^rgb\\("+[oM,oM,oM]+"\\)$"),uM=new RegExp("^rgb\\("+[sM,sM,sM]+"\\)$"),hM=new RegExp("^rgba\\("+[oM,oM,oM,aM]+"\\)$"),dM=new RegExp("^rgba\\("+[sM,sM,sM,aM]+"\\)$"),fM=new RegExp("^hsl\\("+[aM,sM,sM]+"\\)$"),pM=new RegExp("^hsla\\("+[aM,sM,sM,aM]+"\\)$"),mM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vM(){return this.rgb().formatHex()}function gM(){return this.rgb().formatRgb()}function yM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?bM(t):3===n?new MM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?xM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?xM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=lM.exec(e))?new MM(t[1],t[2],t[3],1):(t=uM.exec(e))?new MM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hM.exec(e))?xM(t[1],t[2],t[3],t[4]):(t=dM.exec(e))?xM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=fM.exec(e))?PM(t[1],t[2]/100,t[3]/100,1):(t=pM.exec(e))?PM(t[1],t[2]/100,t[3]/100,t[4]):mM.hasOwnProperty(e)?bM(mM[e]):"transparent"===e?new MM(NaN,NaN,NaN,0):null}function bM(e){return new MM(e>>16&255,e>>8&255,255&e,1)}function xM(e,t,n,r){return r<=0&&(e=t=n=NaN),new MM(e,t,n,r)}function wM(e){return e instanceof nM||(e=yM(e)),e?new MM((e=e.rgb()).r,e.g,e.b,e.opacity):new MM}function _M(e,t,n,r){return 1===arguments.length?wM(e):new MM(e,t,n,null==r?1:r)}function MM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function SM(){return"#"+TM(this.r)+TM(this.g)+TM(this.b)}function EM(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function TM(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function PM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new AM(e,t,n,r)}function CM(e){if(e instanceof AM)return new AM(e.h,e.s,e.l,e.opacity);if(e instanceof nM||(e=yM(e)),!e)return new AM;if(e instanceof AM)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new AM(a,s,c,e.opacity)}function AM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function kM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function OM(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}eM(nM,yM,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:vM,formatHex:vM,formatHsl:function(){return CM(this).formatHsl()},formatRgb:gM,toString:gM}),eM(MM,_M,tM(nM,{brighter:function(e){return e=null==e?iM:Math.pow(iM,e),new MM(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?rM:Math.pow(rM,e),new MM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SM,formatHex:SM,formatRgb:EM,toString:EM})),eM(AM,(function(e,t,n,r){return 1===arguments.length?CM(e):new AM(e,t,n,null==r?1:r)}),tM(nM,{brighter:function(e){return e=null==e?iM:Math.pow(iM,e),new AM(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?rM:Math.pow(rM,e),new AM(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new MM(kM(e>=240?e-240:e+120,i,r),kM(e,i,r),kM(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const RM=e=>()=>e;function LM(e,t){return function(n){return e+n*t}}function DM(e){return 1===(e=+e)?NM:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):RM(isNaN(t)?n:t)}}function NM(e,t){var n=t-e;return n?LM(e,n):RM(isNaN(e)?t:e)}(function e(t){var n=DM(t);function r(e,t){var r=n((e=_M(e)).r,(t=_M(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=NM(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r})(1);function IM(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=_M(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var jM=IM((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return OM((n-r/t)*t,a,i,o,s)}}));IM((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return OM((n-r/t)*t,i,o,a,s)}}));const zM=e=>jM(e[e.length-1]);var FM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(G_);const UM=zM(FM);var BM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(G_);const VM=zM(BM);var HM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(G_);const GM=zM(HM);var WM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(G_);const qM=zM(WM);var YM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(G_);const XM=zM(YM);var ZM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(G_);const $M=zM(ZM);var JM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(G_);const KM=zM(JM);var QM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(G_);const eS=zM(QM);var tS=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(G_);const nS=zM(tS);var rS=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(G_);const iS=zM(rS);var oS=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(G_);const aS=zM(oS);var sS=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(G_);const cS=zM(sS);var lS=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(G_);const uS=zM(lS);var hS=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(G_);const dS=zM(hS);var fS=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(G_);const pS=zM(fS);var mS=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(G_);const vS=zM(mS);var gS=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(G_);const yS=zM(gS);var bS=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(G_);const xS=zM(bS);var wS=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(G_);const _S=zM(wS);var MS=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(G_);const SS=zM(MS);var ES=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(G_);const TS=zM(ES);var PS=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(G_);const CS=zM(PS);var AS=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(G_);const kS=zM(AS);var OS=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(G_);const RS=zM(OS);var LS=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(G_);const DS=zM(LS);var NS=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(G_);const IS=zM(NS);var jS=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(G_);const zS=zM(jS);function FS(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const US=FS(G_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var BS=FS(G_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),VS=FS(G_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),HS=FS(G_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const GS=Math.PI/180,WS=180/Math.PI;var qS=-.14861,YS=1.78277,XS=-.29227,ZS=-.90649,$S=1.97294,JS=$S*ZS,KS=$S*YS,QS=YS*XS-ZS*qS;function eE(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof tE)return new tE(e.h,e.s,e.l,e.opacity);e instanceof MM||(e=wM(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(QS*r+JS*t-KS*n)/(QS+JS-KS),o=r-i,a=($S*(n-i)-XS*o)/ZS,s=Math.sqrt(a*a+o*o)/($S*i*(1-i)),c=s?Math.atan2(a,o)*WS-120:NaN;return new tE(c<0?c+360:c,s,i,e.opacity)}(e):new tE(e,t,n,null==r?1:r)}function tE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nE(e){return function t(n){function r(t,r){var i=e((t=eE(t)).h,(r=eE(r)).h),o=NM(t.s,r.s),a=NM(t.l,r.l),s=NM(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}eM(tE,eE,tM(nM,{brighter:function(e){return e=null==e?iM:Math.pow(iM,e),new tE(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?rM:Math.pow(rM,e),new tE(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*GS,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new MM(255*(t+n*(qS*r+YS*i)),255*(t+n*(XS*r+ZS*i)),255*(t+n*($S*r)),this.opacity)}}));nE((function(e,t){var n=t-e;return n?LM(e,n>180||n<-180?n-360*Math.round(n/360):n):RM(isNaN(e)?t:e)}));var rE=nE(NM),iE=rE(eE(-100,.75,.35),eE(80,1.5,.8)),oE=rE(eE(260,.75,.35),eE(80,1.5,.8)),aE=eE();const sE=rE(eE(300,.5,0),eE(-240,.5,1));var cE=_M(),lE=Math.PI/3,uE=2*Math.PI/3;function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hE.apply(this,arguments)}function dE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fE={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:W_,accent:q_,dark2:Y_,paired:X_,pastel1:Z_,pastel2:$_,set1:J_,set2:K_,set3:Q_},pE=Object.keys(fE),mE={brown_blueGreen:FM,purpleRed_green:BM,pink_yellowGreen:HM,purple_orange:WM,red_blue:YM,red_grey:ZM,red_yellow_blue:JM,red_yellow_green:QM,spectral:tS},vE=Object.keys(mE),gE={brown_blueGreen:UM,purpleRed_green:VM,pink_yellowGreen:GM,purple_orange:qM,red_blue:XM,red_grey:$M,red_yellow_blue:KM,red_yellow_green:eS,spectral:nS},yE={blues:rS,greens:oS,greys:sS,oranges:lS,purples:hS,reds:fS,blue_green:mS,blue_purple:gS,green_blue:bS,orange_red:wS,purple_blue_green:MS,purple_blue:ES,purple_red:PS,red_purple:AS,yellow_green_blue:OS,yellow_green:LS,yellow_orange_brown:NS,yellow_orange_red:jS},bE=Object.keys(yE),xE={blues:iS,greens:aS,greys:cS,oranges:uS,purples:dS,reds:pS,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:US,inferno:VS,magma:BS,plasma:HS,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:iE,cool:oE,cubehelixDefault:sE,blue_green:vS,blue_purple:yS,green_blue:xS,orange_red:_S,purple_blue_green:SS,purple_blue:TS,purple_red:CS,red_purple:kS,yellow_green_blue:RS,yellow_green:DS,yellow_orange_brown:IS,yellow_orange_red:zS},wE=hE({},fE,mE,yE),_E=Object.keys(wE),ME={rainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return aE.h=360*e-100,aE.s=1.5-1.5*t,aE.l=.8-.9*t,aE+""},sinebow:function(e){var t;return e=(.5-e)*Math.PI,cE.r=255*(t=Math.sin(e))*t,cE.g=255*(t=Math.sin(e+lE))*t,cE.b=255*(t=Math.sin(e+uE))*t,cE+""}},SE=hE({},gE,xE,ME),EE=(Object.keys(SE),function(e,t){if("function"==typeof e)return e;if(xw()(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var n=dv()(t,e.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return dv()(t,e.from)};if(Array.isArray(e.modifiers)){for(var i,o=[],a=function(){var e=i.value,t=e[0],n=e[1];if("brighter"===t)o.push((function(e){return e.brighter(n)}));else if("darker"===t)o.push((function(e){return e.darker(n)}));else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");o.push((function(e){return e.opacity=n,e}))}},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dE(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(i=s()).done;)a();return 0===o.length?r:function(e){return o.reduce((function(e,t){return t(e)}),Xv(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),TE=function(t,n){return(0,e.useMemo)((function(){return EE(t,n)}),[t,n])},PE=id().oneOfType([id().func,id().arrayOf(id().string),id().shape({scheme:id().oneOf(_E).isRequired,size:id().number}),id().shape({datum:id().string.isRequired}),id().string]),CE=(id().oneOfType([id().string,id().func,id().shape({theme:id().string.isRequired}),id().shape({from:id().string.isRequired,modifiers:id().arrayOf(id().array)})]),function(e,t){if("function"==typeof e)return e;var n="function"==typeof t?t:function(e){return dv()(e,t)};if(Array.isArray(e)){var r=Sv(e),i=function(e){return r(n(e))};return i.scale=r,i}if(xw()(e)){if(function(e){return void 0!==e.datum}(e))return function(t){return dv()(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return pE.includes(e)}(e.scheme)){var o=Sv(wE[e.scheme]),a=function(e){return o(n(e))};return a.scale=o,a}if(function(e){return vE.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=Sv(wE[e.scheme][e.size||11]),c=function(e){return s(n(e))};return c.scale=s,c}if(function(e){return bE.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var l=Sv(wE[e.scheme][e.size||9]),u=function(e){return l(n(e))};return u.scale=l,u}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}}),AE=n(2064),kE=n.n(AE),OE=n(6339),RE=n.n(OE),LE=n(4286),DE=n.n(LE),NE=n(6609),IE=n.n(NE),jE=Math.sqrt(50),zE=Math.sqrt(10),FE=Math.sqrt(2);function UE(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=BE(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function BE(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=jE?10:o>=zE?5:o>=FE?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jE?10:o>=zE?5:o>=FE?2:1)}function VE(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=jE?i*=10:o>=zE?i*=5:o>=FE&&(i*=2),t<e?-i:i}function HE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function GE(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>HE(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}const WE=GE(HE),qE=WE.right,YE=(WE.left,GE((function(e){return null===e?NaN:+e})).center,qE);function XE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ZE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $E(){}var JE=.7,KE=1.4285714285714286,QE="\\s*([+-]?\\d+)\\s*",eT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nT=/^#([0-9a-f]{3,8})$/,rT=new RegExp("^rgb\\("+[QE,QE,QE]+"\\)$"),iT=new RegExp("^rgb\\("+[tT,tT,tT]+"\\)$"),oT=new RegExp("^rgba\\("+[QE,QE,QE,eT]+"\\)$"),aT=new RegExp("^rgba\\("+[tT,tT,tT,eT]+"\\)$"),sT=new RegExp("^hsl\\("+[eT,tT,tT]+"\\)$"),cT=new RegExp("^hsla\\("+[eT,tT,tT,eT]+"\\)$"),lT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function uT(){return this.rgb().formatHex()}function hT(){return this.rgb().formatRgb()}function dT(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?fT(t):3===n?new vT(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pT(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rT.exec(e))?new vT(t[1],t[2],t[3],1):(t=iT.exec(e))?new vT(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=oT.exec(e))?pT(t[1],t[2],t[3],t[4]):(t=aT.exec(e))?pT(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sT.exec(e))?xT(t[1],t[2]/100,t[3]/100,1):(t=cT.exec(e))?xT(t[1],t[2]/100,t[3]/100,t[4]):lT.hasOwnProperty(e)?fT(lT[e]):"transparent"===e?new vT(NaN,NaN,NaN,0):null}function fT(e){return new vT(e>>16&255,e>>8&255,255&e,1)}function pT(e,t,n,r){return r<=0&&(e=t=n=NaN),new vT(e,t,n,r)}function mT(e,t,n,r){return 1===arguments.length?function(e){return e instanceof $E||(e=dT(e)),e?new vT((e=e.rgb()).r,e.g,e.b,e.opacity):new vT}(e):new vT(e,t,n,null==r?1:r)}function vT(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function gT(){return"#"+bT(this.r)+bT(this.g)+bT(this.b)}function yT(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function bT(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function xT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _T(e,t,n,r)}function wT(e){if(e instanceof _T)return new _T(e.h,e.s,e.l,e.opacity);if(e instanceof $E||(e=dT(e)),!e)return new _T;if(e instanceof _T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new _T(a,s,c,e.opacity)}function _T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function MT(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ST(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}XE($E,dT,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:uT,formatHex:uT,formatHsl:function(){return wT(this).formatHsl()},formatRgb:hT,toString:hT}),XE(vT,mT,ZE($E,{brighter:function(e){return e=null==e?KE:Math.pow(KE,e),new vT(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?JE:Math.pow(JE,e),new vT(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gT,formatHex:gT,formatRgb:yT,toString:yT})),XE(_T,(function(e,t,n,r){return 1===arguments.length?wT(e):new _T(e,t,n,null==r?1:r)}),ZE($E,{brighter:function(e){return e=null==e?KE:Math.pow(KE,e),new _T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?JE:Math.pow(JE,e),new _T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vT(MT(e>=240?e-240:e+120,i,r),MT(e,i,r),MT(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const ET=e=>()=>e;function TT(e,t){return function(n){return e+n*t}}function PT(e){return 1===(e=+e)?CT:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ET(isNaN(t)?n:t)}}function CT(e,t){var n=t-e;return n?TT(e,n):ET(isNaN(e)?t:e)}const AT=function e(t){var n=PT(t);function r(e,t){var r=n((e=mT(e)).r,(t=mT(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=CT(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function kT(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=mT(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}kT((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return ST((n-r/t)*t,a,i,o,s)}})),kT((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return ST((n-r/t)*t,i,o,a,s)}}));function OT(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=FT(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function RT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function LT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function DT(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=FT(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var NT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IT=new RegExp(NT.source,"g");function jT(e,t){var n,r,i,o=NT.lastIndex=IT.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=NT.exec(e))&&(r=IT.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:LT(n,r)})),o=IT.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function zT(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function FT(e,t){var n,r=typeof t;return null==t||"boolean"===r?ET(t):("number"===r?LT:"string"===r?(n=dT(t))?(t=n,AT):jT:t instanceof dT?AT:t instanceof Date?RT:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?zT:Array.isArray(t)?OT:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?DT:LT)(e,t)}function UT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function BT(e){return+e}var VT=[0,1];function HT(e){return e}function GT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function WT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=GT(i,r),o=n(a,o)):(r=GT(r,i),o=n(o,a)),function(e){return o(r(e))}}function qT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=GT(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=YE(e,t,1,r)-1;return o[n](i[n](t))}}function YT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function XT(){var e,t,n,r,i,o,a=VT,s=VT,c=FT,l=HT;function u(){var e=Math.min(a.length,s.length);return l!==HT&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?qT:WT,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(l(t)))}return h.invert=function(n){return l(t((o||(o=r(s,a.map(e),LT)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,BT),u()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),c=UT,u()},h.clamp=function(e){return arguments.length?(l=!!e||HT,u()):l!==HT},h.interpolate=function(e){return arguments.length?(c=e,u()):c},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function ZT(){return XT()(HT,HT)}function $T(e,t,n,r){var i,o=VE(e,t,n);switch((r=ob(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nb(t)/3)))-nb(Math.abs(e)))}(o,a))||(r.precision=i),db(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nb(t)-nb(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-nb(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return hb(r)}function JT(e){var t=e.domain;return e.ticks=function(e){var n=t();return UE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return $T(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=BE(c,l,n))===r)return o[a]=c,o[s]=l,t(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function KT(){var e=ZT();return e.copy=function(){return YT(e,KT())},_v.apply(e,arguments),JT(e)}function QT(){var e,t,n=Sv().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-c+2*l),s&&(e=Math.floor(e)),d+=(f-d-e*(n-c))*u,t=e*(1-c),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),h()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),h()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,h()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return QT(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},_v.apply(h(),arguments)}function eP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eP(t())},e}function tP(){return eP(QT.apply(null,arguments).paddingInner(1))}const nP=1e3,rP=6e4,iP=36e5,oP=864e5,aP=6048e5,sP=2592e6,cP=31536e6;var lP=new Date,uP=new Date;function hP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return hP((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return lP.setTime(+t),uP.setTime(+r),e(lP),e(uP),Math.floor(n(lP,uP))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var dP=hP((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));dP.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?hP((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):dP:null};const fP=dP;dP.range;var pP=hP((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*nP)}),(function(e,t){return(t-e)/nP}),(function(e){return e.getUTCSeconds()}));const mP=pP;pP.range;var vP=hP((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nP)}),(function(e,t){e.setTime(+e+t*rP)}),(function(e,t){return(t-e)/rP}),(function(e){return e.getMinutes()}));const gP=vP;vP.range;var yP=hP((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nP-e.getMinutes()*rP)}),(function(e,t){e.setTime(+e+t*iP)}),(function(e,t){return(t-e)/iP}),(function(e){return e.getHours()}));const bP=yP;yP.range;var xP=hP((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rP)/oP),(e=>e.getDate()-1));const wP=xP;xP.range;function _P(e){return hP((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rP)/aP}))}var MP=_P(0),SP=_P(1),EP=_P(2),TP=_P(3),PP=_P(4),CP=_P(5),AP=_P(6),kP=(MP.range,SP.range,EP.range,TP.range,PP.range,CP.range,AP.range,hP((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));const OP=kP;kP.range;var RP=hP((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));RP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hP((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const LP=RP;RP.range;var DP=hP((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*rP)}),(function(e,t){return(t-e)/rP}),(function(e){return e.getUTCMinutes()}));const NP=DP;DP.range;var IP=hP((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*iP)}),(function(e,t){return(t-e)/iP}),(function(e){return e.getUTCHours()}));const jP=IP;IP.range;var zP=hP((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/oP}),(function(e){return e.getUTCDate()-1}));const FP=zP;zP.range;function UP(e){return hP((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/aP}))}var BP=UP(0),VP=UP(1),HP=UP(2),GP=UP(3),WP=UP(4),qP=UP(5),YP=UP(6),XP=(BP.range,VP.range,HP.range,GP.range,WP.range,qP.range,YP.range,hP((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})));const ZP=XP;XP.range;var $P=hP((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));$P.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hP((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const JP=$P;$P.range;function KP(e,t,n,r,i,o){const a=[[mP,1,nP],[mP,5,5e3],[mP,15,15e3],[mP,30,3e4],[o,1,rP],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,iP],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,oP],[r,2,1728e5],[n,1,aP],[t,1,sP],[t,3,7776e6],[e,1,cP]];function s(t,n,r){const i=Math.abs(n-t)/r,o=GE((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(VE(t/cP,n/cP,r));if(0===o)return fP.every(Math.max(VE(t,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[QP,eC]=KP(JP,ZP,BP,FP,jP,NP),[tC,nC]=KP(LP,OP,MP,wP,bP,gP);function rC(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function iC(e){return new Date(e)}function oC(e){return e instanceof Date?+e:+new Date(+e)}function aC(e,t,n,r,i,o,a,s,c,l){var u=ZT(),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),m=l("%I:%M"),v=l("%I %p"),g=l("%a %d"),y=l("%b %d"),b=l("%B"),x=l("%Y");function w(e){return(c(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?v:r(e)<e?i(e)<e?g:y:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,oC)):d().map(iC)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:l(t)},u.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(rC(n,e)):u},u.copy=function(){return YT(u,aC(e,t,n,r,i,o,a,s,c,l))},u}function sC(e){return Math.log(e)}function cC(e){return Math.exp(e)}function lC(e){return-Math.log(-e)}function uC(e){return-Math.exp(-e)}function hC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dC(e){return function(t){return-e(-t)}}function fC(e){var t,n,r=e(sC,cC),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?hC:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=dC(t),n=dC(n),e(lC,uC)):e(sC,cC),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],c=a[a.length-1];(r=c<s)&&(d=s,s=c,c=d);var l,u,h,d=t(s),f=t(c),p=null==e?10:+e,m=[];if(!(o%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),s>0){for(;d<=f;++d)for(u=1,l=n(d);u<o;++u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}}else for(;d<=f;++d)for(u=o-1,l=n(d);u>=1;--u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}2*m.length<p&&(m=UE(s,c,p))}else m=UE(d,f,Math.min(f-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=hb(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(rC(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function pC(){var e=fC(XT()).domain([1,10]);return e.copy=function(){return YT(e,pC()).base(e.base())},_v.apply(e,arguments),e}function mC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gC(){var e=function(e){var t=1,n=e(mC(t),vC(t));return n.constant=function(n){return arguments.length?e(mC(t=+n),vC(t)):t},JT(n)}(XT());return e.copy=function(){return YT(e,gC()).constant(e.constant())},_v.apply(e,arguments)}var yC=yb((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));yC.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?yb((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):yC:null};const bC=yC;yC.range;var xC=yb((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*bb)}),(function(e,t){return(t-e)/bb}),(function(e){return e.getUTCSeconds()}));const wC=xC;xC.range;var _C=yb((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*bb)}),(function(e,t){e.setTime(+e+t*xb)}),(function(e,t){return(t-e)/xb}),(function(e){return e.getMinutes()}));const MC=_C;_C.range;var SC=yb((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*xb)}),(function(e,t){return(t-e)/xb}),(function(e){return e.getUTCMinutes()}));const EC=SC;SC.range;var TC=yb((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*bb-e.getMinutes()*xb)}),(function(e,t){e.setTime(+e+t*wb)}),(function(e,t){return(t-e)/wb}),(function(e){return e.getHours()}));const PC=TC;TC.range;var CC=yb((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*wb)}),(function(e,t){return(t-e)/wb}),(function(e){return e.getUTCHours()}));const AC=CC;CC.range;var kC=yb((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const OC=kC;kC.range;var RC=yb((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const LC=RC;RC.range;function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}var NC=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],IC={millisecond:[],second:NC.slice(0,1),minute:NC.slice(0,2),hour:NC.slice(0,3),day:NC.slice(0,4),month:NC.slice(0,5),year:NC.slice(0,6)},jC=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,i=void 0===r?"millisecond":r,o=e.useUTC,a=void 0===o||o,s=function(e){return function(t){return IC[e].forEach((function(e){e(t)})),t}}(i);return function(e){if(void 0===e)return e;if("native"===n||e instanceof Date)return s(e);var t=a?tx(n):Qb(n);return s(t(e))}},zC=function(e,t){void 0===t&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},FC=function(e){var t=e;return t.type="band",t},UC=function(e,t,n){var r,i,o=e.format,a=void 0===o?"native":o,s=e.precision,c=void 0===s?"millisecond":s,l=e.min,u=void 0===l?"auto":l,h=e.max,d=void 0===h?"auto":h,f=e.useUTC,p=void 0===f||f,m=e.nice,v=void 0!==m&&m,g=jC({format:a,precision:c,useUTC:p});r="auto"===u?g(t.min):"native"!==a?g(u):u,i="auto"===d?g(t.max):"native"!==a?g(d):d;var y=p?function(){return _v.apply(aC(QP,eC,JP,ZP,BP,FP,jP,NP,mP,ex).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return _v.apply(aC(tC,nC,LP,OP,MP,wP,bP,gP,mP,Kb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();y.range([0,n]),r&&i&&y.domain([r,i]),!0===v?y.nice():"object"!=typeof v&&"number"!=typeof v||y.nice(v);var b=y;return b.type="time",b.useUTC=p,b},BC=function(e,t,n,r){var i,o=e.base,a=void 0===o?10:o,s=e.min,c=void 0===s?"auto":s,l=e.max,u=void 0===l?"auto":l;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var h,d,f=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){f||(void 0===i?i=Math.sign(e):Math.sign(e)!==i&&(f=!0))})),f)throw new Error("a log scale domain must be strictly-positive or strictly-negative");h="auto"===c?t.min:c,d="auto"===u?t.max:u;var p=pC().domain([h,d]).rangeRound("x"===r?[0,n]:[n,0]).base(a).nice();return p.type="log",p},VC=function(e,t){return e===t},HC=function(e,t){return e.getTime()===t.getTime()};function GC(e,t,n,r){switch(e.type){case"linear":return function(e,t,n,r){var i,o,a,s,c=e.min,l=void 0===c?0:c,u=e.max,h=void 0===u?"auto":u,d=e.stacked,f=void 0!==d&&d,p=e.reverse,m=void 0!==p&&p,v=e.clamp,g=void 0!==v&&v,y=e.nice,b=void 0!==y&&y;i="auto"===l?!0===f?null!=(o=t.minStacked)?o:0:t.min:l,a="auto"===h?!0===f?null!=(s=t.maxStacked)?s:0:t.max:h;var x=KT().rangeRound("x"===r?[0,n]:[n,0]).domain(m?[a,i]:[i,a]).clamp(g);return!0===b?x.nice():"number"==typeof b&&x.nice(b),zC(x,f)}(e,t,n,r);case"point":return function(e,t,n){var r=tP().range([0,n]).domain(t.all);return r.type="point",r}(0,t,n);case"band":return function(e,t,n,r){var i=e.round,o=void 0===i||i,a=QT().range("x"===r?[0,n]:[n,0]).domain(t.all).round(o);return FC(a)}(e,t,n,r);case"time":return UC(e,t,n);case"log":return BC(e,t,n,r);case"symlog":return function(e,t,n,r){var i,o,a=e.constant,s=void 0===a?1:a,c=e.min,l=void 0===c?"auto":c,u=e.max,h=void 0===u?"auto":u,d=e.reverse,f=void 0!==d&&d;i="auto"===l?t.min:l,o="auto"===h?t.max:h;var p=gC().constant(s).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===f?p.domain([o,i]):p.domain([i,o]);var m=p;return m.type="symlog",m}(e,t,n,r);default:throw new Error("invalid scale spec")}}var WC=function(e,t,n){var r;if("stacked"in n&&n.stacked){var i=e.data["x"===t?"xStacked":"yStacked"];return null==i?null:n(i)}return null!=(r=n(e.data[t]))?r:null},qC=function(e,t,n){return{x:YC(e,"x",t),y:YC(e,"y",n)}},YC=function(e,t,n,r){var i=void 0===r?{}:r,o=i.getValue,a=void 0===o?function(e){return e.data[t]}:o,s=i.setValue,c=void 0===s?function(e,n){e.data[t]=n}:s;if("linear"===n.type)e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&c(e,parseFloat(String(t)))}))}));else if("time"===n.type&&"native"!==n.format){var l=jC(n);e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&c(e,l(t))}))}))}var u=[];switch(e.forEach((function(e){e.data.forEach((function(e){u.push(a(e))}))})),n.type){case"linear":var h=DE()(kE()(u).filter((function(e){return null!==e})),(function(e){return e}));return{all:h,min:Math.min.apply(Math,h),max:Math.max.apply(Math,h)};case"time":var d=RE()(u,(function(e){return e.getTime()})).slice(0).sort((function(e,t){return t.getTime()-e.getTime()})).reverse();return{all:d,min:d[0],max:wv()(d)};default:var f=kE()(u);return{all:f,min:f[0],max:wv()(f)}}},XC=function(e,t,n){var r=function(e){return"x"===e?"y":"x"}(e),i=[];t[r].all.forEach((function(t){var o=IE()(t)?HC:VC,a=[];n.forEach((function(n){var s=n.data.find((function(e){return o(e.data[r],t)})),c=null,l=null;if(void 0!==s){if(null!==(c=s.data[e])){var u=wv()(a);void 0===u?l=c:null!==u&&(l=u+c)}s.data["x"===e?"xStacked":"yStacked"]=l}a.push(l),null!==l&&i.push(l)}))})),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},ZC=function(e,t){return XC("x",e,t)},$C=function(e,t){return XC("y",e,t)},JC=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var r;return(null!=(r=e(t))?r:0)+n}},KC={millisecond:[bC,bC],second:[wC,wC],minute:[MC,EC],hour:[PC,AC],day:[yb((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),yb((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,t){return e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[Nb,Eb],sunday:[Nb,Eb],monday:[Ib,Tb],tuesday:[jb,Pb],wednesday:[zb,Cb],thursday:[Fb,Ab],friday:[Ub,kb],saturday:[Bb,Ob],month:[OC,LC],year:[Wb,Yb]},QC=Object.keys(KC),eA=new RegExp("^every\\s*(\\d+)?\\s*("+QC.join("|")+")s?$","i"),tA=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(eA);if(n){var r=n[1],i=n[2],o=KC[i][e.useUTC?1:0];if("day"===i){var a,s,c=e.domain(),l=c[0],u=c[1],h=new Date(u);return h.setDate(h.getDate()+1),null!=(a=null==(s=o.every(Number(null!=r?r:1)))?void 0:s.range(l,h))?a:[]}if(void 0===r)return e.ticks(o);var d=o.every(Number(r));if(d)return e.ticks(d)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof(f=t)&&isFinite(f)&&Math.floor(f)===f)return e.ticks(t)}var f;return e.domain()};function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nA.apply(this,arguments)}var rA=function(e){var t,n=e.axis,r=e.scale,i=e.ticksPosition,o=e.tickValues,a=e.tickSize,s=e.tickPadding,c=e.tickRotation,l=e.truncateTickAt,u=e.engine,h=void 0===u?"svg":u,d=tA(r,o),f=w_[h],p="bandwidth"in r?JC(r):r,m={lineX:0,lineY:0},v={textX:0,textY:0},g="object"==typeof document&&"rtl"===document.dir,y=f.align.center,b=f.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!=(t=p(e))?t:0,y:0}},m.lineY=a*("after"===i?1:-1),v.textY=(a+s)*("after"===i?1:-1),b="after"===i?f.baseline.top:f.baseline.bottom,0===c?y=f.align.center:"after"===i&&c<0||"before"===i&&c>0?(y=f.align[g?"left":"right"],b=f.baseline.center):("after"===i&&c>0||"before"===i&&c<0)&&(y=f.align[g?"right":"left"],b=f.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=p(e))?t:0}},m.lineX=a*("after"===i?1:-1),v.textX=(a+s)*("after"===i?1:-1),y="after"===i?f.align.left:f.align.right),{ticks:d.map((function(e){var n="string"==typeof e?function(e){var t=String(e).length;return l&&l>0&&t>l?""+String(e).slice(0,l).concat("..."):""+e}(e):e;return nA({key:e instanceof Date?""+e.valueOf():""+e,value:n},t(e),m,v)})),textAlign:y,textBaseline:b}},iA=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=Kb(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return hb(e)},oA=function(e){var t,n=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values,s=(t=a,(Array.isArray(t)?a:void 0)||tA(i,a)),c="bandwidth"in i?JC(i):i,l="x"===o?s.map((function(e){var t,n;return{key:e instanceof Date?""+e.valueOf():""+e,x1:null!=(t=c(e))?t:0,x2:null!=(n=c(e))?n:0,y1:0,y2:r}})):s.map((function(e){var t,r;return{key:e instanceof Date?""+e.valueOf():""+e,x1:0,x2:n,y1:null!=(t=c(e))?t:0,y2:null!=(r=c(e))?r:0}}));return l},aA=(0,e.memo)((function(t){var n,r=t.value,i=t.format,o=t.lineX,a=t.lineY,s=t.onClick,c=t.textBaseline,l=t.textAnchor,u=t.animatedProps,h=h_(),d=h.axis.ticks.line,f=h.axis.ticks.text,p=null!=(n=null==i?void 0:i(r))?n:r,m=(0,e.useMemo)((function(){var e={opacity:u.opacity};return s?{style:nA({},e,{cursor:"pointer"}),onClick:function(e){return s(e,p)}}:{style:e}}),[u.opacity,s,p]);return(0,hr.jsxs)(Wm.g,nA({transform:u.transform},m,{children:[(0,hr.jsx)("line",{x1:0,x2:o,y1:0,y2:a,style:d}),f.outlineWidth>0&&(0,hr.jsx)(Wm.text,{dominantBaseline:c,textAnchor:l,transform:u.textTransform,style:f,strokeWidth:2*f.outlineWidth,stroke:f.outlineColor,strokeLinejoin:"round",children:""+p}),(0,hr.jsx)(Wm.text,{dominantBaseline:c,textAnchor:l,transform:u.textTransform,style:f,children:""+p})]}))})),sA=(0,e.memo)((function(t){var n=t.axis,r=t.scale,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,c=t.length,l=t.ticksPosition,u=t.tickValues,h=t.tickSize,d=void 0===h?5:h,f=t.tickPadding,p=void 0===f?5:f,m=t.tickRotation,v=void 0===m?0:m,g=t.format,y=t.renderTick,b=void 0===y?aA:y,x=t.truncateTickAt,w=t.legend,_=t.legendPosition,M=void 0===_?"end":_,S=t.legendOffset,E=void 0===S?0:S,T=t.onClick,P=t.ariaHidden,C=h_(),A=C.axis.legend.text,k=(0,e.useMemo)((function(){return iA(g,r)}),[g,r]),O=rA({axis:n,scale:r,ticksPosition:l,tickValues:u,tickSize:d,tickPadding:p,tickRotation:v,truncateTickAt:x}),R=O.ticks,L=O.textAlign,D=O.textBaseline,N=null;if(void 0!==w){var I,j=0,z=0,F=0;"y"===n?(F=-90,j=E,"start"===M?(I="start",z=c):"middle"===M?(I="middle",z=c/2):"end"===M&&(I="end")):(z=E,"start"===M?I="start":"middle"===M?(I="middle",j=c/2):"end"===M&&(I="end",j=c)),N=(0,hr.jsxs)(hr.Fragment,{children:[A.outlineWidth>0&&(0,hr.jsx)("text",{transform:"translate("+j+", "+z+") rotate("+F+")",textAnchor:I,style:nA({dominantBaseline:"central"},A),strokeWidth:2*A.outlineWidth,stroke:A.outlineColor,strokeLinejoin:"round",children:w}),(0,hr.jsx)("text",{transform:"translate("+j+", "+z+") rotate("+F+")",textAnchor:I,style:nA({dominantBaseline:"central"},A),children:w})]})}var U=Vw(),B=U.animate,V=U.config,H=Em({transform:"translate("+o+","+s+")",lineX2:"x"===n?c:0,lineY2:"x"===n?0:c,config:V,immediate:!B}),G=(0,e.useCallback)((function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}}),[v]),W=Tm(R,{keys:function(e){return e.key},initial:G,from:(0,e.useCallback)((function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}}),[v]),enter:G,update:G,leave:{opacity:0},config:V,immediate:!B});return(0,hr.jsxs)(Wm.g,{transform:H.transform,"aria-hidden":P,children:[W((function(t,n,r,i){return e.createElement(b,nA({tickIndex:i,format:k,rotate:v,textBaseline:D,textAnchor:L,truncateTickAt:x,animatedProps:t},n,T?{onClick:T}:{}))})),(0,hr.jsx)(Wm.line,{style:C.axis.domain.line,x1:0,x2:H.lineX2,y1:0,y2:H.lineY2}),N]})})),cA={ticksPosition:id().oneOf(["before","after"]),tickValues:id().oneOfType([id().number,id().arrayOf(id().oneOfType([id().number,id().string,id().instanceOf(Date)])),id().string]),rotateOnTickLength:id().shape({angle:id().number,length:id().number}),tickSize:id().number,tickPadding:id().number,tickRotation:id().number,format:id().oneOfType([id().func,id().string]),renderTick:id().func,legend:id().node,legendPosition:id().oneOf(["start","middle","end"]),legendOffset:id().number,ariaHidden:id().bool},lA=id().shape(cA),uA=["top","right","bottom","left"],hA=(0,e.memo)((function(e){var t=e.xScale,n=e.yScale,r=e.width,i=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,hr.jsx)(hr.Fragment,{children:uA.map((function(e){var a=o[e];if(!a)return null;var s="top"===e||"bottom"===e;return(0,hr.jsx)(sA,nA({},a,{axis:s?"x":"y",x:"right"===e?r:0,y:"bottom"===e?i:0,scale:s?t:n,length:s?r:i,ticksPosition:"top"===e||"left"===e?"before":"after",truncateTickAt:a.truncateTickAt}),e)}))})})),dA=(0,e.memo)((function(e){var t=e.animatedProps,n=h_();return(0,hr.jsx)(Wm.line,nA({},t,n.grid.line))})),fA=(0,e.memo)((function(t){var n=t.lines,r=Vw(),i=r.animate,o=Tm(n,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:r.config,immediate:!i});return(0,hr.jsx)("g",{children:o((function(t,n){return(0,e.createElement)(dA,nA({},n,{key:n.key,animatedProps:t}))}))})})),pA=(0,e.memo)((function(t){var n=t.width,r=t.height,i=t.xScale,o=t.yScale,a=t.xValues,s=t.yValues,c=(0,e.useMemo)((function(){return!!i&&oA({width:n,height:r,scale:i,axis:"x",values:a})}),[i,a,n,r]),l=(0,e.useMemo)((function(){return!!o&&oA({width:n,height:r,scale:o,axis:"y",values:s})}),[r,n,o,s]);return(0,hr.jsxs)(hr.Fragment,{children:[c&&(0,hr.jsx)(fA,{lines:c}),l&&(0,hr.jsx)(fA,{lines:l})]})})),mA=function(e,t){var n=t.xScale,r=t.yScale,i=t.width,o=t.height,a=t.top,s=t.right,c=t.bottom,l=t.left,u=t.theme,h={top:a,right:s,bottom:c,left:l};uA.forEach((function(t){var a=h[t];if(!a)return null;var s="top"===t||"bottom"===t,c="top"===t||"left"===t?"before":"after",l=s?n:r,d=iA(a.format,l);!function(e,t){var n,r=t.axis,i=t.scale,o=t.x,a=void 0===o?0:o,s=t.y,c=void 0===s?0:s,l=t.length,u=t.ticksPosition,h=t.tickValues,d=t.tickSize,f=void 0===d?5:d,p=t.tickPadding,m=void 0===p?5:p,v=t.tickRotation,g=void 0===v?0:v,y=t.format,b=t.legend,x=t.legendPosition,w=void 0===x?"end":x,_=t.legendOffset,M=void 0===_?0:_,S=t.theme,E=rA({axis:r,scale:i,ticksPosition:u,tickValues:h,tickSize:f,tickPadding:m,tickRotation:g,engine:"canvas"}),T=E.ticks,P=E.textAlign,C=E.textBaseline;e.save(),e.translate(a,c),e.textAlign=P,e.textBaseline=C;var A=S.axis.ticks.text;e.font=(A.fontWeight?A.fontWeight+" ":"")+A.fontSize+"px "+A.fontFamily,(null!=(n=S.axis.domain.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(S.axis.domain.line.strokeWidth),e.lineCap="square",S.axis.domain.line.stroke&&(e.strokeStyle=S.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?l:0,"x"===r?0:l),e.stroke());var k="function"==typeof y?y:function(e){return""+e};if(T.forEach((function(t){var n;(null!=(n=S.axis.ticks.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(S.axis.ticks.line.strokeWidth),e.lineCap="square",S.axis.ticks.line.stroke&&(e.strokeStyle=S.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=k(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(x_(g)),A.outlineWidth>0&&(e.strokeStyle=A.outlineColor,e.lineWidth=2*A.outlineWidth,e.lineJoin="round",e.strokeText(""+r,0,0)),S.axis.ticks.text.fill&&(e.fillStyle=A.fill),e.fillText(""+r,0,0),e.restore()})),void 0!==b){var O=0,R=0,L=0,D="center";"y"===r?(L=-90,O=M,"start"===w?(D="start",R=l):"middle"===w?(D="center",R=l/2):"end"===w&&(D="end")):(R=M,"start"===w?D="start":"middle"===w?(D="center",O=l/2):"end"===w&&(D="end",O=l)),e.translate(O,R),e.rotate(x_(L)),e.font=(S.axis.legend.text.fontWeight?S.axis.legend.text.fontWeight+" ":"")+S.axis.legend.text.fontSize+"px "+S.axis.legend.text.fontFamily,S.axis.legend.text.fill&&(e.fillStyle=S.axis.legend.text.fill),e.textAlign=D,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()}(e,nA({},a,{axis:s?"x":"y",x:"right"===t?i:0,y:"bottom"===t?o:0,scale:l,format:d,length:s?i:o,ticksPosition:c,theme:u}))}))},vA=function(e,t){var n=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values;oA({width:n,height:r,scale:i,axis:o,values:a}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))};function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gA.apply(this,arguments)}var yA={top:0,right:0,bottom:0,left:0},bA=function(e){var t,n=e.direction,r=e.itemsSpacing,i=e.padding,o=e.itemCount,a=e.itemWidth,s=e.itemHeight;if("number"!=typeof i&&("object"!=typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var c="number"==typeof i?{top:i,right:i,bottom:i,left:i}:gA({},yA,i),l=c.left+c.right,u=c.top+c.bottom,h=a+l,d=s+u,f=(o-1)*r;return"row"===n?h=a*o+f+l:"column"===n&&(d=s*o+f+u),{width:h,height:d,padding:c}},xA=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,i=e.containerWidth,o=e.containerHeight,a=e.width,s=e.height,c=n,l=r;switch(t){case"top":c+=(i-a)/2;break;case"top-right":c+=i-a;break;case"right":c+=i-a,l+=(o-s)/2;break;case"bottom-right":c+=i-a,l+=o-s;break;case"bottom":c+=(i-a)/2,l+=o-s;break;case"bottom-left":l+=o-s;break;case"left":l+=(o-s)/2;break;case"center":c+=(i-a)/2,l+=(o-s)/2}return{x:c,y:l}},wA=function(e){var t,n,r,i,o,a,s=e.direction,c=e.justify,l=e.symbolSize,u=e.symbolSpacing,h=e.width,d=e.height;switch(s){case"left-to-right":t=0,n=(d-l)/2,i=d/2,a="central",c?(r=h,o="end"):(r=l+u,o="start");break;case"right-to-left":t=h-l,n=(d-l)/2,i=d/2,a="central",c?(r=0,o="start"):(r=h-l-u,o="end");break;case"top-to-bottom":t=(h-l)/2,n=0,r=h/2,o="middle",c?(i=d,a="alphabetic"):(i=l+u,a="text-before-edge");break;case"bottom-to-top":t=(h-l)/2,n=d-l,r=h/2,o="middle",c?(i=0,a="text-before-edge"):(i=d-l-u,a="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}},_A={circle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,c=void 0===s?0:s,l=e.borderColor;return(0,hr.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:i,opacity:a,strokeWidth:c,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,c=void 0===s?0:s,l=e.borderColor;return(0,hr.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,hr.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:i,opacity:a,strokeWidth:c,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,c=void 0===s?0:s,l=e.borderColor;return(0,hr.jsx)("rect",{x:t,y:n,fill:i,opacity:a,strokeWidth:c,stroke:void 0===l?"transparent":l,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,c=void 0===s?0:s,l=e.borderColor;return(0,hr.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,hr.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:i,opacity:a,strokeWidth:c,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})}},MA=function(t){var n,r,i,o,a,s,c,l,u,h,d,f=t.x,p=t.y,m=t.width,v=t.height,g=t.data,y=t.direction,b=void 0===y?"left-to-right":y,x=t.justify,w=void 0!==x&&x,_=t.textColor,M=t.background,S=void 0===M?"transparent":M,E=t.opacity,T=void 0===E?1:E,P=t.symbolShape,C=void 0===P?"square":P,A=t.symbolSize,k=void 0===A?16:A,O=t.symbolSpacing,R=void 0===O?8:O,L=t.symbolBorderWidth,D=void 0===L?0:L,N=t.symbolBorderColor,I=void 0===N?"transparent":N,j=t.onClick,z=t.onMouseEnter,F=t.onMouseLeave,U=t.toggleSerie,B=t.effects,V=(0,e.useState)({}),H=V[0],G=V[1],W=h_(),q=(0,e.useCallback)((function(e){if(B){var t=B.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return gA({},e,t.style)}),{});G(t)}null==z||z(g,e)}),[z,g,B]),Y=(0,e.useCallback)((function(e){if(B){var t=B.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return gA({},e,t.style)}),{});G(t)}null==F||F(g,e)}),[F,g,B]),X=wA({direction:b,justify:w,symbolSize:null!=(n=H.symbolSize)?n:k,symbolSpacing:R,width:m,height:v}),Z=X.symbolX,$=X.symbolY,J=X.labelX,K=X.labelY,Q=X.labelAnchor,ee=X.labelAlignment,te=[j,z,F,U].some((function(e){return void 0!==e})),ne="function"==typeof C?C:_A[C];return(0,hr.jsxs)("g",{transform:"translate("+f+","+p+")",style:{opacity:null!=(r=H.itemOpacity)?r:T},children:[(0,hr.jsx)("rect",{width:m,height:v,fill:null!=(i=H.itemBackground)?i:S,style:{cursor:te?"pointer":"auto"},onClick:function(e){null==j||j(g,e),null==U||U(g.id)},onMouseEnter:q,onMouseLeave:Y}),e.createElement(ne,gA({id:g.id,x:Z,y:$,size:null!=(o=H.symbolSize)?o:k,fill:null!=(a=null!=(s=g.fill)?s:g.color)?a:"black",borderWidth:null!=(c=H.symbolBorderWidth)?c:D,borderColor:null!=(l=H.symbolBorderColor)?l:I},g.hidden?W.legends.hidden.symbol:void 0)),(0,hr.jsx)("text",{textAnchor:Q,style:gA({},W.legends.text,{fill:null!=(u=null!=(h=null!=(d=H.itemTextColor)?d:_)?h:W.legends.text.fill)?u:"black",dominantBaseline:ee,pointerEvents:"none",userSelect:"none"},g.hidden?W.legends.hidden.text:void 0),x:J,y:K,children:g.label})]})},SA=function(e){var t=e.data,n=e.x,r=e.y,i=e.direction,o=e.padding,a=void 0===o?0:o,s=e.justify,c=e.effects,l=e.itemWidth,u=e.itemHeight,h=e.itemDirection,d=void 0===h?"left-to-right":h,f=e.itemsSpacing,p=void 0===f?0:f,m=e.itemTextColor,v=e.itemBackground,g=void 0===v?"transparent":v,y=e.itemOpacity,b=void 0===y?1:y,x=e.symbolShape,w=e.symbolSize,_=e.symbolSpacing,M=e.symbolBorderWidth,S=e.symbolBorderColor,E=e.onClick,T=e.onMouseEnter,P=e.onMouseLeave,C=e.toggleSerie,A=bA({itemCount:t.length,itemWidth:l,itemHeight:u,itemsSpacing:p,direction:i,padding:a}).padding,k="row"===i?l+p:0,O="column"===i?u+p:0;return(0,hr.jsx)("g",{transform:"translate("+n+","+r+")",children:t.map((function(e,t){return(0,hr.jsx)(MA,{data:e,x:t*k+A.left,y:t*O+A.top,width:l,height:u,direction:d,justify:s,effects:c,textColor:m,background:g,opacity:b,symbolShape:x,symbolSize:w,symbolSpacing:_,symbolBorderWidth:M,symbolBorderColor:S,onClick:E,onMouseEnter:T,onMouseLeave:P,toggleSerie:C},t)}))})},EA=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,i=e.translateX,o=void 0===i?0:i,a=e.translateY,s=void 0===a?0:a,c=e.anchor,l=e.direction,u=e.padding,h=void 0===u?0:u,d=e.justify,f=e.itemsSpacing,p=void 0===f?0:f,m=e.itemWidth,v=e.itemHeight,g=e.itemDirection,y=e.itemTextColor,b=e.itemBackground,x=e.itemOpacity,w=e.symbolShape,_=e.symbolSize,M=e.symbolSpacing,S=e.symbolBorderWidth,E=e.symbolBorderColor,T=e.onClick,P=e.onMouseEnter,C=e.onMouseLeave,A=e.toggleSerie,k=e.effects,O=bA({itemCount:t.length,itemsSpacing:p,itemWidth:m,itemHeight:v,direction:l,padding:h}),R=O.width,L=O.height,D=xA({anchor:c,translateX:o,translateY:s,containerWidth:n,containerHeight:r,width:R,height:L}),N=D.x,I=D.y;return(0,hr.jsx)(SA,{data:t,x:N,y:I,direction:l,padding:h,justify:d,effects:k,itemsSpacing:p,itemWidth:m,itemHeight:v,itemDirection:g,itemTextColor:y,itemBackground:b,itemOpacity:x,symbolShape:w,symbolSize:_,symbolSpacing:M,symbolBorderWidth:S,symbolBorderColor:E,onClick:T,onMouseEnter:P,onMouseLeave:C,toggleSerie:"boolean"==typeof A?void 0:A})},TA={start:"left",middle:"center",end:"right"},PA={data:id().arrayOf(id().object),anchor:id().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:id().number,translateY:id().number,direction:id().oneOf(["row","column"]).isRequired,itemsSpacing:id().number,itemWidth:id().number.isRequired,itemHeight:id().number.isRequired,itemDirection:id().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:id().string,itemBackground:id().string,itemOpacity:id().number,symbolShape:id().oneOfType([id().oneOf(["circle","diamond","square","triangle"]),id().func]),symbolSize:id().number,symbolSpacing:id().number,symbolBorderWidth:id().number,symbolBorderColor:id().string,onClick:id().func,onMouseEnter:id().func,onMouseLeave:id().func,effects:id().arrayOf(id().shape({on:id().oneOfType([id().oneOf(["hover"])]).isRequired,style:id().shape({itemTextColor:id().string,itemBackground:id().string,itemOpacity:id().number,symbolSize:id().number,symbolBorderWidth:id().number,symbolBorderColor:id().string}).isRequired}))},CA=Math.PI,AA=2*CA,kA=1e-6,OA=AA-kA;function RA(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function LA(){return new RA}RA.prototype=LA.prototype={constructor:RA,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>kA)if(Math.abs(u*s-c*l)>kA&&i){var d=n-o,f=r-a,p=s*s+c*c,m=d*d+f*f,v=Math.sqrt(p),g=Math.sqrt(h),y=i*Math.tan((CA-Math.acos((p+h-m)/(2*v*g)))/2),b=y/g,x=y/v;Math.abs(b-1)>kA&&(this._+="L"+(e+b*l)+","+(t+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*f)+","+(this._x1=e+x*s)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>kA||Math.abs(this._y1-l)>kA)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%AA+AA),h>OA?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>kA&&(this._+="A"+n+","+n+",0,"+ +(h>=CA)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const DA=LA;function NA(e){return function(){return e}}function IA(e){return e[0]}function jA(e){return e[1]}function zA(){var e=IA,t=jA,n=NA(!0),r=null,i=zy,o=null;function a(a){var s,c,l,u=a.length,h=!1;for(null==r&&(o=i(l=DA())),s=0;s<=u;++s)!(s<u&&n(c=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,s,a),+t(c,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:NA(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:NA(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:NA(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}const FA=Math.pow(2,-52),UA=new Uint32Array(512);class BA{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZA,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$A;const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new BA(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let a=1/0,s=1/0,c=-1/0,l=-1/0;for(let E=0;E<o;E++){const t=e[2*E],n=e[2*E+1];t<a&&(a=t),n<s&&(s=n),t>c&&(c=t),n>l&&(l=n),this._ids[E]=E}const u=(a+c)/2,h=(s+l)/2;let d,f,p,m=1/0;for(let E=0;E<o;E++){const t=VA(u,h,e[2*E],e[2*E+1]);t<m&&(d=E,m=t)}const v=e[2*d],g=e[2*d+1];m=1/0;for(let E=0;E<o;E++){if(E===d)continue;const t=VA(v,g,e[2*E],e[2*E+1]);t<m&&t>0&&(f=E,m=t)}let y=e[2*f],b=e[2*f+1],x=1/0;for(let E=0;E<o;E++){if(E===d||E===f)continue;const t=qA(v,g,y,b,e[2*E],e[2*E+1]);t<x&&(p=E,x=t)}let w=e[2*p],_=e[2*p+1];if(x===1/0){for(let r=0;r<o;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];YA(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(GA(v,g,y,b,w,_)){const e=f,t=y,n=b;f=p,y=w,b=_,p=e,w=t,_=n}const M=function(e,t,n,r,i,o){const a=n-e,s=r-t,c=i-e,l=o-t,u=a*a+s*s,h=c*c+l*l,d=.5/(a*l-s*c);return{x:e+(l*u-s*h)*d,y:t+(a*h-c*u)*d}}(v,g,y,b,w,_);this._cx=M.x,this._cy=M.y;for(let E=0;E<o;E++)this._dists[E]=VA(e[2*E],e[2*E+1],M.x,M.y);YA(this._ids,this._dists,0,o-1),this._hullStart=d;let S=3;n[d]=t[p]=f,n[f]=t[d]=p,n[p]=t[f]=d,r[d]=0,r[f]=1,r[p]=2,i.fill(-1),i[this._hashKey(v,g)]=d,i[this._hashKey(y,b)]=f,i[this._hashKey(w,_)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let E,T,P=0;P<this._ids.length;P++){const o=this._ids[P],a=e[2*o],s=e[2*o+1];if(P>0&&Math.abs(a-E)<=FA&&Math.abs(s-T)<=FA)continue;if(E=a,T=s,o===d||o===f||o===p)continue;let c=0;for(let e=0,t=this._hashKey(a,s);e<this._hashSize&&(c=i[(t+e)%this._hashSize],-1===c||c===n[c]);e++);c=t[c];let l,u=c;for(;l=n[u],!GA(a,s,e[2*u],e[2*u+1],e[2*l],e[2*l+1]);)if(u=l,u===c){u=-1;break}if(-1===u)continue;let h=this._addTriangle(u,o,n[u],-1,-1,r[u]);r[o]=this._legalize(h+2),r[u]=h,S++;let m=n[u];for(;l=n[m],GA(a,s,e[2*m],e[2*m+1],e[2*l],e[2*l+1]);)h=this._addTriangle(m,o,l,r[o],-1,r[m]),r[o]=this._legalize(h+2),n[m]=m,S--,m=l;if(u===c)for(;l=t[u],GA(a,s,e[2*l],e[2*l+1],e[2*u],e[2*u+1]);)h=this._addTriangle(l,o,u,-1,r[u],r[l]),this._legalize(h+2),r[l]=h,n[u]=u,S--,u=l;this._hullStart=t[o]=u,n[u]=t[m]=o,n[o]=m,i[this._hashKey(a,s)]=o,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(S);for(let E=0,T=this._hullStart;E<S;E++)this.hull[E]=T,T=n[T];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1===a){if(0===i)break;e=UA[--i];continue}const c=a-a%3,l=s+(e+1)%3,u=c+(a+2)%3,h=t[o],d=t[e],f=t[l],p=t[u];if(WA(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=h;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(a,n[o]),this._link(o,u);const s=c+(a+1)%3;i<UA.length&&(UA[i++]=s)}else{if(0===i)break;e=UA[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function VA(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function HA(e,t,n,r,i,o){const a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function GA(e,t,n,r,i,o){return(HA(i,o,e,t,n,r)||HA(e,t,n,r,i,o)||HA(n,r,i,o,e,t))<0}function WA(e,t,n,r,i,o,a,s){const c=e-a,l=t-s,u=n-a,h=r-s,d=i-a,f=o-s,p=u*u+h*h,m=d*d+f*f;return c*(h*m-p*f)-l*(u*m-p*d)+(c*c+l*l)*(u*f-h*d)<0}function qA(e,t,n,r,i,o){const a=n-e,s=r-t,c=i-e,l=o-t,u=a*a+s*s,h=c*c+l*l,d=.5/(a*l-s*c),f=(l*u-s*h)*d,p=(a*h-c*u)*d;return f*f+p*p}function YA(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=r}else{let i=n+1,o=r;XA(e,n+r>>1,i),t[e[n]]>t[e[r]]&&XA(e,n,r),t[e[i]]>t[e[r]]&&XA(e,i,r),t[e[n]]>t[e[i]]&&XA(e,n,i);const a=e[i],s=t[a];for(;;){do{i++}while(t[e[i]]<s);do{o--}while(t[e[o]]>s);if(o<i)break;XA(e,i,o)}e[n+1]=e[o],e[o]=a,r-i+1>=o-n?(YA(e,t,i,r),YA(e,t,n,o-1)):(YA(e,t,n,o-1),YA(e,t,i,r))}}function XA(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ZA(e){return e[0]}function $A(e){return e[1]}const JA=1e-6;class KA{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>JA||Math.abs(this._y1-i)>JA)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class QA{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class ek{constructor(e){let[t,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(t=+t))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let d,f,p=0,m=0,v=n.length;p<v;p+=3,m+=2){const t=2*n[p],r=2*n[p+1],o=2*n[p+2],a=e[t],s=e[t+1],c=e[r],l=e[r+1],u=e[o],h=e[o+1],v=c-a,g=l-s,y=u-a,b=h-s,x=v*v+g*g,w=y*y+b*b,_=2*(v*b-g*y);if(_)if(Math.abs(_)<1e-8)d=(a+u)/2,f=(s+h)/2;else{const e=1/_;d=a+(b*x-g*w)*e,f=s+(v*w-y*x)*e}else d=(a+u)/2-1e8*b,f=(s+h)/2+1e8*y;i[m]=d,i[m+1]=f}let o,a,s,c=t[t.length-1],l=4*c,u=e[2*c],h=e[2*c+1];r.fill(0);for(let d=0;d<t.length;++d)c=t[d],o=l,a=u,s=h,l=4*c,u=e[2*c],h=e[2*c+1],r[o+2]=r[l]=s-h,r[o+3]=r[l+1]=u-a}render(e){const t=null==e?e=new KA:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let l=0,u=n.length;l<u;++l){const t=n[l];if(t<l)continue;const r=2*Math.floor(l/3),i=2*Math.floor(t/3),a=o[r],s=o[r+1],c=o[i],u=o[i+1];this._renderSegment(a,s,c,u,e)}let s,c=i[i.length-1];for(let l=0;l<i.length;++l){s=c,c=i[l];const t=2*Math.floor(r[c]/3),n=o[t],u=o[t+1],h=4*s,d=this._project(n,u,a[h+2],a[h+3]);d&&this._renderSegment(n,u,d[0],d[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new KA:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new KA:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new QA;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,a=e.length;o<a;o+=2)if(t[r]==e[o]&&t[r+1]==e[o+1]&&t[(r+2)%i]==e[(o+a-2)%a]&&t[(r+3)%i]==e[(o+a-1)%a]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(t[2*n],t[2*n+1]),s=s%3===2?s-2:s+1,i[s]!==e)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let r,i,o,a,s,c=null,l=t[n-2],u=t[n-1],h=this._regioncode(l,u);for(let d=0;d<n;d+=2)if(r=l,i=u,l=t[d],u=t[d+1],o=h,h=this._regioncode(l,u),0===o&&0===h)a=s,s=0,c?c.push(l,u):c=[l,u];else{let t,n,d,f,p;if(0===o){if(null===(t=this._clipSegment(r,i,l,u,o,h)))continue;[n,d,f,p]=t}else{if(null===(t=this._clipSegment(l,u,r,i,h,o)))continue;[f,p,n,d]=t,a=s,s=this._edgecode(n,d),a&&s&&this._edge(e,a,s,c,c.length),c?c.push(n,d):c=[n,d]}a=s,s=this._edgecode(f,p),a&&s&&this._edge(e,a,s,c,c.length),c?c.push(f,p):c=[f,p]}if(c)a=s,s=this._edgecode(c[0],c[1]),a&&s&&this._edge(e,a,s,c,c.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}_clipSegment(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;let a,s,c=i||o;8&c?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&c?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&c?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(let c,l=0,u=s.length,h=this._edgecode(s[u-2],s[u-1]);l<u;l+=2)c=h,h=this._edgecode(s[l],s[l+1]),c&&h&&(l=this._edge(e,c,h,s,l),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const e=(o+2)%r.length,t=(o+4)%r.length;(r[o]===r[e]&&r[e]===r[t]||r[o+1]===r[e+1]&&r[e+1]===r[t+1])&&(r.splice(e,2),o-=2)}return i}_project(e,t,n,r){let i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const tk=2*Math.PI,nk=Math.pow;function rk(e){return e[0]}function ik(e){return e[1]}function ok(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class ak{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ik,r=arguments.length>3?arguments[3]:void 0;return new ak("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=e[a];o[2*a]=t.call(r,i,a,e),o[2*a+1]=n.call(r,i,a,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new BA(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],o=2*t[r+2];if((n[o]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[o+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let o=0,a=t.length/2;o<a;++o){const e=ok(t[2*o],t[2*o+1],i);t[2*o]=e[0],t[2*o+1]=e[1]}this._delaunator=new BA(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let s=0,c=n.length;s<c;++s){const e=i[s%3===2?s-2:s+1];-1!==n[s]&&-1!==o[e]||(o[e]=s)}for(let s=0,c=r.length;s<c;++s)a[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(e){return new ek(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const t=a.indexOf(e);return t>0&&(yield a[t-1]),void(t<a.length-1&&(yield a[t+1]))}const s=t[e];if(-1===s)return;let c=s,l=-1;do{if(yield l=o[c],c=c%3===2?c-2:c+1,o[c]!==e)return;if(c=i[c],-1===c){const t=n[(r[e]+1)%n.length];return void(t!==l&&(yield t))}}while(c!==s)}find(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:c}=this;if(-1===r[e]||!c.length)return(e+1)%(c.length>>1);let l=e,u=nk(t-c[2*e],2)+nk(n-c[2*e+1],2);const h=r[e];let d=h;do{let r=s[d];const h=nk(t-c[2*r],2)+nk(n-c[2*r+1],2);if(h<u&&(u=h,l=r),d=d%3===2?d-2:d+1,s[d]!==e)break;if(d=a[d],-1===d){if(d=i[(o[e]+1)%i.length],d!==r&&nk(t-c[2*d],2)+nk(n-c[2*d+1],2)<u)return d;break}}while(d!==h);return l}render(e){const t=null==e?e=new KA:void 0,{points:n,halfedges:r,triangles:i}=this;for(let o=0,a=r.length;o<a;++o){const t=r[o];if(t<o)continue;const a=2*i[o],s=2*i[t];e.moveTo(n[a],n[a+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=null==e?e=new KA:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){const n=r[i],o=r[i+1];e.moveTo(n+t,o),e.arc(n,o,t,0,tk)}return n&&n.value()}renderHull(e){const t=null==e?e=new KA:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let a=1;a<o;++a){const t=2*n[a];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new QA;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new KA:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new QA;return this.renderTriangle(e,t),t.value()}}var sk=function(e){return"function"==typeof e?e:function(t){return t[e]}},ck=function(t){var n=t.points,r=t.x,i=t.y,o=t.width,a=t.height,s=t.debug,c=(0,e.useMemo)((function(){return function(e){var t=e.points,n=e.x,r=void 0===n?"x":n,i=e.y,o=void 0===i?"y":i,a=sk(r),s=sk(o);return t.map((function(e){return[a(e),s(e)]}))}({points:n,x:r,y:i})}),[n,r,i]);return(0,e.useMemo)((function(){return function(e){var t=e.points,n=e.width,r=e.height,i=e.debug,o=ak.from(t),a=i?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:a}}({points:c,width:o,height:a,debug:s})}),[c,o,a,s])},lk=function(t){var n=t.nodes,r=t.width,i=t.height,o=t.x,a=t.y,s=t.onMouseEnter,c=t.onMouseMove,l=t.onMouseLeave,u=t.onClick,h=t.debug,d=(0,e.useRef)(null),f=(0,e.useState)(null),p=f[0],m=f[1],v=ck({points:n,x:o,y:a,width:r,height:i,debug:h}),g=v.delaunay,y=v.voronoi,b=(0,e.useMemo)((function(){if(h&&y)return y.render()}),[h,y]),x=(0,e.useCallback)((function(e){if(!d.current)return[null,null];var t=U_(d.current,e),r=t[0],i=t[1],o=g.find(r,i);return[o,void 0!==o?n[o]:null]}),[d,g]),w=(0,e.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];m(n),r&&(null==s||s(r,e))}),[x,m,s]),_=(0,e.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];m(n),r&&(null==c||c(r,e))}),[x,m,c]),M=(0,e.useCallback)((function(e){if(m(null),l){var t=void 0;null!==p&&(t=n[p]),t&&l(t,e)}}),[m,p,l,n]),S=(0,e.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];m(n),r&&(null==u||u(r,e))}),[x,m,u]);return(0,hr.jsxs)("g",{ref:d,children:[h&&y&&(0,hr.jsxs)(hr.Fragment,{children:[(0,hr.jsx)("path",{d:b,stroke:"red",strokeWidth:1,opacity:.75}),null!==p&&(0,hr.jsx)("path",{fill:"pink",opacity:.35,d:y.renderCell(p)})]}),(0,hr.jsx)("rect",{width:r,height:i,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:_,onMouseLeave:M,onClick:S})]})};function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}var hk=function(e){var t=e.point;return(0,hr.jsx)(Jm,{id:(0,hr.jsxs)("span",{children:["x: ",(0,hr.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,hr.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};hk.propTypes={point:id().object.isRequired};var dk=(0,e.memo)(hk),fk=function(e){var t=e.slice,n=e.axis,r=h_(),i="x"===n?"y":"x";return(0,hr.jsx)(Qm,{rows:t.points.map((function(e){return[(0,hr.jsx)($m,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,(0,hr.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data[i+"Formatted"]},"value")]}))})};fk.propTypes={slice:id().object.isRequired,axis:id().oneOf(["x","y"]).isRequired};var pk=(0,e.memo)(fk),mk={data:id().arrayOf(id().shape({id:id().oneOfType([id().string,id().number]).isRequired,data:id().arrayOf(id().shape({x:id().oneOfType([id().number,id().string,id().instanceOf(Date)]),y:id().oneOfType([id().number,id().string,id().instanceOf(Date)])})).isRequired})).isRequired,xScale:id().object.isRequired,xFormat:id().oneOfType([id().func,id().string]),yScale:id().object.isRequired,yFormat:id().oneOfType([id().func,id().string]),layers:id().arrayOf(id().oneOfType([id().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),id().func])).isRequired,curve:Zw.isRequired,axisTop:lA,axisRight:lA,axisBottom:lA,axisLeft:lA,enableGridX:id().bool.isRequired,enableGridY:id().bool.isRequired,gridXValues:id().oneOfType([id().number,id().arrayOf(id().oneOfType([id().number,id().string,id().instanceOf(Date)]))]),gridYValues:id().oneOfType([id().number,id().arrayOf(id().oneOfType([id().number,id().string,id().instanceOf(Date)]))]),enablePoints:id().bool.isRequired,pointSymbol:id().func,pointSize:id().number.isRequired,pointColor:id().any.isRequired,pointBorderWidth:id().number.isRequired,pointBorderColor:id().any.isRequired,enablePointLabel:id().bool.isRequired,pointLabel:id().oneOfType([id().string,id().func]).isRequired,markers:id().arrayOf(id().shape({axis:id().oneOf(["x","y"]).isRequired,value:id().oneOfType([id().number,id().string,id().instanceOf(Date)]).isRequired,style:id().object})),colors:PE.isRequired,enableArea:id().bool.isRequired,areaOpacity:id().number.isRequired,areaBlendMode:n_.isRequired,areaBaselineValue:id().oneOfType([id().number,id().string,id().instanceOf(Date)]).isRequired,lineWidth:id().number.isRequired,legends:id().arrayOf(id().shape(PA)).isRequired,isInteractive:id().bool.isRequired,debugMesh:id().bool.isRequired,tooltip:id().oneOfType([id().func,id().object]).isRequired,enableSlices:id().oneOf(["x","y",!1]).isRequired,debugSlices:id().bool.isRequired,sliceTooltip:id().oneOfType([id().func,id().object]).isRequired,enableCrosshair:id().bool.isRequired,crosshairType:id().string.isRequired},vk=uk({},mk,{enablePointLabel:id().bool.isRequired,role:id().string.isRequired,useMesh:id().bool.isRequired},Bw,Jw),gk=uk({pixelRatio:id().number.isRequired},mk),yk={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:dk,enableSlices:!1,debugSlices:!1,sliceTooltip:pk,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},bk=uk({},yk,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),xk=uk({},yk,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),wk=function(t){var n=t.curve;return(0,e.useMemo)((function(){return zA().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve($w(n))}),[n])},_k=function(t){var n=t.curve,r=t.yScale,i=t.areaBaselineValue;return(0,e.useMemo)((function(){return function(){var e=IA,t=null,n=NA(0),r=jA,i=NA(!0),o=null,a=zy,s=null;function c(c){var l,u,h,d,f,p=c.length,m=!1,v=new Array(p),g=new Array(p);for(null==o&&(s=a(f=DA())),l=0;l<=p;++l){if(!(l<p&&i(d=c[l],l,c))===m)if(m=!m)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(v[h],g[h]);s.lineEnd(),s.areaEnd()}m&&(v[l]=+e(d,l,c),g[l]=+n(d,l,c),s.point(t?+t(d,l,c):v[l],r?+r(d,l,c):g[l]))}if(f)return s=null,f+""||null}function l(){return zA().defined(i).curve(a).context(o)}return c.x=function(n){return arguments.length?(e="function"===typeof n?n:NA(+n),t=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:NA(+t),c):e},c.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:NA(+e),c):t},c.y=function(e){return arguments.length?(n="function"===typeof e?e:NA(+e),r=null,c):n},c.y0=function(e){return arguments.length?(n="function"===typeof e?e:NA(+e),c):n},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:NA(+e),c):r},c.lineX0=c.lineY0=function(){return l().x(e).y(n)},c.lineY1=function(){return l().x(e).y(r)},c.lineX1=function(){return l().x(t).y(n)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:NA(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve($w(n)).y0(r(i))}),[n,r,i])},Mk=function(t){var n=t.data,r=t.xScale,i=void 0===r?bk.xScale:r,o=t.xFormat,a=t.yScale,s=void 0===a?bk.yScale:a,c=t.yFormat,l=t.width,u=t.height,h=t.colors,d=void 0===h?bk.colors:h,f=t.curve,p=void 0===f?bk.curve:f,m=t.areaBaselineValue,v=void 0===m?bk.areaBaselineValue:m,g=t.pointColor,y=void 0===g?bk.pointColor:g,b=t.pointBorderColor,x=void 0===b?bk.pointBorderColor:b,w=t.enableSlices,_=void 0===w?bk.enableSlicesTooltip:w,M=s_(o),S=s_(c),E=function(t,n){return(0,e.useMemo)((function(){return CE(t,n)}),[t,n])}(d,"id"),T=h_(),P=TE(y,T),C=TE(x,T),A=(0,e.useState)([]),k=A[0],O=A[1],R=(0,e.useMemo)((function(){return function(e,t,n,r,i){var o=e.map((function(e){return function(e){return DC({},e,{data:e.data.map((function(e){return{data:DC({},e)}}))})}(e)})),a=qC(o,t,n);"stacked"in t&&!0===t.stacked&&ZC(a,o),"stacked"in n&&!0===n.stacked&&$C(a,o);var s=GC(t,a.x,r,"x"),c=GC(n,a.y,i,"y"),l=o.map((function(e){return DC({},e,{data:e.data.map((function(e){return DC({},e,{position:{x:WC(e,"x",s),y:WC(e,"y",c)}})}))})}));return DC({},a,{series:l,xScale:s,yScale:c})}(n.filter((function(e){return-1===k.indexOf(e.id)})),i,s,l,u)}),[n,k,i,s,l,u]),L=R.xScale,D=R.yScale,N=R.series,I=(0,e.useMemo)((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:E(e)}})),t=e.map((function(e){return uk({},N.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return uk({},e,{hidden:!t.find((function(t){return t.id===e.id}))})})).reverse(),series:t}}),[n,N,E]),j=I.legendData,z=I.series,F=(0,e.useCallback)((function(e){O((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),U=function(t){var n=t.series,r=t.getPointColor,i=t.getPointBorderColor,o=t.formatX,a=t.formatY;return(0,e.useMemo)((function(){return n.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(n,s){var c={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:n.position.x,y:n.position.y};return c.color=r(t),c.borderColor=i(c),c.data=uk({},n.data,{xFormatted:o(n.data.x),yFormatted:a(n.data.y)}),c})))}),[])}),[n,r,i,o,a])}({series:z,getPointColor:P,getPointBorderColor:C,formatX:M,formatY:S}),B=function(t){var n=t.enableSlices,r=t.points,i=t.width,o=t.height;return(0,e.useMemo)((function(){if(!1===n)return[];if("x"===n){var e=new Map;return r.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,a=e[0],s=e[1],c=n[t-1],l=n[t+1];return{id:a,x0:r=c?a-(a-c[0])/2:a,x:a,y0:0,y:0,width:l?a-r+(l[0]-a)/2:i-r,height:o,points:s.reverse()}}))}if("y"===n){var t=new Map;return r.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(t.has(e.y)?t.get(e.y).push(e):t.set(e.y,[e]))})),Array.from(t.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,a,s=e[0],c=e[1],l=n[t-1],u=n[t+1];return r=l?s-(s-l[0])/2:s,a=u?s-r+(u[0]-s)/2:o-r,{id:s,x0:0,x:0,y0:r,y:s,width:i,height:a,points:c.reverse()}}))}}),[n,r])}({enableSlices:_,points:U,width:l,height:u});return{legendData:j,toggleSerie:F,lineGenerator:wk({curve:p}),areaGenerator:_k({curve:p,yScale:D,areaBaselineValue:v}),getColor:E,series:z,xScale:L,yScale:D,slices:B,points:U}},Sk=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,i=e.fill,o=e.path,a=Vw(),s=a.animate,c=a.config,l=Hw(o),u=Em({color:r,config:c,immediate:!s});return(0,hr.jsx)(Wm.path,{d:l,fill:i||u.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};Sk.propTypes={areaBlendMode:n_.isRequired,areaOpacity:id().number.isRequired,color:id().string,fill:id().string,path:id().string.isRequired};var Ek=function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return(0,hr.jsx)("g",{children:i.map((function(e){return(0,hr.jsx)(Sk,uk({path:t(e.data.map((function(e){return e.position})))},uk({areaOpacity:n,areaBlendMode:r},e)),e.id)}))})};Ek.propTypes={areaGenerator:id().func.isRequired,areaOpacity:id().number.isRequired,areaBlendMode:n_.isRequired,lines:id().arrayOf(id().object).isRequired};var Tk=(0,e.memo)(Ek),Pk=function(t){var n=t.lineGenerator,r=t.points,i=t.color,o=t.thickness,a=(0,e.useMemo)((function(){return n(r)}),[n,r]),s=Hw(a);return(0,hr.jsx)(Wm.path,{d:s,fill:"none",strokeWidth:o,stroke:i})};Pk.propTypes={points:id().arrayOf(id().shape({x:id().oneOfType([id().string,id().number]),y:id().oneOfType([id().string,id().number])})),lineGenerator:id().func.isRequired,color:id().string.isRequired,thickness:id().number.isRequired};var Ck=(0,e.memo)(Pk),Ak=function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,i=e.data,o=e.color;return(0,hr.jsx)(Ck,{id:t,points:i.map((function(e){return e.position})),lineGenerator:n,color:o,thickness:r},t)}))};Ak.propTypes={lines:id().arrayOf(id().shape({id:id().oneOfType([id().string,id().number]).isRequired,color:id().string.isRequired,data:id().arrayOf(id().shape({data:id().shape({x:id().oneOfType([id().string,id().number,id().instanceOf(Date)]),y:id().oneOfType([id().string,id().number,id().instanceOf(Date)])}).isRequired,position:id().shape({x:id().number,y:id().number}).isRequired})).isRequired})).isRequired,lineWidth:id().number.isRequired,lineGenerator:id().func.isRequired};var kk=(0,e.memo)(Ak),Ok=function(t){var n=t.slice,r=t.axis,i=t.debug,o=t.tooltip,a=t.isCurrent,s=t.setCurrent,c=t.onMouseEnter,l=t.onMouseMove,u=t.onMouseLeave,h=t.onClick,d=av(),f=d.showTooltipFromEvent,p=d.hideTooltip,m=(0,e.useCallback)((function(t){f((0,e.createElement)(o,{slice:n,axis:r}),t,"right"),s(n),c&&c(n,t)}),[f,o,n,c]),v=(0,e.useCallback)((function(t){f((0,e.createElement)(o,{slice:n,axis:r}),t,"right"),l&&l(n,t)}),[f,o,n,l]),g=(0,e.useCallback)((function(e){p(),s(null),u&&u(n,e)}),[p,n,u]),y=(0,e.useCallback)((function(e){h&&h(n,e)}),[n,h]);return(0,hr.jsx)("rect",{x:n.x0,y:n.y0,width:n.width,height:n.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&i?.35:0,onMouseEnter:m,onMouseMove:v,onMouseLeave:g,onClick:y,"data-testid":"slice-"+n.id})};Ok.propTypes={slice:id().object.isRequired,axis:id().oneOf(["x","y"]).isRequired,debug:id().bool.isRequired,height:id().number.isRequired,tooltip:id().oneOfType([id().func,id().object]),isCurrent:id().bool.isRequired,setCurrent:id().func.isRequired,onMouseEnter:id().func,onMouseMove:id().func,onMouseLeave:id().func,onClick:id().func};var Rk=(0,e.memo)(Ok),Lk=function(e){var t=e.slices,n=e.axis,r=e.debug,i=e.height,o=e.tooltip,a=e.current,s=e.setCurrent,c=e.onMouseEnter,l=e.onMouseMove,u=e.onMouseLeave,h=e.onClick;return t.map((function(e){return(0,hr.jsx)(Rk,{slice:e,axis:n,debug:r,height:i,tooltip:o,setCurrent:s,isCurrent:null!==a&&a.id===e.id,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,onClick:h},e.id)}))};Lk.propTypes={slices:id().arrayOf(id().shape({id:id().oneOfType([id().number,id().string,id().instanceOf(Date)]).isRequired,x:id().number.isRequired,y:id().number.isRequired,points:id().arrayOf(id().object).isRequired})).isRequired,axis:id().oneOf(["x","y"]).isRequired,debug:id().bool.isRequired,height:id().number.isRequired,tooltip:id().oneOfType([id().func,id().object]).isRequired,current:id().object,setCurrent:id().func.isRequired,onMouseEnter:id().func,onMouseMove:id().func,onMouseLeave:id().func,onClick:id().func};var Dk=(0,e.memo)(Lk),Nk=function(e){var t=e.points,n=e.symbol,r=e.size,i=e.borderWidth,o=e.enableLabel,a=e.label,s=e.labelYOffset,c=h_(),l=function(e,t){var n,r=fy()(e)?e:function(t){return dv()(t,e)};return t&&(n=fy()(t)?t:hb(t)),n?function(e){return n(r(e))}:r}(a),u=t.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?l(e.data):null}}));return(0,hr.jsx)("g",{children:u.map((function(e){return(0,hr.jsx)(L_,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:r,color:e.fill,borderWidth:i,borderColor:e.stroke,label:e.label,labelYOffset:s,theme:c},e.id)}))})};Nk.propTypes={points:id().arrayOf(id().object),symbol:id().func,size:id().number.isRequired,color:id().func.isRequired,borderWidth:id().number.isRequired,borderColor:id().func.isRequired,enableLabel:id().bool.isRequired,label:id().oneOfType([id().string,id().func]).isRequired,labelYOffset:id().number};var Ik=(0,e.memo)(Nk),jk=function(t){var n=t.points,r=t.width,i=t.height,o=t.margin,a=t.setCurrent,s=t.onMouseEnter,c=t.onMouseMove,l=t.onMouseLeave,u=t.onClick,h=t.tooltip,d=t.debug,f=av(),p=f.showTooltipAt,m=f.hideTooltip,v=(0,e.useCallback)((function(t,n){p((0,e.createElement)(h,{point:t}),[t.x+o.left,t.y+o.top],"top"),a(t),s&&s(t,n)}),[a,p,h,s,o]),g=(0,e.useCallback)((function(t,n){p((0,e.createElement)(h,{point:t}),[t.x+o.left,t.y+o.top],"top"),a(t),c&&c(t,n)}),[a,p,h,c]),y=(0,e.useCallback)((function(e,t){m(),a(null),l&&l(e,t)}),[m,a,l]),b=(0,e.useCallback)((function(e,t){u&&u(e,t)}),[u]);return(0,hr.jsx)(lk,{nodes:n,width:r,height:i,onMouseEnter:v,onMouseMove:g,onMouseLeave:y,onClick:b,debug:d})};jk.propTypes={points:id().arrayOf(id().object).isRequired,width:id().number.isRequired,height:id().number.isRequired,margin:id().object.isRequired,setCurrent:id().func.isRequired,onMouseEnter:id().func,onMouseMove:id().func,onMouseLeave:id().func,onClick:id().func,tooltip:id().oneOfType([id().func,id().object]).isRequired,debug:id().bool.isRequired};var zk=(0,e.memo)(jk),Fk=function(t){var n=t.data,r=t.xScale,i=t.xFormat,o=t.yScale,a=t.yFormat,s=t.layers,c=t.curve,l=t.areaBaselineValue,u=t.colors,h=t.margin,d=t.width,f=t.height,p=t.axisTop,m=t.axisRight,v=t.axisBottom,g=t.axisLeft,y=t.enableGridX,b=t.enableGridY,x=t.gridXValues,w=t.gridYValues,_=t.lineWidth,M=t.enableArea,S=t.areaOpacity,E=t.areaBlendMode,T=t.enablePoints,P=t.pointSymbol,C=t.pointSize,A=t.pointColor,k=t.pointBorderWidth,O=t.pointBorderColor,R=t.enablePointLabel,L=t.pointLabel,D=t.pointLabelYOffset,N=t.defs,I=t.fill,j=t.markers,z=t.legends,F=t.isInteractive,U=t.useMesh,B=t.debugMesh,V=t.onMouseEnter,H=t.onMouseMove,G=t.onMouseLeave,W=t.onClick,q=t.tooltip,Y=t.enableSlices,X=t.debugSlices,Z=t.sliceTooltip,$=t.enableCrosshair,J=t.crosshairType,K=t.role,Q=i_(d,f,h),ee=Q.margin,te=Q.innerWidth,ne=Q.innerHeight,re=Q.outerWidth,ie=Q.outerHeight,oe=Mk({data:n,xScale:r,xFormat:i,yScale:o,yFormat:a,width:te,height:ne,colors:u,curve:c,areaBaselineValue:l,pointColor:A,pointBorderColor:O,enableSlices:Y}),ae=oe.legendData,se=oe.toggleSerie,ce=oe.lineGenerator,le=oe.areaGenerator,ue=oe.series,he=oe.xScale,de=oe.yScale,fe=oe.slices,pe=oe.points,me=h_(),ve=TE(A,me),ge=TE(O,me),ye=(0,e.useState)(null),be=ye[0],xe=ye[1],we=(0,e.useState)(null),_e=we[0],Me=we[1],Se={grid:(0,hr.jsx)(pA,{theme:me,width:te,height:ne,xScale:y?he:null,yScale:b?de:null,xValues:x,yValues:w},"grid"),markers:(0,hr.jsx)(j_,{markers:j,width:te,height:ne,xScale:he,yScale:de,theme:me},"markers"),axes:(0,hr.jsx)(hA,{xScale:he,yScale:de,width:te,height:ne,theme:me,top:p,right:m,bottom:v,left:g},"axes"),areas:null,lines:(0,hr.jsx)(kk,{lines:ue,lineGenerator:ce,lineWidth:_},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:z.map((function(e,t){return(0,hr.jsx)(EA,uk({},e,{containerWidth:te,containerHeight:ne,data:e.data||ae,theme:me,toggleSerie:e.toggleSerie?se:void 0}),"legend."+t)}))},Ee=H_(N,ue,I);return M&&(Se.areas=(0,hr.jsx)(Tk,{areaGenerator:le,areaOpacity:S,areaBlendMode:E,lines:ue},"areas")),F&&!1!==Y&&(Se.slices=(0,hr.jsx)(Dk,{slices:fe,axis:Y,debug:X,height:ne,tooltip:Z,current:_e,setCurrent:Me,onMouseEnter:V,onMouseMove:H,onMouseLeave:G,onClick:W},"slices")),T&&(Se.points=(0,hr.jsx)(Ik,{points:pe,symbol:P,size:C,color:ve,borderWidth:k,borderColor:ge,enableLabel:R,label:L,labelYOffset:D},"points")),F&&$&&(null!==be&&(Se.crosshair=(0,hr.jsx)(tv,{width:te,height:ne,x:be.x,y:be.y,type:J},"crosshair")),null!==_e&&(Se.crosshair=(0,hr.jsx)(tv,{width:te,height:ne,x:_e.x,y:_e.y,type:Y},"crosshair"))),F&&U&&!1===Y&&(Se.mesh=(0,hr.jsx)(zk,{points:pe,width:te,height:ne,margin:ee,current:be,setCurrent:xe,onMouseEnter:V,onMouseMove:H,onMouseLeave:G,onClick:W,tooltip:q,debug:B},"mesh")),(0,hr.jsx)(A_,{defs:Ee,width:re,height:ie,margin:ee,role:K,children:s.map((function(n,r){return"function"==typeof n?(0,hr.jsx)(e.Fragment,{children:n(uk({},t,{innerWidth:te,innerHeight:ne,series:ue,slices:fe,points:pe,xScale:he,yScale:de,lineGenerator:ce,areaGenerator:le,currentPoint:be,setCurrentPoint:xe,currentSlice:_e,setCurrentSlice:Me}))},r):Se[n]}))})};Fk.propTypes=vk,Fk.defaultProps=bk;var Uk=F_(Fk),Bk=function(e){return(0,hr.jsx)(m_,{children:function(t){var n=t.width,r=t.height;return(0,hr.jsx)(Uk,uk({width:n,height:r},e))}})},Vk=function(t){var n=t.width,r=t.height,i=t.margin,o=t.pixelRatio,a=t.data,s=t.xScale,c=t.xFormat,l=t.yScale,u=t.yFormat,h=t.curve,d=t.layers,f=t.colors,p=t.lineWidth,m=t.enableArea,v=t.areaBaselineValue,g=t.areaOpacity,y=t.enablePoints,b=t.pointSize,x=t.pointColor,w=t.pointBorderWidth,_=t.pointBorderColor,M=t.enableGridX,S=t.gridXValues,E=t.enableGridY,T=t.gridYValues,P=t.axisTop,C=t.axisRight,A=t.axisBottom,k=t.axisLeft,O=t.legends,R=t.isInteractive,L=t.debugMesh,D=t.onMouseLeave,N=t.onClick,I=t.tooltip,j=t.canvasRef,z=(0,e.useRef)(null),F=i_(n,r,i),U=F.margin,B=F.innerWidth,V=F.innerHeight,H=F.outerWidth,G=F.outerHeight,W=h_(),q=(0,e.useState)(null),Y=q[0],X=q[1],Z=Mk({data:a,xScale:s,xFormat:c,yScale:l,yFormat:u,width:B,height:V,colors:f,curve:h,areaBaselineValue:v,pointColor:x,pointBorderColor:_}),$=Z.lineGenerator,J=Z.areaGenerator,K=Z.series,Q=Z.xScale,ee=Z.yScale,te=Z.points,ne=ck({points:te,width:B,height:V,debug:L}),re=ne.delaunay,ie=ne.voronoi;(0,e.useEffect)((function(){j&&(j.current=z.current),z.current.width=H*o,z.current.height=G*o;var e=z.current.getContext("2d");e.scale(o,o),e.fillStyle=W.background,e.fillRect(0,0,H,G),e.translate(U.left,U.top),d.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:B,innerHeight:V,series:K,points:te,xScale:Q,yScale:ee,lineWidth:p,lineGenerator:$,areaGenerator:J,currentPoint:Y,setCurrentPoint:X}),"grid"===t&&W.grid.line.strokeWidth>0&&(e.lineWidth=W.grid.line.strokeWidth,e.strokeStyle=W.grid.line.stroke,M&&vA(e,{width:B,height:V,scale:Q,axis:"x",values:S}),E&&vA(e,{width:B,height:V,scale:ee,axis:"y",values:T})),"axes"===t&&mA(e,{xScale:Q,yScale:ee,width:B,height:V,top:P,right:C,bottom:A,left:k,theme:W}),"areas"===t&&!0===m&&(e.save(),e.globalAlpha=g,J.context(e),K.forEach((function(t){e.fillStyle=t.color,e.beginPath(),J(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&($.context(e),K.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=p,e.beginPath(),$(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===y&&b>0&&te.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,b/2,0,2*Math.PI),e.fill(),w>0&&(e.strokeStyle=t.borderColor,e.lineWidth=w,e.stroke())})),"mesh"===t&&!0===L&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,ie),Y&&function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()}(e,ie,Y.index)),"legends"===t){var n=K.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();O.forEach((function(t){!function(e,t){var n=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,a=void 0===o?0:o,s=t.translateY,c=void 0===s?0:s,l=t.anchor,u=t.direction,h=t.padding,d=void 0===h?0:h,f=t.justify,p=void 0!==f&&f,m=t.itemsSpacing,v=void 0===m?0:m,g=t.itemWidth,y=t.itemHeight,b=t.itemDirection,x=void 0===b?"left-to-right":b,w=t.itemTextColor,_=t.symbolSize,M=void 0===_?16:_,S=t.symbolSpacing,E=void 0===S?8:S,T=t.theme,P=bA({itemCount:n.length,itemWidth:g,itemHeight:y,itemsSpacing:v,direction:u,padding:d}),C=P.width,A=P.height,k=P.padding,O=xA({anchor:l,translateX:a,translateY:c,containerWidth:r,containerHeight:i,width:C,height:A}),R=O.x,L=O.y,D="row"===u?g+v:0,N="column"===u?y+v:0;e.save(),e.translate(R,L),e.font=T.legends.text.fontSize+"px "+(T.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,i,o=n*D+k.left,a=n*N+k.top,s=wA({direction:x,justify:p,symbolSize:M,symbolSpacing:E,width:g,height:y}),c=s.symbolX,l=s.symbolY,u=s.labelX,h=s.labelY,d=s.labelAnchor,f=s.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(o+c,a+l,M,M),e.textAlign=TA[d],"central"===f&&(e.textBaseline="middle"),e.fillStyle=null!=(i=null!=w?w:T.legends.text.fill)?i:"black",e.fillText(String(t.label),o+u,a+h)})),e.restore()}(e,uk({},t,{data:t.data||n,containerWidth:B,containerHeight:V,theme:W}))}))}}))}),[z,H,G,d,W,$,K,Q,ee,M,S,E,T,P,C,A,k,O,te,y,b,Y]);var oe=(0,e.useCallback)((function(e){var t=U_(z.current,e),n=t[0],r=t[1];if(!function(e,t,n,r,i,o){return e<=i&&i<=e+n&&t<=o&&o<=t+r}(U.left,U.top,B,V,n,r))return null;var i=re.find(n-U.left,r-U.top);return te[i]}),[z,U,B,V,re]),ae=av(),se=ae.showTooltipFromEvent,ce=ae.hideTooltip,le=(0,e.useCallback)((function(t){var n=oe(t);X(n),n?se((0,e.createElement)(I,{point:n}),t):ce()}),[oe,X,se,ce,I]),ue=(0,e.useCallback)((function(e){ce(),X(null),Y&&D&&D(Y,e)}),[ce,X,D]),he=(0,e.useCallback)((function(e){if(N){var t=oe(e);t&&N(t,e)}}),[oe,N]);return(0,hr.jsx)("canvas",{ref:z,width:H*o,height:G*o,style:{width:H,height:G,cursor:R?"auto":"normal"},onMouseEnter:R?le:void 0,onMouseMove:R?le:void 0,onMouseLeave:R?ue:void 0,onClick:R?he:void 0})};Vk.propTypes=gk,Vk.defaultProps=xk;var Hk=F_(Vk),Gk=(0,e.forwardRef)((function(e,t){return(0,hr.jsx)(Hk,uk({},e,{canvasRef:t}))}));(0,e.forwardRef)((function(e,t){return(0,hr.jsx)(m_,{children:function(n){var r=n.width,i=n.height;return(0,hr.jsx)(Gk,uk({width:r,height:i},e,{ref:t}))}})}));const Wk=e=>{let{data:t}=e;return(0,hr.jsx)(Bk,{data:t,margin:{top:30,right:40,bottom:40,left:90},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},enableGridX:!1,enableGridY:!1,yFormat:" >-.2f",curve:"cardinal",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"\ub144\ub3c4",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendOffset:-50,legendPosition:"middle"},colors:{scheme:"category10"},lineWidth:4,pointSize:0,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-14,enableArea:!0,areaOpacity:.9,useMesh:!0,legends:[]})},qk=[{id:"\uadf8\ub9b0\ub780\ub4dc \uc5bc\uc74c\ub7c9",color:"hsl(208,73%,43%)",data:[{x:"02",y:0},{x:"03",y:-217},{x:"04",y:-338},{x:"05",y:-504},{x:"06",y:-806},{x:"07",y:-1032},{x:"08",y:-1328},{x:"09",y:-1538},{x:"10",y:-1914},{x:"11",y:-2706},{x:"12",y:-2692},{x:"13",y:-3297},{x:"14",y:-3269},{x:"15",y:-3660},{x:"16",y:-3878},{x:"17",y:-3977},{x:"18",y:-4260},{x:"19",y:-4270},{x:"20",y:-4770},{x:"21",y:-4917},{x:"22",y:-5075},{x:"23",y:-5218}]}];var Yk,Xk,Zk;const $k=Gt.div(Yk||(Yk=i(["\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 10px;\n  padding: 30px;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"]))),Jk=Gt.div(Xk||(Xk=i(["\n  height: 500px;\n"]))),Kk=(Gt.div(Zk||(Zk=i(["\n  display: flex;\n  justify-content: center;\n  font-size: 30px;\n"]))),function(){return(0,hr.jsx)($k,{children:(0,hr.jsx)(Jk,{initial:"initial",animate:"animate",children:(0,hr.jsx)(Wk,{data:qk})})})});var Qk,eO,tO,nO;const rO=Gt.div(Qk||(Qk=i(["\n  width: 100vw;\n  height: 150vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-image: url(/assets/ice.jpg);\n  // background-color: #212121;\n  background-size: cover;\n"]))),iO=Gt(qu.div)(eO||(eO=i(["\n  display: flex;\n  justify-content: center;\n  font-size: 30px;\n  padding-bottom: 60px;\n  align-items: center;\n"]))),oO=(Gt.div(tO||(tO=i(["\n  width: 100%;\n  height: 100%;\n  background-image: url(/assets/ice-image.jpg);\n  background-size: cover;\n"]))),Gt(qu.div)(nO||(nO=i(["\n  width: 1000px;\n  height: 500px;\n"])))),aO=function(){return(0,hr.jsxs)(rO,{children:[(0,hr.jsxs)(iO,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1,transition:{delay:.2}},children:["\ud604\uc7ac\xa0",(0,hr.jsx)("span",{style:{backgroundColor:"royalblue",padding:10,color:"white"},children:"\ube59\ud558 \uac10\uc18c\ub7c9"}),'\uc740\xa02002\ub144 \uae30\uc900 "5200gt" \uc785\ub2c8\ub2e4.']}),(0,hr.jsx)(oO,{className:"box",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1,transition:{delay:.5}},whileHover:{scale:1.1,transition:{type:"spring",stiffness:400,damping:10}},children:(0,hr.jsx)(Kk,{})})]})};var sO,cO,lO,uO;const hO=Gt.div(sO||(sO=i(["\n  height: 300vh;\n  background-color: black;\n  color: white;\n"]))),dO=Gt(qu.div)(cO||(cO=i(["\n  font-size: 120px;\n  // background-color: royalBlue;\n  padding: 15px 30px;\n  position: absolute;\n  top: 100px;\n  left: 100px;\n"]))),fO=Gt(qu.div)(lO||(lO=i(["\n  font-size: 120px;\n  // background-color: royalBlue;\n  padding: 15px 30px;\n  position: absolute;\n  top: 500px;\n  right: 100px;\n"]))),pO=Gt(qu.div)(uO||(uO=i(["\n  font-size: 120px;\n  // background-color: white;\n  padding: 30px 30px;\n  position: absolute;\n  top: 1200px;\n  left: 50%;\n  // color: black;\n"]))),mO=function(){return(0,hr.jsxs)(hO,{children:[(0,hr.jsxs)(dO,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1,transition:{delay:.2}},children:[(0,hr.jsx)("div",{children:"IF YOU WANT TO"}),(0,hr.jsx)("div",{children:"DO IT NOW"})]}),(0,hr.jsx)(fO,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1,transition:{delay:.5}},children:"COME WITH US!"}),(0,hr.jsx)(pO,{initial:{y:50,opacity:0,x:"-50%"},whileInView:{y:0,opacity:1,transition:{type:"spring",duration:1.5,delay:.3}},children:'"We are GNI"'})]})};var vO;const gO=Gt.div(vO||(vO=i(['\n  font-family: "Noto Sans KR", sans-serif;\n  background-color: #f5f5f7;\n']))),yO=function(){return(0,hr.jsxs)(gO,{children:[(0,hr.jsx)(pr,{count:50,"z-index":100}),(0,hr.jsx)(Hr,{}),(0,hr.jsx)(mO,{}),(0,hr.jsx)(Ph,{}),(0,hr.jsx)(aO,{}),(0,hr.jsx)(uh,{}),(0,hr.jsx)(nd,{})]})};var bO;const xO=Gt.div(bO||(bO=i(["\n  // background-color: black;\n  height: 100vh;\n  // width: 100vw;\n  overflow: hidden;\n  box-sizing: border-box;\n"]))),wO=function(){return(0,hr.jsxs)(xO,{children:[(0,hr.jsx)(Hr,{}),(0,hr.jsx)("iframe",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},title:"Game",src:"/game/indexx.html",width:"1400",height:"1000"})]})};var _O=n(4546);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var MO=0,SO=1,EO=2,TO=0,PO=1,CO=2,AO=3,kO=0,OO=1,RO=2,LO=1,DO=2,NO=3,IO=0,jO=1,zO=2,FO=0,UO=2,BO=0,VO=1,HO=2,GO=3,WO=4,qO=5,YO=100,XO=101,ZO=102,$O=103,JO=104,KO=200,QO=201,eR=202,tR=203,nR=204,rR=205,iR=206,oR=207,aR=208,sR=209,cR=210,lR=0,uR=1,hR=2,dR=3,fR=4,pR=5,mR=6,vR=7,gR=0,yR=1,bR=2,xR=0,wR=1,_R=2,MR=3,SR=4,ER=5,TR=301,PR=302,CR=303,AR=304,kR=305,OR=306,RR=307,LR=1e3,DR=1001,NR=1002,IR=1003,jR=1004,zR=1005,FR=1006,UR=1007,BR=1008,VR=1009,HR=1010,GR=1011,WR=1012,qR=1013,YR=1014,XR=1015,ZR=1016,$R=1017,JR=1018,KR=1019,QR=1020,eL=1021,tL=1022,nL=1023,rL=1024,iL=1025,oL=1026,aL=1027,sL=1028,cL=33776,lL=33777,uL=33778,hL=33779,dL=35840,fL=35841,pL=35842,mL=35843,vL=36196,gL=37808,yL=37809,bL=37810,xL=37811,wL=37812,_L=37813,ML=37814,SL=37815,EL=37816,TL=37817,PL=37818,CL=37819,AL=37820,kL=37821,OL=2300,RL=2301,LL=2302,DL=2400,NL=2401,IL=2402,jL=0,zL=3e3,FL=3001,UL=3007,BL=3002,VL=3003,HL=3004,GL=3005,WL=3006,qL=3200,YL=3201,XL=0,ZL=1,$L=7680,JL=519;function KL(){}Object.assign(KL.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var QL=[],eD=0;eD<256;eD++)QL[eD]=(eD<16?"0":"")+eD.toString(16);var tD={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(QL[255&e]+QL[e>>8&255]+QL[e>>16&255]+QL[e>>24&255]+"-"+QL[255&t]+QL[t>>8&255]+"-"+QL[t>>16&15|64]+QL[t>>24&255]+"-"+QL[63&n|128]+QL[n>>8&255]+"-"+QL[n>>16&255]+QL[n>>24&255]+QL[255&r]+QL[r>>8&255]+QL[r>>16&255]+QL[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*tD.DEG2RAD},radToDeg:function(e){return e*tD.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function nD(e,t){this.x=e||0,this.y=t||0}function rD(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}Object.defineProperties(nD.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(nD.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(rD,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(u!==p||s!==h||c!==d||l!==f){var m=1-a,v=s*h+c*d+l*f+u*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*g;if(s=s*m+h*w,c=c*m+d*w,l=l*m+f*w,u=u*m+p*w,m===1-a){var _=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=_,c*=_,l*=_,u*=_}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}}),Object.defineProperties(rD.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(rD.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),l=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u-h*d*f):"YXZ"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u+h*d*f):"ZXY"===o?(this._x=h*l*u-c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u-h*d*f):"ZYX"===o?(this._x=h*l*u-c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u+h*d*f):"YZX"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u-h*d*f):"XZY"===o&&(this._x=h*l*u-c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u+h*d*f),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],l=n[2],u=n[6],h=n[10],d=r+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(tD.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),h=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var iD=new aD,oD=new rD;function aD(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(aD.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(oD.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(oD.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,l=s*n+a*t-i*r,u=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return iD.copy(this).projectOnVector(e),this.sub(iD)},reflect:function(e){return this.sub(iD.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(e)/t;return Math.acos(tD.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var sD,cD=new aD;function lD(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(lD.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)cD.x=e.getX(t),cD.y=e.getY(t),cD.z=e.getZ(t),cD.applyMatrix3(this),e.setXYZ(t,cD.x,cD.y,cD.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],l=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=o*p+a*g+s*x,i[3]=o*m+a*y+s*w,i[6]=o*v+a*b+s*_,i[1]=c*p+l*g+u*x,i[4]=c*m+l*y+u*w,i[7]=c*v+l*b+u*_,i[2]=h*p+d*g+f*x,i[5]=h*m+d*y+f*w,i[8]=h*v+d*b+f*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-n*i*l+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=n[8],f=d*c-l*h,p=l*u-d*s,m=h*s-c*u,v=i*f+o*p+a*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=f*y,r[1]=(a*h-d*o)*y,r[2]=(l*o-a*c)*y,r[3]=p*y,r[4]=(d*i-a*u)*y,r[5]=(a*s-l*i)*y,r[6]=m*y,r[7]=(o*u-h*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*l,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var uD={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===sD&&(sD=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),sD.width=e.width,sD.height=e.height;var n=sD.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=sD}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},hD=0;function dD(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:hD++}),this.uuid=tD.generateUUID(),this.name="",this.image=void 0!==e?e:dD.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:dD.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:DR,this.wrapT=void 0!==r?r:DR,this.magFilter=void 0!==i?i:FR,this.minFilter=void 0!==o?o:BR,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:nL,this.type=void 0!==s?s:VR,this.offset=new nD(0,0),this.repeat=new nD(1,1),this.center=new nD(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new lD,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:zL,this.version=0,this.onUpdate=null}function fD(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function pD(e,t,n){this.width=e,this.height=t,this.scissor=new fD(0,0,e,t),this.scissorTest=!1,this.viewport=new fD(0,0,e,t),n=n||{},this.texture=new dD(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:FR,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function mD(e,t,n){pD.call(this,e,t,n),this.samples=4}dD.DEFAULT_IMAGE=void 0,dD.DEFAULT_MAPPING=300,dD.prototype=Object.assign(Object.create(KL.prototype),{constructor:dD,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=tD.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(uD.getDataURL(r[o]))}else i=uD.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case LR:e.x=e.x-Math.floor(e.x);break;case DR:e.x=e.x<0?0:1;break;case NR:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case LR:e.y=e.y-Math.floor(e.y);break;case DR:e.y=e.y<0?0:1;break;case NR:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(dD.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(fD.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(fD.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,c=s[0],l=s[4],u=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(l+h)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(c+d+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(c+1)/2,y=(d+1)/2,b=(v+1)/2,x=(l+h)/4,w=(u+p)/4,_=(f+m)/4;return g>y&&g>b?g<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=w/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=_/r):b<o?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var M=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-l)*(h-l));return Math.abs(M)<.001&&(M=1),this.x=(m-f)/M,this.y=(u-p)/M,this.z=(h-l)/M,this.w=Math.acos((c+d+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),pD.prototype=Object.assign(Object.create(KL.prototype),{constructor:pD,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),mD.prototype=Object.assign(Object.create(pD.prototype),{constructor:mD,isWebGLMultisampleRenderTarget:!0,copy:function(e){return pD.prototype.copy.call(this,e),this.samples=e.samples,this}});var vD=new aD,gD=new MD,yD=new aD(0,0,0),bD=new aD(1,1,1),xD=new aD,wD=new aD,_D=new aD;function MD(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(MD.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,c,l,u,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=l,v[10]=u,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new MD).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/vD.setFromMatrixColumn(e,0).length(),i=1/vD.setFromMatrixColumn(e,1).length(),o=1/vD.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var h=o*l,d=o*u,f=a*l,p=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=d+f*c,t[5]=h-p*c,t[9]=-a*s,t[2]=p-h*c,t[6]=f+d*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*l,v=s*u,g=c*l,y=c*u;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*l,v=s*u,g=c*l,y=c*u;t[0]=m-y*a,t[4]=-o*u,t[8]=g+v*a,t[1]=v+g*a,t[5]=o*l,t[9]=y-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){h=o*l,d=o*u,f=a*l,p=a*u;t[0]=s*l,t[4]=f*c-d,t[8]=h*c+p,t[1]=s*u,t[5]=p*c+h,t[9]=d*c-f,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*c,w=a*s,_=a*c;t[0]=s*l,t[4]=_-b*u,t[8]=w*u+x,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=x*u+w,t[10]=b-_*u}else if("XZY"===e.order){b=o*s,x=o*c,w=a*s,_=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=b*u+_,t[5]=o*l,t[9]=x*u-w,t[2]=w*u-x,t[6]=a*l,t[10]=_*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(yD,e,bD)},lookAt:function(e,t,n){var r=this.elements;return _D.subVectors(e,t),0===_D.lengthSq()&&(_D.z=1),_D.normalize(),xD.crossVectors(n,_D),0===xD.lengthSq()&&(1===Math.abs(n.z)?_D.x+=1e-4:_D.z+=1e-4,_D.normalize(),xD.crossVectors(n,_D)),xD.normalize(),wD.crossVectors(_D,xD),r[0]=xD.x,r[4]=wD.x,r[8]=_D.x,r[1]=xD.y,r[5]=wD.y,r[9]=_D.y,r[2]=xD.z,r[6]=wD.z,r[10]=_D.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],M=r[8],S=r[12],E=r[1],T=r[5],P=r[9],C=r[13],A=r[2],k=r[6],O=r[10],R=r[14],L=r[3],D=r[7],N=r[11],I=r[15];return i[0]=o*w+a*E+s*A+c*L,i[4]=o*_+a*T+s*k+c*D,i[8]=o*M+a*P+s*O+c*N,i[12]=o*S+a*C+s*R+c*I,i[1]=l*w+u*E+h*A+d*L,i[5]=l*_+u*T+h*k+d*D,i[9]=l*M+u*P+h*O+d*N,i[13]=l*S+u*C+h*R+d*I,i[2]=f*w+p*E+m*A+v*L,i[6]=f*_+p*T+m*k+v*D,i[10]=f*M+p*P+m*O+v*N,i[14]=f*S+p*C+m*R+v*I,i[3]=g*w+y*E+b*A+x*L,i[7]=g*_+y*T+b*k+x*D,i[11]=g*M+y*P+b*O+x*N,i[15]=g*S+y*C+b*R+x*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)vD.x=e.getX(t),vD.y=e.getY(t),vD.z=e.getZ(t),vD.applyMatrix4(this),e.setXYZ(t,vD.x,vD.y,vD.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*c*u-i*a*h+n*c*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*c*h+i*o*h-r*o*d+r*c*l-i*s*l)+e[11]*(+t*c*u-t*a*d-i*o*u+n*o*d+i*a*l-n*c*l)+e[15]*(-r*a*l-t*s*u+t*a*h+r*o*u-n*o*h+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=f*y*h-g*p*h+g*u*m-l*y*m-f*u*b+l*p*b,w=v*p*h-d*y*h-v*u*m+c*y*m+d*u*b-c*p*b,_=d*g*h-v*f*h+v*l*m-c*g*m-d*l*b+c*f*b,M=v*f*u-d*g*u-v*l*p+c*g*p+d*l*y-c*f*y,S=i*x+o*w+a*_+s*M;if(0===S){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var T=1/S;return n[0]=x*T,n[1]=(g*p*s-f*y*s-g*a*m+o*y*m+f*a*b-o*p*b)*T,n[2]=(l*y*s-g*u*s+g*a*h-o*y*h-l*a*b+o*u*b)*T,n[3]=(f*u*s-l*p*s-f*a*h+o*p*h+l*a*m-o*u*m)*T,n[4]=w*T,n[5]=(d*y*s-v*p*s+v*a*m-i*y*m-d*a*b+i*p*b)*T,n[6]=(v*u*s-c*y*s-v*a*h+i*y*h+c*a*b-i*u*b)*T,n[7]=(c*p*s-d*u*s+d*a*h-i*p*h-c*a*m+i*u*m)*T,n[8]=_*T,n[9]=(v*f*s-d*g*s-v*o*m+i*g*m+d*o*b-i*f*b)*T,n[10]=(c*g*s-v*l*s+v*o*h-i*g*h-c*o*b+i*l*b)*T,n[11]=(d*l*s-c*f*s-d*o*h+i*f*h+c*o*m-i*l*m)*T,n[12]=M*T,n[13]=(d*g*a-v*f*a+v*o*p-i*g*p-d*o*y+i*f*y)*T,n[14]=(v*l*a-c*g*a-v*o*u+i*g*u+c*o*y-i*l*y)*T,n[15]=(c*f*a-d*l*a+d*o*u-i*f*u-c*o*p+i*l*p)*T,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,h=i*c,d=i*l,f=i*u,p=o*l,m=o*u,v=a*u,g=s*c,y=s*l,b=s*u,x=n.x,w=n.y,_=n.z;return r[0]=(1-(p+v))*x,r[1]=(d+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(h+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(f+y)*_,r[9]=(m-g)*_,r[10]=(1-(h+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=vD.set(r[0],r[1],r[2]).length(),o=vD.set(r[4],r[5],r[6]).length(),a=vD.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],gD.copy(this);var s=1/i,c=1/o,l=1/a;return gD.elements[0]*=s,gD.elements[1]*=s,gD.elements[2]*=s,gD.elements[4]*=c,gD.elements[5]*=c,gD.elements[6]*=c,gD.elements[8]*=l,gD.elements[9]*=l,gD.elements[10]*=l,t.setFromRotationMatrix(gD),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),c=1/(n-r),l=1/(o-i),u=(t+e)*s,h=(n+r)*c,d=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var SD=new MD,ED=new rD;function TD(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||TD.DefaultOrder}function PD(){this.mask=1}TD.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],TD.DefaultOrder="XYZ",Object.defineProperties(TD.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(TD.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=tD.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],h=i[2],d=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return SD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SD,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return ED.setFromEuler(this),this.setFromQuaternion(ED,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new aD(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(PD.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var CD=0,AD=new aD,kD=new rD,OD=new MD,RD=new aD,LD=new aD,DD=new aD,ND=new rD,ID=new aD(1,0,0),jD=new aD(0,1,0),zD=new aD(0,0,1),FD={type:"added"},UD={type:"removed"};function BD(){Object.defineProperty(this,"id",{value:CD++}),this.uuid=tD.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=BD.DefaultUp.clone();var e=new aD,t=new TD,n=new rD,r=new aD(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new MD},normalMatrix:{value:new lD}}),this.matrix=new MD,this.matrixWorld=new MD,this.matrixAutoUpdate=BD.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new PD,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function VD(){BD.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}BD.DefaultUp=new aD(0,1,0),BD.DefaultMatrixAutoUpdate=!0,BD.prototype=Object.assign(Object.create(KL.prototype),{constructor:BD,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return kD.setFromAxisAngle(e,t),this.quaternion.multiply(kD),this},rotateOnWorldAxis:function(e,t){return kD.setFromAxisAngle(e,t),this.quaternion.premultiply(kD),this},rotateX:function(e){return this.rotateOnAxis(ID,e)},rotateY:function(e){return this.rotateOnAxis(jD,e)},rotateZ:function(e){return this.rotateOnAxis(zD,e)},translateOnAxis:function(e,t){return AD.copy(e).applyQuaternion(this.quaternion),this.position.add(AD.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ID,e)},translateY:function(e){return this.translateOnAxis(jD,e)},translateZ:function(e){return this.translateOnAxis(zD,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(OD.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?RD.copy(e):RD.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),LD.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?OD.lookAt(LD,RD,this.up):OD.lookAt(RD,LD,this.up),this.quaternion.setFromRotationMatrix(OD),r&&(OD.extractRotation(r.matrixWorld),kD.setFromRotationMatrix(OD),this.quaternion.premultiply(kD.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(FD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(UD)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),OD.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),OD.multiply(e.parent.matrixWorld)),e.applyMatrix(OD),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new aD),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new rD),this.updateMatrixWorld(!0),this.matrixWorld.decompose(LD,e,DD),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new aD),this.updateMatrixWorld(!0),this.matrixWorld.decompose(LD,ND,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new aD),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==jL&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,c=this.material.length;s<c;s++)u.push(i(e.materials,this.material[s]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var h=m(e.geometries),d=m(e.materials),f=m(e.textures),p=m(e.images);a=m(e.shapes);h.length>0&&(n.geometries=h),d.length>0&&(n.materials=d),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),VD.prototype=Object.assign(Object.create(BD.prototype),{constructor:VD,isScene:!0,copy:function(e,t){return BD.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=BD.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var HD=[new aD,new aD,new aD,new aD,new aD,new aD,new aD,new aD],GD=new aD,WD=new aD,qD=new aD,YD=new aD,XD=new aD,ZD=new aD,$D=new aD,JD=new aD,KD=new aD,QD=new aD,eN=new aD;function tN(e,t){this.min=void 0!==e?e:new aD(1/0,1/0,1/0),this.max=void 0!==t?t:new aD(-1/0,-1/0,-1/0)}function nN(e,t,n,r,i){var o,a;for(o=0,a=e.length-3;o<=a;o+=3){eN.fromArray(e,o);var s=i.x*Math.abs(eN.x)+i.y*Math.abs(eN.y)+i.z*Math.abs(eN.z),c=t.dot(eN),l=n.dot(eN),u=r.dot(eN);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(tN.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],h=e[s+2];l<t&&(t=l),u<n&&(n=u),h<r&&(r=h),l>i&&(i=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),h=e.getZ(s);l<t&&(t=l),u<n&&(n=u),h<r&&(r=h),l>i&&(i=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=GD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new aD),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new aD),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){var t,n;e.updateWorldMatrix(!1,!1);var r=e.geometry;if(void 0!==r)if(r.isGeometry){var i=r.vertices;for(t=0,n=i.length;t<n;t++)GD.copy(i[t]),GD.applyMatrix4(e.matrixWorld),this.expandByPoint(GD)}else if(r.isBufferGeometry){var o=r.attributes.position;if(void 0!==o)for(t=0,n=o.count;t<n;t++)GD.fromBufferAttribute(o,t).applyMatrix4(e.matrixWorld),this.expandByPoint(GD)}var a=e.children;for(t=0,n=a.length;t<n;t++)this.expandByObject(a[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new aD),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,GD),GD.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(JD),KD.subVectors(this.max,JD),WD.subVectors(e.a,JD),qD.subVectors(e.b,JD),YD.subVectors(e.c,JD),XD.subVectors(qD,WD),ZD.subVectors(YD,qD),$D.subVectors(WD,YD);var t=[0,-XD.z,XD.y,0,-ZD.z,ZD.y,0,-$D.z,$D.y,XD.z,0,-XD.x,ZD.z,0,-ZD.x,$D.z,0,-$D.x,-XD.y,XD.x,0,-ZD.y,ZD.x,0,-$D.y,$D.x,0];return!!nN(t,WD,qD,YD,KD)&&(!!nN(t=[1,0,0,0,1,0,0,0,1],WD,qD,YD,KD)&&(QD.crossVectors(XD,ZD),nN(t=[QD.x,QD.y,QD.z],WD,qD,YD,KD)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new aD),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return GD.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(GD).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(HD[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),HD[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),HD[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),HD[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),HD[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),HD[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),HD[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),HD[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(HD)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var rN=new tN;function iN(e,t){this.center=void 0!==e?e:new aD,this.radius=void 0!==t?t:0}Object.assign(iN.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):rN.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new aD),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new tN),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var oN=new aD,aN=new aD,sN=new aD,cN=new aD,lN=new aD,uN=new aD,hN=new aD;function dN(e,t){this.origin=void 0!==e?e:new aD,this.direction=void 0!==t?t:new aD}Object.assign(dN.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new aD),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,oN)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new aD),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=oN.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oN.copy(this.direction).multiplyScalar(t).add(this.origin),oN.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){aN.copy(e).add(t).multiplyScalar(.5),sN.copy(t).sub(e).normalize(),cN.copy(this.origin).sub(aN);var i,o,a,s,c=.5*e.distanceTo(t),l=-this.direction.dot(sN),u=cN.dot(this.direction),h=-cN.dot(sN),d=cN.lengthSq(),f=Math.abs(1-l*l);if(f>0)if(o=l*u-h,s=c*f,(i=l*h-u)>=0)if(o>=-s)if(o<=s){var p=1/f;a=(i*=p)*(i+l*(o*=p)+2*u)+o*(l*i+o+2*h)+d}else o=c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;else o=-c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;else o<=-s?a=-(i=Math.max(0,-(-l*c+u)))*i+(o=i>0?-c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-h),c))*(o+2*h)+d):a=-(i=Math.max(0,-(l*c+u)))*i+(o=i>0?c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d;else o=l>0?-c:c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(sN).multiplyScalar(o).add(aN),a},intersectSphere:function(e,t){oN.subVectors(e.center,this.origin);var n=oN.dot(this.direction),r=oN.dot(oN)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),l>=0?(i=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,oN)},intersectTriangle:function(e,t,n,r,i){lN.subVectors(t,e),uN.subVectors(n,e),hN.crossVectors(lN,uN);var o,a=this.direction.dot(hN);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}cN.subVectors(this.origin,e);var s=o*this.direction.dot(uN.crossVectors(cN,uN));if(s<0)return null;var c=o*this.direction.dot(lN.cross(cN));if(c<0)return null;if(s+c>a)return null;var l=-o*cN.dot(hN);return l<0?null:this.at(l/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var fN=new aD,pN=new aD,mN=new aD,vN=new aD,gN=new aD,yN=new aD,bN=new aD,xN=new aD,wN=new aD,_N=new aD;function MN(e,t,n){this.a=void 0!==e?e:new aD,this.b=void 0!==t?t:new aD,this.c=void 0!==n?n:new aD}Object.assign(MN,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new aD),r.subVectors(n,t),fN.subVectors(e,t),r.cross(fN);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){fN.subVectors(r,t),pN.subVectors(n,t),mN.subVectors(e,t);var o=fN.dot(fN),a=fN.dot(pN),s=fN.dot(mN),c=pN.dot(pN),l=pN.dot(mN),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new aD),0===u)return i.set(-2,-1,-1);var h=1/u,d=(c*s-a*l)*h,f=(o*l-a*s)*h;return i.set(1-d-f,f,d)},containsPoint:function(e,t,n,r){return MN.getBarycoord(e,t,n,r,vN),vN.x>=0&&vN.y>=0&&vN.x+vN.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,vN),s.set(0,0),s.addScaledVector(i,vN.x),s.addScaledVector(o,vN.y),s.addScaledVector(a,vN.z),s},isFrontFacing:function(e,t,n,r){return fN.subVectors(n,t),pN.subVectors(e,t),fN.cross(pN).dot(r)<0}}),Object.assign(MN.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return fN.subVectors(this.c,this.b),pN.subVectors(this.a,this.b),.5*fN.cross(pN).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new aD),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return MN.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new aD),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return MN.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return MN.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return MN.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return MN.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new aD);var n,r,i=this.a,o=this.b,a=this.c;gN.subVectors(o,i),yN.subVectors(a,i),xN.subVectors(e,i);var s=gN.dot(xN),c=yN.dot(xN);if(s<=0&&c<=0)return t.copy(i);wN.subVectors(e,o);var l=gN.dot(wN),u=yN.dot(wN);if(l>=0&&u<=l)return t.copy(o);var h=s*u-l*c;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(gN,n);_N.subVectors(e,a);var d=gN.dot(_N),f=yN.dot(_N);if(f>=0&&d<=f)return t.copy(a);var p=d*c-s*f;if(p<=0&&c>=0&&f<=0)return r=c/(c-f),t.copy(i).addScaledVector(yN,r);var m=l*f-d*u;if(m<=0&&u-l>=0&&d-f>=0)return bN.subVectors(a,o),r=(u-l)/(u-l+(d-f)),t.copy(o).addScaledVector(bN,r);var v=1/(m+p+h);return n=p*v,r=h*v,t.copy(i).addScaledVector(gN,n).addScaledVector(yN,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var SN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},EN={h:0,s:0,l:0},TN={h:0,s:0,l:0};function PN(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function CN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function AN(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function kN(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function ON(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new aD,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new PN,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(PN.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=tD.euclideanModulo(e,1),t=tD.clamp(t,0,1),n=tD.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=CN(i,r,e+1/3),this.g=CN(i,r,e),this.b=CN(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(l=SN[e])?this.setHex(l):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=AN(e.r),this.g=AN(e.g),this.b=AN(e.b),this},copyLinearToSRGB:function(e){return this.r=kN(e.r),this.g=kN(e.g),this.b=kN(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),c=(s+a)/2;if(s===a)t=0,n=0;else{var l=a-s;switch(n=c<=.5?l/(a+s):l/(2-a-s),a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(EN),EN.h+=e,EN.s+=t,EN.l+=n,this.setHSL(EN.h,EN.s,EN.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(EN),e.getHSL(TN);var n=tD.lerp(EN.h,TN.h,t),r=tD.lerp(EN.s,TN.s,t),i=tD.lerp(EN.l,TN.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Object.assign(ON.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var RN=0;function LN(){Object.defineProperty(this,"id",{value:RN++}),this.uuid=tD.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=VO,this.side=IO,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=FO,this.opacity=1,this.transparent=!1,this.blendSrc=nR,this.blendDst=rR,this.blendEquation=YO,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=dR,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$L,this.stencilZFail=$L,this.stencilZPass=$L,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.needsUpdate=!0}function DN(e){LN.call(this),this.type="MeshBasicMaterial",this.color=new PN(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function NN(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function IN(e,t,n){NN.call(this,new Int8Array(e),t,n)}function jN(e,t,n){NN.call(this,new Uint8Array(e),t,n)}function zN(e,t,n){NN.call(this,new Uint8ClampedArray(e),t,n)}function FN(e,t,n){NN.call(this,new Int16Array(e),t,n)}function UN(e,t,n){NN.call(this,new Uint16Array(e),t,n)}function BN(e,t,n){NN.call(this,new Int32Array(e),t,n)}function VN(e,t,n){NN.call(this,new Uint32Array(e),t,n)}function HN(e,t,n){NN.call(this,new Float32Array(e),t,n)}function GN(e,t,n){NN.call(this,new Float64Array(e),t,n)}function WN(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function qN(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}LN.prototype=Object.assign(Object.create(KL.prototype),{constructor:LN,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==VO&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==IO&&(n.side=this.side),this.vertexColors!==FO&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWrite=e.stencilWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),DN.prototype=Object.create(LN.prototype),DN.prototype.constructor=DN,DN.prototype.isMeshBasicMaterial=!0,DN.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(NN.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(NN.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new PN),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new nD),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new aD),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new fD),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),IN.prototype=Object.create(NN.prototype),IN.prototype.constructor=IN,jN.prototype=Object.create(NN.prototype),jN.prototype.constructor=jN,zN.prototype=Object.create(NN.prototype),zN.prototype.constructor=zN,FN.prototype=Object.create(NN.prototype),FN.prototype.constructor=FN,UN.prototype=Object.create(NN.prototype),UN.prototype.constructor=UN,BN.prototype=Object.create(NN.prototype),BN.prototype.constructor=BN,VN.prototype=Object.create(NN.prototype),VN.prototype.constructor=VN,HN.prototype=Object.create(NN.prototype),HN.prototype.constructor=HN,GN.prototype=Object.create(NN.prototype),GN.prototype.constructor=GN,Object.assign(WN.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,h=e.morphNormals,d=h.length;if(d>0){u=[];for(l=0;l<d;l++)u[l]={name:h[l].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,p=e.skinWeights,m=f.length===r.length,v=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var g=n[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}if(!0===o)void 0!==(x=i[0][l])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new nD,new nD,new nD));if(!0===a)void 0!==(x=i[1][l])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new nD,new nD,new nD));for(var M=0;M<c;M++){var S=s[M].vertices;t[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<d;M++){var E=h[M].vertexNormals[l];u[M].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(f[g.a],f[g.b],f[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var YN=1,XN=new MD,ZN=new BD,$N=new aD,JN=new tN,KN=new tN,QN=new aD;function eI(){Object.defineProperty(this,"id",{value:YN+=2}),this.uuid=tD.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}eI.prototype=Object.assign(Object.create(KL.prototype),{constructor:eI,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(qN(e)>65535?VN:UN)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new NN(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new lD).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new lD).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return XN.makeRotationX(e),this.applyMatrix(XN),this},rotateY:function(e){return XN.makeRotationY(e),this.applyMatrix(XN),this},rotateZ:function(e){return XN.makeRotationZ(e),this.applyMatrix(XN),this},translate:function(e,t,n){return XN.makeTranslation(e,t,n),this.applyMatrix(XN),this},scale:function(e,t,n){return XN.makeScale(e,t,n),this.applyMatrix(XN),this},lookAt:function(e){return ZN.lookAt(e),ZN.updateMatrix(),this.applyMatrix(ZN.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($N).negate(),this.translate($N.x,$N.y,$N.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new HN(3*t.vertices.length,3),r=new HN(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new HN(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new HN(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new WN).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new NN(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new NN(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new NN(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new NN(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new NN(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],l=0,u=c.length;l<u;l++){var h=c[l],d=new HN(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var f=new HN(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new HN(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tN);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];JN.setFromBufferAttribute(i),this.boundingBox.expandByPoint(JN.min),this.boundingBox.expandByPoint(JN.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new iN);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(JN.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];KN.setFromBufferAttribute(o),JN.expandByPoint(KN.min),JN.expandByPoint(KN.max)}JN.getCenter(n);var a=0;for(r=0,i=e.count;r<i;r++)QN.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared(QN));if(t)for(r=0,i=t.length;r<i;r++)for(var s=0,c=(o=t[r]).count;s<c;s++)QN.fromBufferAttribute(o,s),a=Math.max(a,n.distanceToSquared(QN));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new NN(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,c,l=t.normal.array,u=new aD,h=new aD,d=new aD,f=new aD,p=new aD;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],u.fromArray(n,a),h.fromArray(n,s),d.fromArray(n,c),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),l[a]+=f.x,l[a+1]+=f.y,l[a+2]+=f.z,l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z}else for(i=0,o=n.length;i<o;i+=9)u.fromArray(n,i),h.fromArray(n,i+3),d.fromArray(n,i+6),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),l[i]=f.x,l[i+1]=f.y,l[i+2]=f.z,l[i+3]=f.x,l[i+4]=f.y,l[i+5]=f.z,l[i+6]=f.x,l[i+7]=f.y,l[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,c=Math.min(a.length,i.length-s),l=0,u=s;l<c;l++,u++)i[u]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)QN.x=e.getX(t),QN.y=e.getY(t),QN.z=e.getZ(t),QN.normalize(),e.setXYZ(t,QN.x,QN.y,QN.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,c=t.length;s<c;s++){o=t[s]*r;for(var l=0;l<r;l++)i[a++]=n[o++]}return new NN(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new eI,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.addAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],c=a[i],l=0,u=c.length;l<u;l++){o=e(c[l],n);s.push(o)}t.morphAttributes[i]=s}for(var h=this.groups,d=(l=0,h.length);l<d;l++){var f=h[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var o=(d=i[n]).toJSON();""!==d.name&&(o.name=d.name),e.data.attributes[n]=o}var a={},s=!1;for(var n in this.morphAttributes){for(var c=this.morphAttributes[n],l=[],u=0,h=c.length;u<h;u++){var d;o=(d=c[u]).toJSON();""!==d.name&&(o.name=d.name),l.push(o)}l.length>0&&(a[n]=l,s=!0)}s&&(e.data.morphAttributes=a);var f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new eI).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(n=0,r=l.length;n<r;n++)c.push(l[n].clone());this.morphAttributes[t]=c}var u=e.groups;for(n=0,r=u.length;n<r;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var tI=new MD,nI=new dN,rI=new iN,iI=new aD,oI=new aD,aI=new aD,sI=new aD,cI=new aD,lI=new aD,uI=new aD,hI=new aD,dI=new aD,fI=new nD,pI=new nD,mI=new nD,vI=new aD,gI=new aD;function yI(e,t){BD.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new eI,this.material=void 0!==t?t:new DN({color:16777215*Math.random()}),this.drawMode=jL,this.updateMorphTargets()}function bI(e,t,n,r,i,o,a,s){if(null===(t.side===jO?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==zO,s)))return null;gI.copy(s),gI.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(gI);return c<n.near||c>n.far?null:{distance:c,point:gI.clone(),object:e}}function xI(e,t,n,r,i,o,a,s,c,l,u){iI.fromBufferAttribute(i,c),oI.fromBufferAttribute(i,l),aI.fromBufferAttribute(i,u);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){uI.set(0,0,0),hI.set(0,0,0),dI.set(0,0,0);for(var d=0,f=o.length;d<f;d++){var p=h[d],m=o[d];0!==p&&(sI.fromBufferAttribute(m,c),cI.fromBufferAttribute(m,l),lI.fromBufferAttribute(m,u),uI.addScaledVector(sI.sub(iI),p),hI.addScaledVector(cI.sub(oI),p),dI.addScaledVector(lI.sub(aI),p))}iI.add(uI),oI.add(hI),aI.add(dI)}var v=bI(e,t,n,r,iI,oI,aI,vI);if(v){a&&(fI.fromBufferAttribute(a,c),pI.fromBufferAttribute(a,l),mI.fromBufferAttribute(a,u),v.uv=MN.getUV(vI,iI,oI,aI,fI,pI,mI,new nD)),s&&(fI.fromBufferAttribute(s,c),pI.fromBufferAttribute(s,l),mI.fromBufferAttribute(s,u),v.uv2=MN.getUV(vI,iI,oI,aI,fI,pI,mI,new nD));var g=new ON(c,l,u);MN.getNormal(iI,oI,aI,g.normal),v.face=g}return v}yI.prototype=Object.assign(Object.create(BD.prototype),{constructor:yI,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return BD.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),rI.copy(r.boundingSphere),rI.applyMatrix4(o),!1!==e.ray.intersectsSphere(rI)&&(tI.getInverse(o),nI.copy(e.ray).applyMatrix4(tI),null===r.boundingBox||!1!==nI.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,c,l,u,h,d,f,p,m=r.index,v=r.attributes.position,g=r.morphAttributes.position,y=r.attributes.uv,b=r.attributes.uv2,x=r.groups,w=r.drawRange;if(null!==m)if(Array.isArray(i))for(l=0,h=x.length;l<h;l++)for(p=i[(f=x[l]).materialIndex],u=Math.max(f.start,w.start),d=Math.min(f.start+f.count,w.start+w.count);u<d;u+=3)a=m.getX(u),s=m.getX(u+1),c=m.getX(u+2),(n=xI(this,p,e,nI,v,g,y,b,a,s,c))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,t.push(n));else for(l=Math.max(0,w.start),h=Math.min(m.count,w.start+w.count);l<h;l+=3)a=m.getX(l),s=m.getX(l+1),c=m.getX(l+2),(n=xI(this,i,e,nI,v,g,y,b,a,s,c))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==v)if(Array.isArray(i))for(l=0,h=x.length;l<h;l++)for(p=i[(f=x[l]).materialIndex],u=Math.max(f.start,w.start),d=Math.min(f.start+f.count,w.start+w.count);u<d;u+=3)(n=xI(this,p,e,nI,v,g,y,b,a=u,s=u+1,c=u+2))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,t.push(n));else for(l=Math.max(0,w.start),h=Math.min(v.count,w.start+w.count);l<h;l+=3)(n=xI(this,i,e,nI,v,g,y,b,a=l,s=l+1,c=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n))}else if(r.isGeometry){var _,M,S,E,T=Array.isArray(i),P=r.vertices,C=r.faces,A=r.faceVertexUvs[0];A.length>0&&(E=A);for(var k=0,O=C.length;k<O;k++){var R=C[k],L=T?i[R.materialIndex]:i;if(void 0!==L&&(_=P[R.a],M=P[R.b],S=P[R.c],n=bI(this,L,e,nI,_,M,S,vI))){if(E&&E[k]){var D=E[k];fI.copy(D[0]),pI.copy(D[1]),mI.copy(D[2]),n.uv=MN.getUV(vI,_,M,S,fI,pI,mI,new nD)}n.face=R,n.faceIndex=k,t.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var wI=0,_I=new MD,MI=new BD,SI=new aD;function EI(){Object.defineProperty(this,"id",{value:wI+=2}),this.uuid=tD.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}EI.prototype=Object.assign(Object.create(KL.prototype),{constructor:EI,isGeometry:!0,applyMatrix:function(e){for(var t=(new lD).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return _I.makeRotationX(e),this.applyMatrix(_I),this},rotateY:function(e){return _I.makeRotationY(e),this.applyMatrix(_I),this},rotateZ:function(e){return _I.makeRotationZ(e),this.applyMatrix(_I),this},translate:function(e,t,n){return _I.makeTranslation(e,t,n),this.applyMatrix(_I),this},scale:function(e,t,n){return _I.makeScale(e,t,n),this.applyMatrix(_I),this},lookAt:function(e){return MI.lookAt(e),MI.updateMatrix(),this.applyMatrix(MI.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new aD).fromArray(i,l)),void 0!==a&&t.colors.push((new PN).fromArray(a,l));function u(e,n,r,i){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=new ON(e,n,r,void 0===o?[]:[(new aD).fromArray(o,3*e),(new aD).fromArray(o,3*n),(new aD).fromArray(o,3*r)],l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new nD).fromArray(s,2*e),(new nD).fromArray(s,2*n),(new nD).fromArray(s,2*r)]),void 0!==c&&t.faceVertexUvs[1].push([(new nD).fromArray(c,2*e),(new nD).fromArray(c,2*n),(new nD).fromArray(c,2*r)])}var h=e.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var d=h[l],f=d.start,p=f,m=f+d.count;p<m;p+=3)void 0!==n?u(n[p],n[p+1],n[p+2],d.materialIndex):u(p,p+1,p+2,d.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)u(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)u(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(SI).negate(),this.translate(SI.x,SI.y,SI.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new MD;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new aD,t=new aD,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new aD;if(e){var s,c,l,u=new aD,h=new aD;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],u.subVectors(l,c),h.subVectors(s,c),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var d=(o=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new EI;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new aD,l={a:new aD,b:new aD,c:new aD},a.push(c),s.push(l)}var c,l,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=u.faceNormals[n],l=u.vertexNormals[n],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tN),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new iN),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.colors,u=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new lD).getNormalMatrix(t));for(var h=0,d=a.length;h<d;h++){var f=a[h].clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(h=0,d=u.length;h<d;h++)l.push(u[h].clone());for(h=0,d=c.length;h<d;h++){var p,m,v,g=c[h],y=g.vertexNormals,b=g.vertexColors;(p=new ON(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var x=0,w=y.length;x<w;x++)m=y[x].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),p.vertexNormals.push(m);p.color.copy(g.color);for(x=0,w=b.length;x<w;x++)v=b[x],p.vertexColors.push(v.clone());p.materialIndex=g.materialIndex+n,s.push(p)}for(h=0,d=e.faceVertexUvs.length;h<d;h++){var _=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(x=0,w=_.length;x<w;x++){for(var M=_[x],S=[],E=0,T=M.length;E<T;E++)S.push(M[E].clone());this.faceVertexUvs[h].push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,c={},l=[],u=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===c[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(c[t]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new aD(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],c={},l=[],u={},h=[],d={};for(i=0;i<this.faces.length;i++){var f=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=f.normal.length()>0,v=f.vertexNormals.length>0,g=1!==f.color.r||1!==f.color.g||1!==f.color.b,y=f.vertexColors.length>0,b=0;if(b=M(b,0,0),b=M(b,1,!0),b=M(b,2,!1),b=M(b,3,p),b=M(b,4,m),b=M(b,5,v),b=M(b,6,g),b=M(b,7,y),a.push(b),a.push(f.a,f.b,f.c),a.push(f.materialIndex),p){var x=this.faceVertexUvs[0][i];a.push(T(x[0]),T(x[1]),T(x[2]))}if(m&&a.push(S(f.normal)),v){var w=f.vertexNormals;a.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&a.push(E(f.color)),y){var _=f.vertexColors;a.push(E(_[0]),E(_[1]),E(_[2]))}}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]||(c[t]=s.length/3,s.push(e.x,e.y,e.z)),c[t]}function E(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]||(u[t]=l.length,l.push(e.getHex())),u[t]}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=h.length/2,h.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),h.length>0&&(e.data.uvs=[h]),e.data.faces=a,e},clone:function(){return(new EI).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=u.length;r<i;r++){var h=u[r],d=[];for(o=0,a=h.length;o<a;o++){var f=h[o];d.push(f.clone())}this.faceVertexUvs[t].push(d)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class TI extends EI{constructor(e,t,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new PI(e,t,n,r,i,o)),this.mergeVertices()}}class PI extends eI{constructor(e,t,n,r,i,o){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],l=[],u=[],h=0,d=0;function f(e,t,n,r,i,o,f,p,m,v,g){var y,b,x=o/m,w=f/v,_=o/2,M=f/2,S=p/2,E=m+1,T=v+1,P=0,C=0,A=new aD;for(b=0;b<T;b++){var k=b*w-M;for(y=0;y<E;y++){var O=y*x-_;A[e]=O*r,A[t]=k*i,A[n]=S,c.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,l.push(A.x,A.y,A.z),u.push(y/m),u.push(1-b/v),P+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var R=h+y+E*b,L=h+y+E*(b+1),D=h+(y+1)+E*(b+1),N=h+(y+1)+E*b;s.push(R,L,N),s.push(L,D,N),C+=6}a.addGroup(d,C,g),d+=C,h+=P}f("z","y","x",-1,-1,n,t,e,o,i,0),f("z","y","x",1,-1,n,t,-e,o,i,1),f("x","z","y",1,1,e,n,t,r,o,2),f("x","z","y",1,-1,e,n,-t,r,o,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new HN(c,3)),this.addAttribute("normal",new HN(l,3)),this.addAttribute("uv",new HN(u,2))}}function CI(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function AI(e){for(var t={},n=0;n<e.length;n++){var r=CI(e[n]);for(var i in r)t[i]=r[i]}return t}var kI="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",OI="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function RI(e){LN.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=kI,this.fragmentShader=OI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function LI(){BD.call(this),this.type="Camera",this.matrixWorldInverse=new MD,this.projectionMatrix=new MD,this.projectionMatrixInverse=new MD}function DI(e,t,n,r){LI.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}RI.prototype=Object.create(LN.prototype),RI.prototype.constructor=RI,RI.prototype.isShaderMaterial=!0,RI.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=CI(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},RI.prototype.toJSON=function(e){var t=LN.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},LI.prototype=Object.assign(Object.create(BD.prototype),{constructor:LI,isCamera:!0,copy:function(e,t){return BD.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new aD),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){BD.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),DI.prototype=Object.assign(Object.create(LI.prototype),{constructor:DI,isPerspectiveCamera:!0,copy:function(e,t){return LI.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*tD.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*tD.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*tD.RAD2DEG*Math.atan(Math.tan(.5*tD.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*tD.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=BD.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var NI=90;function II(e,t,n,r){BD.call(this),this.type="CubeCamera";var i=new DI(NI,1,e,t);i.up.set(0,-1,0),i.lookAt(new aD(1,0,0)),this.add(i);var o=new DI(NI,1,e,t);o.up.set(0,-1,0),o.lookAt(new aD(-1,0,0)),this.add(o);var a=new DI(NI,1,e,t);a.up.set(0,0,1),a.lookAt(new aD(0,1,0)),this.add(a);var s=new DI(NI,1,e,t);s.up.set(0,0,-1),s.lookAt(new aD(0,-1,0)),this.add(s);var c=new DI(NI,1,e,t);c.up.set(0,-1,0),c.lookAt(new aD(0,0,1)),this.add(c);var l=new DI(NI,1,e,t);l.up.set(0,-1,0),l.lookAt(new aD(0,0,-1)),this.add(l),r=r||{format:tL,magFilter:FR,minFilter:FR},this.renderTarget=new jI(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,n,r);e.setRenderTarget(i)}}function jI(e,t,n){pD.call(this,e,t,n)}function zI(e,t,n,r,i,o,a,s,c,l,u,h){dD.call(this,null,o,a,s,c,l,r,i,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==c?c:IR,this.minFilter=void 0!==l?l:IR,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}II.prototype=Object.create(BD.prototype),II.prototype.constructor=II,jI.prototype=Object.create(pD.prototype),jI.prototype.constructor=jI,jI.prototype.isWebGLRenderTargetCube=!0,jI.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new VD,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new RI({type:"CubemapFromEquirect",uniforms:CI(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:jO,blending:BO});i.uniforms.tEquirect.value=t;var o=new yI(new PI(5,5,5),i);n.add(o);var a=new II(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,n),o.geometry.dispose(),o.material.dispose(),this},zI.prototype=Object.create(dD.prototype),zI.prototype.constructor=zI,zI.prototype.isDataTexture=!0;var FI=new aD,UI=new aD,BI=new lD;function VI(e,t){this.normal=void 0!==e?e:new aD(1,0,0),this.constant=void 0!==t?t:0}Object.assign(VI.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=FI.subVectors(n,t).cross(UI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new aD),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new aD);var n=e.delta(FI),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new aD),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||BI.getNormalMatrix(e),r=this.coplanarPoint(FI).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var HI=new iN,GI=new aD;function WI(e,t,n,r,i,o){this.planes=[void 0!==e?e:new VI,void 0!==t?t:new VI,void 0!==n?n:new VI,void 0!==r?r:new VI,void 0!==i?i:new VI,void 0!==o?o:new VI]}Object.assign(WI.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,u-s,p-h,y-m).normalize(),t[1].setComponents(a+r,u+s,p+h,y+m).normalize(),t[2].setComponents(a+i,u+c,p+d,y+v).normalize(),t[3].setComponents(a-i,u-c,p-d,y-v).normalize(),t[4].setComponents(a-o,u-l,p-f,y-g).normalize(),t[5].setComponents(a+o,u+l,p+f,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),HI.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(HI)},intersectsSprite:function(e){return HI.center.set(0,0,0),HI.radius=.7071067811865476,HI.applyMatrix4(e.matrixWorld),this.intersectsSphere(HI)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(GI.x=r.normal.x>0?e.max.x:e.min.x,GI.y=r.normal.y>0?e.max.y:e.min.y,GI.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(GI)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var qI={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 1.0 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy *= normalScale;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tbool frontFacing = dot( cross( S, T ), N ) > 0.0;\n\t\t\tmapN.xy *= ( float( frontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = clearcoatNormalScale * mapN.xy;\n\t\tclearcoatNormal = normalize( vTBN * mapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 encodeHalfRGBA ( vec2 v ) {\n\tvec4 encoded = vec4( 0.0 );\n\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\n\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\n\tencoded.xy = encoded.xy - ( encoded.yy * offset );\n\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\n\tencoded.zw = encoded.zw - ( encoded.ww * offset );\n\treturn encoded;\n}\nvec2 decodeHalfRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},YI={common:{diffuse:{value:new PN(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new lD},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new nD(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new PN(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new PN(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new lD}},sprite:{diffuse:{value:new PN(15658734)},opacity:{value:1},center:{value:new nD(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new lD}}},XI={basic:{uniforms:AI([YI.common,YI.specularmap,YI.envmap,YI.aomap,YI.lightmap,YI.fog]),vertexShader:qI.meshbasic_vert,fragmentShader:qI.meshbasic_frag},lambert:{uniforms:AI([YI.common,YI.specularmap,YI.envmap,YI.aomap,YI.lightmap,YI.emissivemap,YI.fog,YI.lights,{emissive:{value:new PN(0)}}]),vertexShader:qI.meshlambert_vert,fragmentShader:qI.meshlambert_frag},phong:{uniforms:AI([YI.common,YI.specularmap,YI.envmap,YI.aomap,YI.lightmap,YI.emissivemap,YI.bumpmap,YI.normalmap,YI.displacementmap,YI.gradientmap,YI.fog,YI.lights,{emissive:{value:new PN(0)},specular:{value:new PN(1118481)},shininess:{value:30}}]),vertexShader:qI.meshphong_vert,fragmentShader:qI.meshphong_frag},standard:{uniforms:AI([YI.common,YI.envmap,YI.aomap,YI.lightmap,YI.emissivemap,YI.bumpmap,YI.normalmap,YI.displacementmap,YI.roughnessmap,YI.metalnessmap,YI.fog,YI.lights,{emissive:{value:new PN(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:qI.meshphysical_vert,fragmentShader:qI.meshphysical_frag},matcap:{uniforms:AI([YI.common,YI.bumpmap,YI.normalmap,YI.displacementmap,YI.fog,{matcap:{value:null}}]),vertexShader:qI.meshmatcap_vert,fragmentShader:qI.meshmatcap_frag},points:{uniforms:AI([YI.points,YI.fog]),vertexShader:qI.points_vert,fragmentShader:qI.points_frag},dashed:{uniforms:AI([YI.common,YI.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qI.linedashed_vert,fragmentShader:qI.linedashed_frag},depth:{uniforms:AI([YI.common,YI.displacementmap]),vertexShader:qI.depth_vert,fragmentShader:qI.depth_frag},normal:{uniforms:AI([YI.common,YI.bumpmap,YI.normalmap,YI.displacementmap,{opacity:{value:1}}]),vertexShader:qI.normal_vert,fragmentShader:qI.normal_frag},sprite:{uniforms:AI([YI.sprite,YI.fog]),vertexShader:qI.sprite_vert,fragmentShader:qI.sprite_frag},background:{uniforms:{uvTransform:{value:new lD},t2D:{value:null}},vertexShader:qI.background_vert,fragmentShader:qI.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qI.cube_vert,fragmentShader:qI.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qI.equirect_vert,fragmentShader:qI.equirect_frag},distanceRGBA:{uniforms:AI([YI.common,YI.displacementmap,{referencePosition:{value:new aD},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qI.distanceRGBA_vert,fragmentShader:qI.distanceRGBA_frag},shadow:{uniforms:AI([YI.lights,YI.fog,{color:{value:new PN(0)},opacity:{value:1}}]),vertexShader:qI.shadow_vert,fragmentShader:qI.shadow_frag}};function ZI(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function $I(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function JI(e,t,n,r){EI.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new KI(e,t,n,r)),this.mergeVertices()}function KI(e,t,n,r){eI.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(n)||1,l=Math.floor(r)||1,u=c+1,h=l+1,d=e/c,f=t/l,p=[],m=[],v=[],g=[];for(o=0;o<h;o++){var y=o*f-s;for(i=0;i<u;i++){var b=i*d-a;m.push(b,-y,0),v.push(0,0,1),g.push(i/c),g.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<c;i++){var x=i+u*o,w=i+u*(o+1),_=i+1+u*(o+1),M=i+1+u*o;p.push(x,w,M),p.push(w,_,M)}this.setIndex(p),this.addAttribute("position",new HN(m,3)),this.addAttribute("normal",new HN(v,3)),this.addAttribute("uv",new HN(g,2))}function QI(e,t,n,r){var i,o,a=new PN(0),s=0,c=null,l=0;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),u(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(a,s=e)},render:function(t,r,h,d){var f=r.background,p=e.vr,m=p.getSession&&p.getSession();if(m&&"additive"===m.environmentBlendMode&&(f=null),null===f?(u(a,s),c=null,l=0):f&&f.isColor&&(u(f,1),d=!0,c=null,l=0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLRenderTargetCube)){void 0===o&&((o=new yI(new PI(1,1,1),new RI({type:"BackgroundCubeMaterial",uniforms:CI(XI.cube.uniforms),vertexShader:XI.cube.vertexShader,fragmentShader:XI.cube.fragmentShader,side:jO,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var v=f.isWebGLRenderTargetCube?f.texture:f;o.material.uniforms.tCube.value=v,o.material.uniforms.tFlip.value=f.isWebGLRenderTargetCube?1:-1,c===f&&l===v.version||(o.material.needsUpdate=!0,c=f,l=v.version),t.unshift(o,o.geometry,o.material,0,0,null)}else f&&f.isTexture&&(void 0===i&&((i=new yI(new KI(2,2),new RI({type:"BackgroundMaterial",uniforms:CI(XI.background.uniforms),vertexShader:XI.background.vertexShader,fragmentShader:XI.background.fragmentShader,side:IO,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),i.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&l===f.version||(i.material.needsUpdate=!0,c=f,l=f.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function ej(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s,c){if(0!==c){var l,u;if(r.isWebGL2)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,a,s,c),n.update(s,i,c)}}}function tj(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:o?e.getParameter(36183):0}}function nj(){var e=this,t=null,n=0,r=!1,i=!1,o=new VI,a=new lD,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=r+4*c,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var d=0,f=r;d!==c;++d,f+=4)o.copy(t[d]).applyMatrix4(h,a),o.normal.toArray(l,f),l[f+3]=o.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=l(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,u,h,d){if(!r||null===e||0===e.length||i&&!a)i?l(null):c();else{var f=i?0:n,p=4*f,m=h.clippingState||null;s.value=m,m=l(e,u,p,d);for(var v=0;v!==p;++v)m[v]=t[v];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=f}}}function rj(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function ij(e,t,n){var r=new WeakMap,i=new WeakMap;function o(e){var a=e.target,s=r.get(a);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);a.removeEventListener("dispose",o),r.delete(a);var l=i.get(s);l&&(t.remove(l),i.delete(s)),n.memory.geometries--}function a(e){var n=[],r=e.index,o=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],h=s[c+1],d=s[c+2];n.push(u,h,h,d,d,u)}}else{s=o.array;a=o.version;for(c=0,l=s.length/3-1;c<l;c+=3){u=c+0,h=c+1,d=c+2;n.push(u,h,h,d,d,u)}}var f=new(qN(n)>65535?VN:UN)(n,1);f.version=a,t.update(f,34963);var p=i.get(e);p&&t.remove(p),i.set(e,f)}return{get:function(e,t){var i=r.get(t);return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new eI).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return i.get(e)}}}function oj(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,c,l,u){if(0!==u){var h,d;if(r.isWebGL2)h=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(h=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](i,l,o,c*a,u),n.update(l,i,u)}}}function aj(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function sj(e,t){return Math.abs(t[1])-Math.abs(e[1])}function cj(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,c=s.length,l=t[i.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];t[i.id]=l}var h=o.morphTargets&&i.morphAttributes.position,d=o.morphNormals&&i.morphAttributes.normal;for(u=0;u<c;u++){0!==(f=l[u])[1]&&(h&&i.removeAttribute("morphTarget"+u),d&&i.removeAttribute("morphNormal"+u))}for(u=0;u<c;u++){(f=l[u])[0]=u,f[1]=s[u]}for(l.sort(sj),u=0;u<8;u++){var f;if(f=l[u]){var p=f[0],m=f[1];if(m){h&&i.addAttribute("morphTarget"+u,h[p]),d&&i.addAttribute("morphNormal"+u,d[p]),n[u]=m;continue}}n[u]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function lj(e,t,n,r){var i={};return{update:function(e){var o=r.render.frame,a=e.geometry,s=t.get(e,a);return i[s.id]!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i[s.id]=o),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){i={}}}}function uj(e,t,n,r,i,o,a,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:TR,a=void 0!==a?a:tL,dD.call(this,e,t,n,r,i,o,a,s,c,l),this.flipY=!1}function hj(e,t,n,r){dD.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=IR,this.minFilter=IR,this.wrapR=DR,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function dj(e,t,n,r){dD.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=IR,this.minFilter=IR,this.wrapR=DR,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}XI.physical={uniforms:AI([XI.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new PN(0)},clearcoatNormalScale:{value:new nD(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:qI.meshphysical_vert,fragmentShader:qI.meshphysical_frag},JI.prototype=Object.create(EI.prototype),JI.prototype.constructor=JI,KI.prototype=Object.create(eI.prototype),KI.prototype.constructor=KI,uj.prototype=Object.create(dD.prototype),uj.prototype.constructor=uj,uj.prototype.isCubeTexture=!0,Object.defineProperty(uj.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),hj.prototype=Object.create(dD.prototype),hj.prototype.constructor=hj,hj.prototype.isDataTexture2DArray=!0,dj.prototype=Object.create(dD.prototype),dj.prototype.constructor=dj,dj.prototype.isDataTexture3D=!0;var fj=new dD,pj=new hj,mj=new dj,vj=new uj,gj=[],yj=[],bj=new Float32Array(16),xj=new Float32Array(9),wj=new Float32Array(4);function _j(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=gj[i];if(void 0===o&&(o=new Float32Array(i),gj[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Mj(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Sj(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ej(e,t){var n=yj[t];void 0===n&&(n=new Int32Array(t),yj[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Tj(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Pj(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Mj(n,t))return;e.uniform2fv(this.addr,t),Sj(n,t)}}function Cj(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Mj(n,t))return;e.uniform3fv(this.addr,t),Sj(n,t)}}function Aj(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Mj(n,t))return;e.uniform4fv(this.addr,t),Sj(n,t)}}function kj(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Mj(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Sj(n,t)}else{if(Mj(n,r))return;wj.set(r),e.uniformMatrix2fv(this.addr,!1,wj),Sj(n,r)}}function Oj(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Mj(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Sj(n,t)}else{if(Mj(n,r))return;xj.set(r),e.uniformMatrix3fv(this.addr,!1,xj),Sj(n,r)}}function Rj(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Mj(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Sj(n,t)}else{if(Mj(n,r))return;bj.set(r),e.uniformMatrix4fv(this.addr,!1,bj),Sj(n,r)}}function Lj(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||fj,i)}function Dj(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||pj,i)}function Nj(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||mj,i)}function Ij(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||vj,i)}function jj(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function zj(e,t){var n=this.cache;Mj(n,t)||(e.uniform2iv(this.addr,t),Sj(n,t))}function Fj(e,t){var n=this.cache;Mj(n,t)||(e.uniform3iv(this.addr,t),Sj(n,t))}function Uj(e,t){var n=this.cache;Mj(n,t)||(e.uniform4iv(this.addr,t),Sj(n,t))}function Bj(e,t){e.uniform1fv(this.addr,t)}function Vj(e,t){e.uniform1iv(this.addr,t)}function Hj(e,t){e.uniform2iv(this.addr,t)}function Gj(e,t){e.uniform3iv(this.addr,t)}function Wj(e,t){e.uniform4iv(this.addr,t)}function qj(e,t){var n=_j(t,this.size,2);e.uniform2fv(this.addr,n)}function Yj(e,t){var n=_j(t,this.size,3);e.uniform3fv(this.addr,n)}function Xj(e,t){var n=_j(t,this.size,4);e.uniform4fv(this.addr,n)}function Zj(e,t){var n=_j(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function $j(e,t){var n=_j(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Jj(e,t){var n=_j(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Kj(e,t,n){var r=t.length,i=Ej(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||fj,i[o])}function Qj(e,t,n){var r=t.length,i=Ej(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||vj,i[o])}function ez(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Tj;case 35664:return Pj;case 35665:return Cj;case 35666:return Aj;case 35674:return kj;case 35675:return Oj;case 35676:return Rj;case 35678:case 36198:return Lj;case 35679:return Nj;case 35680:return Ij;case 36289:return Dj;case 5124:case 35670:return jj;case 35667:case 35671:return zj;case 35668:case 35672:return Fj;case 35669:case 35673:return Uj}}(t.type)}function tz(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Bj;case 35664:return qj;case 35665:return Yj;case 35666:return Xj;case 35674:return Zj;case 35675:return $j;case 35676:return Jj;case 35678:return Kj;case 35680:return Qj;case 5124:case 35670:return Vj;case 35667:case 35671:return Hj;case 35668:case 35672:return Gj;case 35669:case 35673:return Wj}}(t.type)}function nz(e){this.id=e,this.seq=[],this.map={}}tz.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Sj(t,e)},nz.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var rz=/([\w\d_]+)(\])?(\[|\.)?/g;function iz(e,t){e.seq.push(t),e.map[t.id]=t}function oz(e,t,n){var r=e.name,i=r.length;for(rz.lastIndex=0;;){var o=rz.exec(r),a=rz.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){iz(n,void 0===l?new ez(s,e,t):new tz(s,e,t));break}var u=n.map[s];void 0===u&&iz(n,u=new nz(s)),n=u}}function az(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);oz(i,e.getUniformLocation(t,i.name),this)}}function sz(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}az.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},az.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},az.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},az.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var cz=0;function lz(e){switch(e){case zL:return["Linear","( value )"];case FL:return["sRGB","( value )"];case BL:return["RGBE","( value )"];case HL:return["RGBM","( value, 7.0 )"];case GL:return["RGBM","( value, 16.0 )"];case WL:return["RGBD","( value, 256.0 )"];case UL:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case VL:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function uz(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function hz(e,t){var n=lz(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function dz(e,t){var n=lz(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function fz(e,t){var n;switch(t){case wR:n="Linear";break;case _R:n="Reinhard";break;case MR:n="Uncharted2";break;case SR:n="OptimizedCineon";break;case ER:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function pz(e){return""!==e}function mz(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vz(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var gz=/^[ \t]*#include +<([\w\d./]+)>/gm;function yz(e){return e.replace(gz,bz)}function bz(e,t){var n=qI[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return yz(n)}var xz=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function wz(e){return e.replace(xz,_z)}function _z(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Mz(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Sz(e,t,n,r,i,o){var a,s,c=e.getContext(),l=r.defines,u=i.vertexShader,h=i.fragmentShader,d=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===LO?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===DO?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===NO&&(t="SHADOWMAP_TYPE_VSM"),t}(o),f=function(e,t){var n="ENVMAP_TYPE_CUBE";if(e.envMap)switch(t.envMap.mapping){case TR:case PR:n="ENVMAP_TYPE_CUBE";break;case OR:case RR:n="ENVMAP_TYPE_CUBE_UV";break;case CR:case AR:n="ENVMAP_TYPE_EQUIREC";break;case kR:n="ENVMAP_TYPE_SPHERE"}return n}(o,r),p=function(e,t){var n="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(t.envMap.mapping){case PR:case AR:n="ENVMAP_MODE_REFRACTION"}return n}(o,r),m=function(e,t){var n="ENVMAP_BLENDING_MULTIPLY";if(e.envMap)switch(t.combine){case gR:n="ENVMAP_BLENDING_MULTIPLY";break;case yR:n="ENVMAP_BLENDING_MIX";break;case bR:n="ENVMAP_BLENDING_ADD"}return n}(o,r),v=e.gammaFactor>0?e.gammaFactor:1,g=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(pz).join("\n")}(r.extensions,o,t),y=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),b=c.createProgram(),x=e.getRenderTarget(),w=x&&x.isWebGLMultiviewRenderTarget?x.numViews:0;if(r.isRawShaderMaterial?((a=[y].filter(pz).join("\n")).length>0&&(a+="\n"),(s=[g,y].filter(pz).join("\n")).length>0&&(s+="\n")):(a=[Mz(o),"#define SHADER_NAME "+i.name,y,o.instancing?"#define USE_INSTANCING":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(pz).join("\n"),s=[g,Mz(o),"#define SHADER_NAME "+i.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+p:"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.sheen?"#define USE_SHEEN":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensions&&r.extensions.shaderTextureLOD||o.envMap)&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==xR?"#define TONE_MAPPING":"",o.toneMapping!==xR?qI.tonemapping_pars_fragment:"",o.toneMapping!==xR?fz("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?qI.encodings_pars_fragment:"",o.mapEncoding?hz("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?hz("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?hz("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?hz("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?dz("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(pz).join("\n")),u=vz(u=mz(u=yz(u),o),o),h=vz(h=mz(h=yz(h),o),o),u=wz(u),h=wz(h),o.isWebGL2&&!r.isRawShaderMaterial){var _=!1,M=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(M)&&null!==h.match(M)&&(_=!0,u=u.replace(M,""),h=h.replace(M,"")),a=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,s=["#version 300 es\n","#define varying in",_?"":"out highp vec4 pc_fragColor;",_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s,w>0&&(a=(a=a.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+w+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+w+"];","uniform mat4 projectionMatrices["+w+"];","uniform mat4 viewMatrices["+w+"];","uniform mat3 normalMatrices["+w+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),s=(s=s.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+w+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var S,E,T=s+h,P=sz(c,35633,a+u),C=sz(c,35632,T);if(c.attachShader(b,P),c.attachShader(b,C),void 0!==r.index0AttributeName?c.bindAttribLocation(b,0,r.index0AttributeName):!0===o.morphTargets&&c.bindAttribLocation(b,0,"position"),c.linkProgram(b),e.debug.checkShaderErrors){var A=c.getProgramInfoLog(b).trim(),k=c.getShaderInfoLog(P).trim(),O=c.getShaderInfoLog(C).trim(),R=!0,L=!0;if(!1===c.getProgramParameter(b,35714)){R=!1;var D=uz(c,P,"vertex"),N=uz(c,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",c.getError(),"35715",c.getProgramParameter(b,35715),"gl.getProgramInfoLog",A,D,N)}else""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==k&&""!==O||(L=!1);L&&(this.diagnostics={runnable:R,material:r,programLog:A,vertexShader:{log:k,prefix:a},fragmentShader:{log:O,prefix:s}})}return c.deleteShader(P),c.deleteShader(C),this.getUniforms=function(){return void 0===S&&(S=new az(c,b)),S},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(c,b)),E},this.destroy=function(){c.deleteProgram(b),this.program=void 0},this.name=i.name,this.id=cz++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=P,this.fragmentShader=C,this.numMultiviewViews=w,this}function Ez(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=zL,n===zL&&t&&(n=UL),n}this.getParameters=function(t,r,o,s,c,l,u){var h=i[t.type],d=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(u):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead.");var p=e.getRenderTarget();return{isWebGL2:n.isWebGL2,shaderID:h,precision:f,instancing:!0===u.isInstancedMesh,supportsVertexTextures:n.vertexTextures,outputEncoding:a(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:a(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===OR||t.envMap.mapping===RR),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===ZL,tangentSpaceNormalMap:t.normalMapType===XL,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!t.map||!!t.bumpMap||!!t.normalMap||!!t.specularMap||!!t.alphaMap||!!t.emissiveMap||!!t.roughnessMap||!!t.metalnessMap||!!t.clearcoatNormalMap,fog:!!s,useFog:t.fog,fogExp2:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numDirLightShadows:r.directionalShadowMap.length,numPointLightShadows:r.pointShadowMap.length,numSpotLightShadows:r.spotShadowMap.length,numClippingPlanes:c,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:xR,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===zO,flipSided:t.side===jO,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(n,i,o,a){for(var s,c=0,l=r.length;c<l;c++){var u=r[c];if(u.code===a){++(s=u).usedTimes;break}}return void 0===s&&(s=new Sz(e,t,a,n,i,o),r.push(s)),s},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Tz(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Pz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Cz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Az(){var e=[],t=0,n=[],r=[],i={id:-1};function o(n,r,o,a,s,c){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:c},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=o,l.program=o.program||i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=s,l.group=c),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?r:n).push(l)},unshift:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(Pz),r.length>1&&r.sort(Cz)}}}function kz(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i,o=e.get(n);return void 0===o?(i=new Az,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):void 0===(i=o.get(r))&&(i=new Az,o.set(r,i)),i},dispose:function(){e=new WeakMap}}}function Oz(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new aD,color:new PN,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new nD};break;case"SpotLight":n={position:new aD,direction:new aD,color:new PN,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new nD};break;case"PointLight":n={position:new aD,color:new PN,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new nD,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new aD,skyColor:new PN,groundColor:new PN};break;case"RectAreaLight":n={color:new PN,position:new aD,halfWidth:new aD,halfHeight:new aD}}return e[t.id]=n,n}}}var Rz=0;function Lz(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Dz(){for(var e=new Oz,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new aD);var r=new aD,i=new MD,o=new MD;return{setup:function(n,a,s){for(var c=0,l=0,u=0,h=0;h<9;h++)t.probe[h].set(0,0,0);var d=0,f=0,p=0,m=0,v=0,g=0,y=0,b=0,x=s.matrixWorldInverse;n.sort(Lz),h=0;for(var w=n.length;h<w;h++){var _=n[h],M=_.color,S=_.intensity,E=_.distance,T=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)c+=M.r*S,l+=M.g*S,u+=M.b*S;else if(_.isLightProbe)for(var P=0;P<9;P++)t.probe[P].addScaledVector(_.sh.coefficients[P],S);else if(_.isDirectionalLight){if((A=e.get(_)).color.copy(_.color).multiplyScalar(_.intensity),A.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(x),A.shadow=_.castShadow,_.castShadow){var C=_.shadow;A.shadowBias=C.bias,A.shadowRadius=C.radius,A.shadowMapSize=C.mapSize,t.directionalShadowMap[d]=T,t.directionalShadowMatrix[d]=_.shadow.matrix,g++}t.directional[d]=A,d++}else if(_.isSpotLight){if((A=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),A.color.copy(M).multiplyScalar(S),A.distance=E,A.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(x),A.coneCos=Math.cos(_.angle),A.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),A.decay=_.decay,A.shadow=_.castShadow,_.castShadow){C=_.shadow;A.shadowBias=C.bias,A.shadowRadius=C.radius,A.shadowMapSize=C.mapSize,t.spotShadowMap[p]=T,t.spotShadowMatrix[p]=_.shadow.matrix,b++}t.spot[p]=A,p++}else if(_.isRectAreaLight){(A=e.get(_)).color.copy(M).multiplyScalar(S),A.position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),o.identity(),i.copy(_.matrixWorld),i.premultiply(x),o.extractRotation(i),A.halfWidth.set(.5*_.width,0,0),A.halfHeight.set(0,.5*_.height,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),t.rectArea[m]=A,m++}else if(_.isPointLight){if((A=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),A.color.copy(_.color).multiplyScalar(_.intensity),A.distance=_.distance,A.decay=_.decay,A.shadow=_.castShadow,_.castShadow){C=_.shadow;A.shadowBias=C.bias,A.shadowRadius=C.radius,A.shadowMapSize=C.mapSize,A.shadowCameraNear=C.camera.near,A.shadowCameraFar=C.camera.far,t.pointShadowMap[f]=T,t.pointShadowMatrix[f]=_.shadow.matrix,y++}t.point[f]=A,f++}else if(_.isHemisphereLight){var A;(A=e.get(_)).direction.setFromMatrixPosition(_.matrixWorld),A.direction.transformDirection(x),A.direction.normalize(),A.skyColor.copy(_.color).multiplyScalar(S),A.groundColor.copy(_.groundColor).multiplyScalar(S),t.hemi[v]=A,v++}}t.ambient[0]=c,t.ambient[1]=l,t.ambient[2]=u;var k=t.hash;k.directionalLength===d&&k.pointLength===f&&k.spotLength===p&&k.rectAreaLength===m&&k.hemiLength===v&&k.numDirectionalShadows===g&&k.numPointShadows===y&&k.numSpotShadows===b||(t.directional.length=d,t.spot.length=p,t.rectArea.length=m,t.point.length=f,t.hemi.length=v,t.directionalShadowMap.length=g,t.pointShadowMap.length=y,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=g,t.pointShadowMatrix.length=y,t.spotShadowMatrix.length=b,k.directionalLength=d,k.pointLength=f,k.spotLength=p,k.rectAreaLength=m,k.hemiLength=v,k.numDirectionalShadows=g,k.numPointShadows=y,k.numSpotShadows=b,t.version=Rz++)},state:t}}function Nz(){var e=new Dz,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Iz(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new Nz,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new Nz,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function jz(e){LN.call(this),this.type="MeshDepthMaterial",this.depthPacking=qL,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function zz(e){LN.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new aD,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}jz.prototype=Object.create(LN.prototype),jz.prototype.constructor=jz,jz.prototype.isMeshDepthMaterial=!0,jz.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},zz.prototype=Object.create(LN.prototype),zz.prototype.constructor=zz,zz.prototype.isMeshDistanceMaterial=!0,zz.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Fz="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n  \n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\n}",Uz="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Bz(e,t,n){var r=new WI,i=new nD,o=new nD,a=new fD,s=1,c=2,l=1+(s|c),u=new Array(l),h=new Array(l),d={},f={0:jO,1:IO,2:zO},p=new RI({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new nD},radius:{value:4}},vertexShader:Uz,fragmentShader:Fz}),m=p.clone();m.defines.HORIZONAL_PASS=1;var v=new eI;v.addAttribute("position",new NN(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));for(var g=new yI(v,p),y=0;y!==l;++y){var b=0!==(y&s),x=0!==(y&c),w=new jz({depthPacking:YL,morphTargets:b,skinning:x});u[y]=w;var _=new zz({morphTargets:b,skinning:x});h[y]=_}var M=this;function S(n,r){var i=t.update(g);p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,m,g,null)}function E(t,n,r,i,o,a){var l=t.geometry,p=null,m=u,v=t.customDepthMaterial;if(r.isPointLight&&(m=h,v=t.customDistanceMaterial),v)p=v;else{var g=!1;n.morphTargets&&(l&&l.isBufferGeometry?g=l.morphAttributes&&l.morphAttributes.position&&l.morphAttributes.position.length>0:l&&l.isGeometry&&(g=l.morphTargets&&l.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var y=t.isSkinnedMesh&&n.skinning,b=0;g&&(b|=s),y&&(b|=c),p=m[b]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var x=p.uuid,w=n.uuid,_=d[x];void 0===_&&(_={},d[x]=_);var M=_[w];void 0===M&&(M=p.clone(),_[w]=M),p=M}return p.visible=n.visible,p.wireframe=n.wireframe,p.side=a===NO?null!=n.shadowSide?n.shadowSide:n.side:null!=n.shadowSide?n.shadowSide:f[n.side],p.clipShadows=n.clipShadows,p.clippingPlanes=n.clippingPlanes,p.clipIntersection=n.clipIntersection,p.wireframeLinewidth=n.wireframeLinewidth,p.linewidth=n.linewidth,r.isPointLight&&p.isMeshDistanceMaterial&&(p.referencePosition.setFromMatrixPosition(r.matrixWorld),p.nearDistance=i,p.farDistance=o),p}function T(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===NO)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var u=c.groups,h=0,d=u.length;h<d;h++){var f=u[h],p=l[f.materialIndex];if(p&&p.visible){var m=E(n,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,m,n,f)}}else if(l.visible){m=E(n,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)T(v[g],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=LO,this.render=function(t,s,c){if(!1!==M.enabled&&(!1!==M.autoUpdate||!1!==M.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(BO),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var m=t[f],v=m.shadow;if(void 0!==v){i.copy(v.mapSize);var g=v.getFrameExtents();if(i.multiply(g),o.copy(v.mapSize),(i.x>n||i.y>n)&&(console.warn("THREE.WebGLShadowMap:",m,"has shadow exceeding max texture size, reducing"),i.x>n&&(o.x=Math.floor(n/g.x),i.x=o.x*g.x,v.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/g.y),i.y=o.y*g.y,v.mapSize.y=o.y)),null===v.map&&!v.isPointLightShadow&&this.type===NO){var y={minFilter:FR,magFilter:FR,format:nL};v.map=new pD(i.x,i.y,y),v.map.texture.name=m.name+".shadowMap",v.mapPass=new pD(i.x,i.y,y),v.camera.updateProjectionMatrix()}if(null===v.map){y={minFilter:IR,magFilter:IR,format:nL};v.map=new pD(i.x,i.y,y),v.map.texture.name=m.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var b=v.getViewportCount(),x=0;x<b;x++){var w=v.getViewport(x);a.set(o.x*w.x,o.y*w.y,o.x*w.z,o.y*w.w),d.viewport(a),v.updateMatrices(m,c,x),r=v.getFrustum(),T(s,c,v.camera,m,this.type)}v.isPointLightShadow||this.type!==NO||S(v,c)}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}M.needsUpdate=!1,e.setRenderTarget(l,u,h)}}}function Vz(e,t,n,r){var i=new function(){var t=!1,n=new fD,r=null,i=new fD(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?F(2929):U(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case lR:e.depthFunc(512);break;case uR:e.depthFunc(519);break;case hR:e.depthFunc(513);break;case dR:e.depthFunc(515);break;case fR:e.depthFunc(514);break;case pR:e.depthFunc(518);break;case mR:e.depthFunc(516);break;case vR:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?F(2960):U(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&c===r||(e.stencilOp(t,n,r),a=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null}}},s=e.getParameter(34921),c=new Uint8Array(s),l=new Uint8Array(s),u=new Uint8Array(s),h={},d=null,f=null,p=null,m=null,v=null,g=null,y=null,b=null,x=null,w=null,_=!1,M=null,S=null,E=null,T=null,P=null,C=e.getParameter(35661),A=!1,k=0,O=e.getParameter(7938);-1!==O.indexOf("WebGL")?(k=parseFloat(/^WebGL\ ([0-9])/.exec(O)[1]),A=k>=1):-1!==O.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(O)[1]),A=k>=2);var R=null,L={},D=new fD,N=new fD;function I(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var j={};function z(n,i){(c[n]=1,0===l[n]&&(e.enableVertexAttribArray(n),l[n]=1),u[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),u[n]=i)}function F(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function U(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}function B(t,r,i,o,a,s,c,l){if(t!==BO){if(p||(F(3042),p=!0),t===qO)a=a||r,s=s||i,c=c||o,r===v&&a===b||(e.blendEquationSeparate(n.convert(r),n.convert(a)),v=r,b=a),i===g&&o===y&&s===x&&c===w||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(c)),g=i,y=o,x=s,w=c),m=t,_=null;else if(t!==m||l!==_){if(v===YO&&b===YO||(e.blendEquation(32774),v=YO,b=YO),l)switch(t){case VO:e.blendFuncSeparate(1,771,1,771);break;case HO:e.blendFunc(1,1);break;case GO:e.blendFuncSeparate(0,0,769,771);break;case WO:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case VO:e.blendFuncSeparate(770,771,1,771);break;case HO:e.blendFunc(770,1);break;case GO:e.blendFunc(0,769);break;case WO:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,x=null,w=null,m=t,_=l}}else p&&(U(3042),p=!1)}function V(t){M!==t&&(t?e.frontFace(2304):e.frontFace(2305),M=t)}function H(t){t!==kO?(F(2884),t!==S&&(t===OO?e.cullFace(1029):t===RO?e.cullFace(1028):e.cullFace(1032))):U(2884),S=t}function G(t,n,r){t?(F(32823),T===n&&P===r||(e.polygonOffset(n,r),T=n,P=r)):U(32823)}function W(t){void 0===t&&(t=33984+C-1),R!==t&&(e.activeTexture(t),R=t)}return j[3553]=I(3553,3553,1),j[34067]=I(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),F(2929),o.setFunc(dR),V(!1),H(OO),F(2884),B(BO),{buffers:{color:i,depth:o,stencil:a},initAttributes:function(){for(var e=0,t=c.length;e<t;e++)c[e]=0},enableAttribute:function(e){z(e,0)},enableAttributeAndDivisor:z,disableUnusedAttributes:function(){for(var t=0,n=l.length;t!==n;++t)l[t]!==c[t]&&(e.disableVertexAttribArray(t),l[t]=0)},enable:F,disable:U,getCompressedTextureFormats:function(){if(null===d&&(d=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)d.push(n[r]);return d},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:B,setMaterial:function(e,t){e.side===zO?U(2884):F(2884);var n=e.side===jO;t&&(n=!n),V(n),e.blending===VO&&!1===e.transparent?B(BO):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);var r=e.stencilWrite;a.setTest(r),r&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),G(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:V,setCullFace:H,setLineWidth:function(t){t!==E&&(A&&e.lineWidth(t),E=t)},setPolygonOffset:G,setScissorTest:function(e){e?F(3089):U(3089)},activeTexture:W,bindTexture:function(t,n){null===R&&W();var r=L[R];void 0===r&&(r={type:void 0,texture:void 0},L[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||j[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===N.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),N.copy(t))},reset:function(){for(var t=0;t<l.length;t++)1===l[t]&&(e.disableVertexAttribArray(t),l[t]=0);h={},d=null,R=null,L={},f=null,m=null,M=null,S=null,i.reset(),o.reset(),a.reset()}}}function Hz(e,t,n,r,i,o,a){var s,c=new WeakMap,l="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function u(e,t){return l?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function h(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?tD.floorPowerOfTwo:Math.floor,a=o(i*e.width),c=o(i*e.height);void 0===s&&(s=u(a,c));var l=n?u(a,c):s;return l.width=a,l.height=c,l.getContext("2d").drawImage(e,0,0,a,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function d(e){return tD.isPowerOfTwo(e.width)&&tD.isPowerOfTwo(e.height)}function f(e,t){return e.generateMipmaps&&t&&e.minFilter!==IR&&e.minFilter!==FR}function p(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function m(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function v(e){return e===IR||e===jR||e===zR?9728:9729}function g(t){var n=t.target;n.removeEventListener("dispose",g),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&c.delete(n),a.memory.textures--}function y(t){var n=t.target;n.removeEventListener("dispose",y),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),a.memory.textures-=2;o=0;for(var s=n.__webglViewFramebuffers.length;o<s;o++)e.deleteFramebuffer(n.__webglViewFramebuffers[o])}r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}var b=0;function x(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void E(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function w(t,a){if(6===t.image.length){var s=r.get(t);if(t.version>0&&s.__version!==t.version){S(s,t),n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var c=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,u=[],v=0;v<6;v++)u[v]=c||l?l?t.image[v].image:t.image[v]:h(t.image[v],!1,!0,i.maxCubemapSize);var g,y=u[0],b=d(y)||i.isWebGL2,x=o.convert(t.format),w=o.convert(t.type),_=m(x,w);if(M(34067,t,b),c){for(v=0;v<6;v++){g=u[v].mipmaps;for(var E=0;E<g.length;E++){var T=g[E];t.format!==nL&&t.format!==tL?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(34069+v,E,_,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+v,E,_,T.width,T.height,0,x,w,T.data)}}s.__maxMipLevel=g.length-1}else{g=t.mipmaps;for(v=0;v<6;v++)if(l){n.texImage2D(34069+v,0,_,u[v].width,u[v].height,0,x,w,u[v].data);for(E=0;E<g.length;E++){var P=(T=g[E]).image[v].image;n.texImage2D(34069+v,E+1,_,P.width,P.height,0,x,w,P.data)}}else{n.texImage2D(34069+v,0,_,x,w,u[v]);for(E=0;E<g.length;E++){T=g[E];n.texImage2D(34069+v,E+1,_,x,w,T.image[v])}}s.__maxMipLevel=g.length}f(t,b)&&p(34067,t,y.width,y.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture)}}function _(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}function M(n,a,s){var c;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),32879!==n&&35866!==n||e.texParameteri(n,32882,o.convert(a.wrapR)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===DR&&a.wrapT===DR||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,v(a.magFilter)),e.texParameteri(n,10241,v(a.minFilter)),a.minFilter!==IR&&a.minFilter!==FR&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),c=t.get("EXT_texture_filter_anisotropic")){if(a.type===XR&&null===t.get("OES_texture_float_linear"))return;if(a.type===ZR&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function S(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",g),t.__webglTexture=e.createTexture(),a.memory.textures++)}function E(t,r,a){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(t,r),n.activeTexture(33984+a),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var c=function(e){return!i.isWebGL2&&(e.wrapS!==DR||e.wrapT!==DR||e.minFilter!==IR&&e.minFilter!==FR)}(r)&&!1===d(r.image),l=h(r.image,c,!1,i.maxTextureSize),u=d(l)||i.isWebGL2,v=o.convert(r.format),g=o.convert(r.type),y=m(v,g);M(s,r,u);var b,x=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===XR){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else i.isWebGL2&&(y=33189);r.format===oL&&6402===y&&r.type!==WR&&r.type!==YR&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=WR,g=o.convert(r.type)),r.format===aL&&(y=34041,r.type!==QR&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=QR,g=o.convert(r.type))),n.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(x.length>0&&u){for(var w=0,_=x.length;w<_;w++)b=x[w],n.texImage2D(3553,w,y,b.width,b.height,0,v,g,b.data);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=x.length;w<_;w++)b=x[w],r.format!==nL&&r.format!==tL?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,w,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,y,b.width,b.height,0,v,g,b.data);t.__maxMipLevel=x.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),t.__maxMipLevel=0;else if(x.length>0&&u){for(w=0,_=x.length;w<_;w++)b=x[w],n.texImage2D(3553,w,y,v,g,b);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,v,g,l),t.__maxMipLevel=0;f(r,u)&&p(3553,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(t,i,a,s){var c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=m(c,l);n.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function P(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=A(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=m(o.convert(n.texture.format),o.convert(n.texture.type));if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function C(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===oL)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==aL)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),P(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),P(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function A(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}var k=!1,O=!1;this.allocateTextureUnit=function(){var e=b;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=x,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?E(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?E(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(s){var c=r.get(s),l=r.get(s.texture);s.addEventListener("dispose",y),l.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===s.isWebGLRenderTargetCube,h=!0===s.isWebGLMultisampleRenderTarget,v=!0===s.isWebGLMultiviewRenderTarget,g=d(s)||i.isWebGL2;if(u){c.__webglFramebuffer=[];for(var b=0;b<6;b++)c.__webglFramebuffer[b]=e.createFramebuffer()}else if(c.__webglFramebuffer=e.createFramebuffer(),h)if(i.isWebGL2){c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer);var x=m(o.convert(s.texture.format),o.convert(s.texture.type)),w=A(s);e.renderbufferStorageMultisample(36161,w,x,s.width,s.height),e.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),s.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),P(c.__webglDepthRenderbuffer,s,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(v){var _=s.width,S=s.height,E=s.numViews;e.bindFramebuffer(36160,c.__webglFramebuffer);var k=t.get("OVR_multiview2");a.memory.textures+=2;var O=e.createTexture();e.bindTexture(35866,O),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,_,S,E,0,6408,5121,null),k.framebufferTextureMultiviewOVR(36160,36064,O,0,0,E);var R=e.createTexture();e.bindTexture(35866,R),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,_,S,E,0,34041,34042,null),k.framebufferTextureMultiviewOVR(36160,33306,R,0,0,E);var L=new Array(E);for(b=0;b<E;++b)L[b]=e.createFramebuffer(),e.bindFramebuffer(36160,L[b]),e.framebufferTextureLayer(36160,36064,O,0,b);c.__webglColorTexture=O,c.__webglDepthStencilTexture=R,c.__webglViewFramebuffers=L,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(u){n.bindTexture(34067,l.__webglTexture),M(34067,s.texture,g);for(b=0;b<6;b++)T(c.__webglFramebuffer[b],s,36064,34069+b);f(s.texture,g)&&p(34067,s.texture,s.width,s.height),n.bindTexture(34067,null)}else v||(n.bindTexture(3553,l.__webglTexture),M(3553,s.texture,g),T(c.__webglFramebuffer,s,36064,3553),f(s.texture,g)&&p(3553,s.texture,s.width,s.height),n.bindTexture(3553,null));s.depthBuffer&&C(s)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(f(t,d(e)||i.isWebGL2)){var o=e.isWebGLRenderTargetCube?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(o,a),p(o,t,e.width,e.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),k=!0),e=e.texture),x(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===O&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),O=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?w(e,t):_(e,t)}}function Gz(e,t,n){return{convert:function(e){var r;if(e===LR)return 10497;if(e===DR)return 33071;if(e===NR)return 33648;if(e===IR)return 9728;if(e===jR)return 9984;if(e===zR)return 9986;if(e===FR)return 9729;if(e===UR)return 9985;if(e===BR)return 9987;if(e===VR)return 5121;if(e===$R)return 32819;if(e===JR)return 32820;if(e===KR)return 33635;if(e===HR)return 5120;if(e===GR)return 5122;if(e===WR)return 5123;if(e===qR)return 5124;if(e===YR)return 5125;if(e===XR)return 5126;if(e===ZR){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===eL)return 6406;if(e===tL)return 6407;if(e===nL)return 6408;if(e===rL)return 6409;if(e===iL)return 6410;if(e===oL)return 6402;if(e===aL)return 34041;if(e===sL)return 6403;if(e===YO)return 32774;if(e===XO)return 32778;if(e===ZO)return 32779;if(e===KO)return 0;if(e===QO)return 1;if(e===eR)return 768;if(e===tR)return 769;if(e===nR)return 770;if(e===rR)return 771;if(e===iR)return 772;if(e===oR)return 773;if(e===aR)return 774;if(e===sR)return 775;if(e===cR)return 776;if((e===cL||e===lL||e===uL||e===hL)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(e===cL)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===lL)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===uL)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===hL)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===dL||e===fL||e===pL||e===mL)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===dL)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===fL)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===pL)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===mL)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===vL&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===gL||e===yL||e===bL||e===xL||e===wL||e===_L||e===ML||e===SL||e===EL||e===TL||e===PL||e===CL||e===AL||e===kL)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(e===$O||e===JO){if(n.isWebGL2){if(e===$O)return 32775;if(e===JO)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(e===$O)return r.MIN_EXT;if(e===JO)return r.MAX_EXT}}if(e===QR){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Wz(e,t,n,r){pD.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function qz(e,t){var n,r,i,o,a,s,c,l=2,u=e.extensions,h=e.properties,d=0;function f(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===c){var e=u.get("OVR_multiview2");if(c=null!==e&&!1===t.getContextAttributes().antialias){d=t.getParameter(e.MAX_VIEWS_OVR),n=new Wz(0,0,l),s=new nD,o=[],i=[],a=[];for(var r=0;r<d;r++)o[r]=new MD,i[r]=new lD}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>d)return!1;for(var n=1,r=t.length;n<r;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}(t)&&(r=e.getRenderTarget(),function(t){if(r?s.set(r.width,r.height):e.getDrawingBufferSize(s),t.isArrayCamera){var i=t.cameras[0].viewport;n.setSize(i.z,i.w),n.setNumViews(t.cameras.length)}else n.setSize(s.x,s.y),n.setNumViews(l)}(t),e.setRenderTarget(n))},this.detachCamera=function(i){n===e.getRenderTarget()&&(e.setRenderTarget(r),function(e){var r=n,i=r.numViews,o=h.get(r).__webglViewFramebuffers,a=r.width,c=r.height;if(e.isArrayCamera)for(var l=0;l<i;l++){var u=e.cameras[l].viewport,d=u.x,f=u.y,p=d+u.z,m=f+u.w;t.bindFramebuffer(36008,o[l]),t.blitFramebuffer(0,0,a,c,d,f,p,m,16384,9728)}else t.bindFramebuffer(36008,o[0]),t.blitFramebuffer(0,0,a,c,0,0,s.x,s.y,16384,9728)}(i))},this.updateCameraProjectionMatricesUniform=function(e,n){for(var r=f(e),i=0;i<r.length;i++)o[i].copy(r[i].projectionMatrix);n.setValue(t,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(e,n){for(var r=f(e),i=0;i<r.length;i++)o[i].copy(r[i].matrixWorldInverse);n.setValue(t,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(e,n,r){for(var a=f(n),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,e.matrixWorld),i[s].getNormalMatrix(o[s]);r.setValue(t,"modelViewMatrices",o),r.setValue(t,"normalMatrices",i)}}function Yz(){BD.call(this),this.type="Group"}function Xz(e){DI.call(this),this.cameras=e||[]}Wz.prototype=Object.assign(Object.create(pD.prototype),{constructor:Wz,isWebGLMultiviewRenderTarget:!0,copy:function(e){return pD.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),Yz.prototype=Object.assign(Object.create(BD.prototype),{constructor:Yz,isGroup:!0}),Xz.prototype=Object.assign(Object.create(DI.prototype),{constructor:Xz,isArrayCamera:!0});var Zz,$z=new aD,Jz=new aD;function Kz(e,t,n){$z.setFromMatrixPosition(t.matrixWorld),Jz.setFromMatrixPosition(n.matrixWorld);var r=$z.distanceTo(Jz),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,f=a*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+p,g=s+p,y=d-m,b=f+(r-m),x=c*s/g*v,w=l*s/g*v;e.projectionMatrix.makePerspective(y,b,x,w,v,g)}function Qz(e){var t,n,r=this,i=null,o=null,a=null,s=[],c=new MD,l=new MD,u=1,h="local-floor";"undefined"!==typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var d=new MD,f=new rD,p=new aD,m=new DI;m.viewport=new fD,m.layers.enable(1);var v=new DI;v.viewport=new fD,v.layers.enable(2);var g=new Xz([m,v]);function y(){return null!==i&&!0===i.isPresenting}g.layers.enable(1),g.layers.enable(2);var b,x=new nD;function w(){if(y()){var o=i.getEyeParameters("left");t=2*o.renderWidth*u,n=o.renderHeight*u,b=e.getPixelRatio(),e.getSize(x),e.setDrawingBufferSize(t,n,1),m.viewport.set(0,0,t/2,n),v.viewport.set(t/2,0,t/2,n),E.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&e.setDrawingBufferSize(x.width,x.height,b),E.stop(),r.dispatchEvent({type:"sessionend"})}var _=[];function M(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("HTC Vive Focus")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}function S(e,r){null!==r&&4===r.length&&e.set(r[0]*t,r[1]*n,r[2]*t,r[3]*n)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new Yz).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),E.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setReferenceSpaceType=function(e){h=e},this.setPoseTarget=function(e){void 0!==e&&(a=e)},this.getCamera=function(e){var t="local-floor"===h?1.6:0;if(!1===y())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(o),"local-floor"===h){var n=i.stageParameters;n?c.fromArray(n.sittingToStandingTransform):c.makeTranslation(0,t,0)}var r=o.pose,u=null!==a?a:e;u.matrix.copy(c),u.matrix.decompose(u.position,u.quaternion,u.scale),null!==r.orientation&&(f.fromArray(r.orientation),u.quaternion.multiply(f)),null!==r.position&&(f.setFromRotationMatrix(c),p.fromArray(r.position),p.applyQuaternion(f),u.position.add(p)),u.updateMatrixWorld(),m.near=e.near,v.near=e.near,m.far=e.far,v.far=e.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),v.matrixWorldInverse.fromArray(o.rightViewMatrix),l.getInverse(c),"local-floor"===h&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var b=u.parent;null!==b&&(d.getInverse(b.matrixWorld),m.matrixWorldInverse.multiply(d),v.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),v.projectionMatrix.fromArray(o.rightProjectionMatrix),Kz(g,m,v);var x=i.getLayers();if(x.length){var w=x[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],n=M(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(c),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===_[e]&&(_[e]=!1),_[e]!==n.buttons[i].pressed&&(_[e]=n.buttons[i].pressed,!0===_[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return c},this.isPresenting=y;var E=new ZI;this.setAnimationLoop=function(e){E.setAnimationLoop(e),y()&&E.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function eF(e,t){var n=this,r=null,i=null,o="local-floor",a=null,s=[],c=[];function l(){return null!==r&&null!==i}var u=new DI;u.layers.enable(1),u.viewport=new fD;var h=new DI;h.layers.enable(2),h.viewport=new fD;var d=new Xz([u,h]);function f(e){for(var t=0;t<s.length;t++)c[t]===e.inputSource&&s[t].dispatchEvent({type:e.type})}function p(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop(),n.dispatchEvent({type:"sessionend"})}function m(e){i=e,y.setContext(r),y.start(),n.dispatchEvent({type:"sessionstart"})}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new Yz).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){o=e},this.getSession=function(){return r},this.setSession=function(e){null!==(r=e)&&(r.addEventListener("select",f),r.addEventListener("selectstart",f),r.addEventListener("selectend",f),r.addEventListener("end",p),r.updateRenderState({baseLayer:new XRWebGLLayer(r,t)}),r.requestReferenceSpace(o).then(m),c=r.inputSources,r.addEventListener("inputsourceschange",(function(){c=r.inputSources,console.log(c);for(var e=0;e<s.length;e++){s[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(l()){var t=e.parent,n=d.cameras;v(d,t);for(var r=0;r<n.length;r++)v(n[r],t);e.matrixWorld.copy(d.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return Kz(d,u,h),d}return e},this.isPresenting=l;var g=null;var y=new ZI;y.setAnimationLoop((function(t,n){if(null!==(a=n.getViewerPose(i))){var o=a.views,l=r.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var u=0;u<o.length;u++){var h=o[u],f=l.getViewport(h),p=h.transform.inverse.matrix,m=d.cameras[u];m.matrix.fromArray(p).getInverse(m.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),0===u&&d.matrix.copy(m.matrix)}}for(u=0;u<s.length;u++){var v=s[u],y=c[u];if(y){var b=n.getPose(y.targetRaySpace,i);if(null!==b){v.matrix.fromArray(b.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.visible=!0;continue}}v.visible=!1}g&&g(t)})),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new MD},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function tF(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=wR,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,p,m,v,g,y,b,x,w,_,M,S,E,T,P,C,A,k,O=this,R=!1,L=null,D=0,N=0,I=null,j=null,z=-1,F={geometry:null,program:null,wireframe:!1},U=null,B=null,V=new fD,H=new fD,G=null,W=t.width,q=t.height,Y=1,X=new fD(0,0,W,q),Z=new fD(0,0,W,q),$=!1,J=new WI,K=new nj,Q=!1,ee=!1,te=new MD,ne=new aD;function re(){return null===I?Y:1}try{var ie={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ue,!1),null===(f=n||t.getContext("webgl",ie)||t.getContext("experimental-webgl",ie)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Me){throw console.error("THREE.WebGLRenderer: "+Me.message),Me}function oe(){p=new rj(f),!1===(m=new tj(f,p,e)).isWebGL2&&(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),k=new Gz(f,p,m),(v=new Vz(f,p,k,m)).scissor(H.copy(Z).multiplyScalar(Y).floor()),v.viewport(V.copy(X).multiplyScalar(Y).floor()),g=new aj(f),y=new Tz,b=new Hz(f,p,v,y,m,k,g),x=new $I(f),w=new ij(f,x,g),_=new lj(f,w,x,g),P=new cj(f),M=new Ez(O,p,m),S=new kz,E=new Iz,T=new QI(O,v,_,s),C=new ej(f,p,g,m),A=new oj(f,p,g,m),g.programs=M.programs,O.capabilities=m,O.extensions=p,O.properties=y,O.renderLists=S,O.state=v,O.info=g}oe();var ae="undefined"!==typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new eF(O,f):new Qz(O);this.vr=ae;var se=new qz(O,f),ce=new Bz(O,_,m.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1,oe()}function he(e){var t=e.target;t.removeEventListener("dispose",he),function(e){de(e),y.remove(e)}(t)}function de(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&M.releaseProgram(t)}this.shadowMap=ce,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(W,q,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new nD),e.set(W,q)},this.setSize=function(e,n,r){ae.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,q=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new nD),e.set(W*Y,q*Y).floor()},this.setDrawingBufferSize=function(e,n,r){W=e,q=n,Y=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new fD),e.copy(V)},this.getViewport=function(e){return e.copy(X)},this.setViewport=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),v.viewport(V.copy(X).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(Z)},this.setScissor=function(e,t,n,r){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,n,r),v.scissor(H.copy(Z).multiplyScalar(Y).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(e){v.setScissorTest($=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ue,!1),S.dispose(),E.dispose(),y.dispose(),_.dispose(),ae.dispose(),pe.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var n=y.get(e);e.hasPositions&&!n.position&&(n.position=f.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),e.hasColors&&!n.color&&(n.color=f.createBuffer());var r=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,e.positionArray,35048),v.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,e.normalArray,35048),v.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,e.uvArray,35048),v.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,e.colorArray,35048),v.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0;v.setMaterial(r,a);var s=be(e,t,r,i),c=!1;F.geometry===n.id&&F.program===s.id&&F.wireframe===(!0===r.wireframe)||(F.geometry=n.id,F.program=s.id,F.wireframe=!0===r.wireframe,c=!0),i.morphTargetInfluences&&(P.update(i,n,r,s),c=!0);var l,u=n.index,h=n.attributes.position,d=1;!0===r.wireframe&&(u=w.getWireframeAttribute(n),d=2);var g=C;null!==u&&(l=x.get(u),(g=A).setIndex(l)),c&&(!function(e,t,n,r){if(!1===m.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===p.get("ANGLE_instanced_arrays"))return;v.initAttributes();var i=t.attributes,o=r.getAttributes(),a=n.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var l=i[s];if(void 0!==l){var u=l.normalized,h=l.itemSize;if(void 0===(M=x.get(l)))continue;var d=M.buffer,g=M.type,y=M.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,w=b.stride,_=l.offset;b&&b.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(c,b.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=b.meshPerAttribute*b.count)):v.enableAttribute(c),f.bindBuffer(34962,d),f.vertexAttribPointer(c,h,g,u,w*y,_*y)}else l.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):v.enableAttribute(c),f.bindBuffer(34962,d),f.vertexAttribPointer(c,h,g,u,0,0)}else if("instanceMatrix"===s){var M;if(void 0===(M=x.get(e.instanceMatrix)))continue;d=M.buffer,g=M.type;v.enableAttributeAndDivisor(c+0,1),v.enableAttributeAndDivisor(c+1,1),v.enableAttributeAndDivisor(c+2,1),v.enableAttributeAndDivisor(c+3,1),f.bindBuffer(34962,d),f.vertexAttribPointer(c+0,4,g,!1,64,0),f.vertexAttribPointer(c+1,4,g,!1,64,16),f.vertexAttribPointer(c+2,4,g,!1,64,32),f.vertexAttribPointer(c+3,4,g,!1,64,48)}else if(void 0!==a){var S=a[s];if(void 0!==S)switch(S.length){case 2:f.vertexAttrib2fv(c,S);break;case 3:f.vertexAttrib3fv(c,S);break;case 4:f.vertexAttrib4fv(c,S);break;default:f.vertexAttrib1fv(c,S)}}}}v.disableUnusedAttributes()}(i,n,r,s),null!==u&&f.bindBuffer(34963,l.buffer));var y=1/0;null!==u?y=u.count:void 0!==h&&(y=h.count);var b=n.drawRange.start*d,_=n.drawRange.count*d,M=null!==o?o.start*d:0,S=null!==o?o.count*d:1/0,E=Math.max(b,M),T=Math.min(y,b+_,M+S)-1,k=Math.max(0,T-E+1);if(0!==k){if(i.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*re()),g.setMode(1);else switch(i.drawMode){case jL:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(i.isLine){var O=r.linewidth;void 0===O&&(O=1),v.setLineWidth(O*re()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);i.isInstancedMesh?g.renderInstances(n,E,k,i.count):n.isInstancedBufferGeometry?g.renderInstances(n,E,k,n.maxInstancedCount):g.render(E,k)}},this.compile=function(e,t){(d=E.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)ye(t.material[n],e.fog,t);else ye(t.material,e.fog,t)}))};var fe=null;var pe=new ZI;function me(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(te);var i=_.update(e);(o=e.material).visible&&h.push(e,i,o,n,ne.z,null)}}else if(e.isImmediateRenderObject)r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(te),h.push(e,null,e.material,n,ne.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==g.render.frame&&(e.skeleton.update(),e.skeleton.frame=g.render.frame),!e.frustumCulled||J.intersectsObject(e))){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(te);i=_.update(e);var o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,c=a.length;s<c;s++){var l=a[s],u=o[l.materialIndex];u&&u.visible&&h.push(e,i,u,n,ne.z,l)}else o.visible&&h.push(e,i,o,n,ne.z,null)}var f=e.children;for(s=0,c=f.length;s<c;s++)me(f[s],t,n,r)}}function ve(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===r?a.material:r,u=a.group;if(n.isArrayCamera)if(B=n,ae.enabled&&se.isAvailable())ge(s,t,n,c,l,u);else for(var h=n.cameras,f=0,p=h.length;f<p;f++){var m=h[f];s.layers.test(m.layers)&&(v.viewport(V.copy(m.viewport)),d.setupLights(m),ge(s,t,m,c,l,u))}else B=null,ge(s,t,n,c,l,u)}}function ge(e,t,n,r,i,o){if(e.onBeforeRender(O,t,n,r,i,o),d=E.get(t,B||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){v.setMaterial(i);var a=be(n,t.fog,i,e);F.geometry=null,F.program=null,F.wireframe=!1,function(e,t){e.render((function(e){O.renderBufferImmediate(e,t)}))}(e,a)}else O.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(O,t,n,r,i,o),d=E.get(t,B||n)}function ye(e,t,n){var r=y.get(e),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=M.getParameters(e,i.state,o,t,K.numPlanes,K.numIntersection,n),c=M.getProgramCode(e,s),l=r.program,u=!0;if(void 0===l)e.addEventListener("dispose",he);else if(l.code!==c)de(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}if(u){if(s.shaderID){var h=XI[s.shaderID];r.shader={name:e.type,uniforms:CI(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,O),c=M.getProgramCode(e,s),l=M.acquireProgram(e,r.shader,s,c),r.program=l,e.program=l}var f=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<O.maxMorphTargets;p++)f["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<O.maxMorphNormals;p++)f["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=K.numPlanes,r.numIntersection=K.numIntersection,m.clippingPlanes=K.uniform),r.fog=t,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var v=r.program.getUniforms(),g=az.seqWithValue(v.seq,m);r.uniformsList=g}function be(e,t,n,r){b.resetTextureUnits();var i=y.get(n),o=d.state.lights;if(Q&&(ee||e!==U)){var a=e===U&&n.id===z;K.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,a)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t||i.needsLights&&i.lightsStateVersion!==o.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===K.numPlanes&&i.numIntersection===K.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(ye(n,t,r),n.needsUpdate=!1);var s=!1,c=!1,l=!1,u=i.program,h=u.getUniforms(),p=i.shader.uniforms;if(v.useProgram(u.program)&&(s=!0,c=!0,l=!0),n.id!==z&&(z=n.id,c=!0),s||U!==e){if(u.numMultiviewViews>0?se.updateCameraProjectionMatricesUniform(e,h):h.setValue(f,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&h.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,c=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var g=h.map.cameraPosition;void 0!==g&&g.setValue(f,ne.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(u.numMultiviewViews>0?se.updateCameraViewMatricesUniform(e,h):h.setValue(f,"viewMatrix",e.matrixWorldInverse))}if(n.skinning){h.setOptional(f,r,"bindMatrix"),h.setOptional(f,r,"bindMatrixInverse");var x=r.skeleton;if(x){var w=x.bones;if(m.floatVertexTextures){if(void 0===x.boneTexture){var _=Math.sqrt(4*w.length);_=tD.ceilPowerOfTwo(_),_=Math.max(_,4);var M=new Float32Array(_*_*4);M.set(x.boneMatrices);var S=new zI(M,_,_,nL,XR);x.boneMatrices=M,x.boneTexture=S,x.boneTextureSize=_}h.setValue(f,"boneTexture",x.boneTexture,b),h.setValue(f,"boneTextureSize",x.boneTextureSize)}else h.setOptional(f,x,"boneMatrices")}}return(c||i.receiveShadow!==r.receiveShadow)&&(i.receiveShadow=r.receiveShadow,h.setValue(f,"receiveShadow",r.receiveShadow)),c&&(h.setValue(f,"toneMappingExposure",O.toneMappingExposure),h.setValue(f,"toneMappingWhitePoint",O.toneMappingWhitePoint),i.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(p,l),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(p,t),n.isMeshBasicMaterial?xe(p,n):n.isMeshLambertMaterial?(xe(p,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(p,n)):n.isMeshPhongMaterial?(xe(p,n),n.isMeshToonMaterial?function(e,t){we(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(p,n):we(p,n)):n.isMeshStandardMaterial?(xe(p,n),n.isMeshPhysicalMaterial?function(e,t){_e(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===jO&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(p,n):_e(p,n)):n.isMeshMatcapMaterial?(xe(p,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===jO&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===jO&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(p,n)):n.isMeshDepthMaterial?(xe(p,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(p,n)):n.isMeshDistanceMaterial?(xe(p,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(p,n)):n.isMeshNormalMaterial?(xe(p,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===jO&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===jO&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(p,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(p,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(p,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*q,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(p,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(p,n):n.isShadowMaterial&&(p.color.value.copy(n.color),p.opacity.value=n.opacity),void 0!==p.ltc_1&&(p.ltc_1.value=YI.LTC_1),void 0!==p.ltc_2&&(p.ltc_2.value=YI.LTC_2),az.upload(f,i.uniformsList,p,b)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(az.upload(f,i.uniformsList,p,b),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&h.setValue(f,"center",r.center),u.numMultiviewViews>0?se.updateObjectMatricesUniforms(r,e,h):(h.setValue(f,"modelViewMatrix",r.modelViewMatrix),h.setValue(f,"normalMatrix",r.normalMatrix)),h.setValue(f,"modelMatrix",r.matrixWorld),u}function xe(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function we(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===jO&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===jO&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function _e(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===jO&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===jO&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}pe.setAnimationLoop((function(e){ae.isPresenting()||fe&&fe(e)})),"undefined"!==typeof window&&pe.setContext(window),this.setAnimationLoop=function(e){fe=e,ae.setAnimationLoop(e),pe.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!R){F.geometry=null,F.program=null,F.wireframe=!1,z=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ae.enabled&&(t=ae.getCamera(t)),(d=E.get(e,t)).init(),e.onBeforeRender(O,e,t,n||I),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromMatrix(te),ee=this.localClippingEnabled,Q=K.init(this.clippingPlanes,ee,t),(h=S.get(e,t)).init(),me(e,t,0,O.sortObjects),!0===O.sortObjects&&h.sort(),Q&&K.beginShadows();var i=d.state.shadowsArray;ce.render(i,e,t),d.setupLights(t),Q&&K.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ae.enabled&&se.isAvailable()&&se.attachCamera(t),T.render(h,e,t,r);var o=h.opaque,a=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&ve(o,e,t,s),a.length&&ve(a,e,t,s)}else o.length&&ve(o,e,t),a.length&&ve(a,e,t);e.onAfterRender(O,e,t),null!==I&&(b.updateRenderTargetMipmap(I),b.updateMultisampleRenderTarget(I)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ae.enabled&&(se.isAvailable()&&se.detachCamera(t),ae.submitFrame()),h=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){L!==e&&f.bindFramebuffer(36160,e),L=e},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return I},this.setRenderTarget=function(e,t,n){I=e,D=t,N=n,e&&void 0===y.get(e).__webglFramebuffer&&b.setupRenderTarget(e);var r=L,i=!1;if(e){var o=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=o[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:o,V.copy(e.viewport),H.copy(e.scissor),G=e.scissorTest}else V.copy(X).multiplyScalar(Y).floor(),H.copy(Z).multiplyScalar(Y).floor(),G=$;if(j!==r&&(f.bindFramebuffer(36160,r),j=r),v.viewport(V),v.scissor(H),v.setScissorTest(G),i){var a=y.get(e.texture);f.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=y.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==a&&(s=s[a]),s){var c=!1;s!==j&&(f.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,u=l.format,h=l.type;if(u!==nL&&k.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==VR&&k.convert(h)!==f.getParameter(35738)&&(h!==XR||!(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float")))&&(h!==ZR||!(m.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&f.readPixels(t,n,r,i,k.convert(u),k.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&f.bindFramebuffer(36160,j)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=k.convert(t.format);b.setTexture2D(t,0),f.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=k.convert(n.format),s=k.convert(n.type);b.setTexture2D(n,0),t.isDataTexture?f.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):f.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function nF(e,t){this.name="",this.color=new PN(e),this.density=void 0!==t?t:25e-5}function rF(e,t,n){this.name="",this.color=new PN(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function iF(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function oF(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function aF(e){LN.call(this),this.type="SpriteMaterial",this.color=new PN(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(Qz.prototype,KL.prototype),Object.assign(eF.prototype,KL.prototype),Object.assign(nF.prototype,{isFogExp2:!0,clone:function(){return new nF(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(rF.prototype,{isFog:!0,clone:function(){return new rF(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(iF.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(iF.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(oF.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(oF.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),aF.prototype=Object.create(LN.prototype),aF.prototype.constructor=aF,aF.prototype.isSpriteMaterial=!0,aF.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var sF=new aD,cF=new aD,lF=new aD,uF=new nD,hF=new nD,dF=new MD,fF=new aD,pF=new aD,mF=new aD,vF=new nD,gF=new nD,yF=new nD;function bF(e){if(BD.call(this),this.type="Sprite",void 0===Zz){Zz=new eI;var t=new iF(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Zz.setIndex([0,1,2,0,2,3]),Zz.addAttribute("position",new oF(t,3,0,!1)),Zz.addAttribute("uv",new oF(t,2,3,!1))}this.geometry=Zz,this.material=void 0!==e?e:new aF,this.center=new nD(.5,.5)}function xF(e,t,n,r,i,o){uF.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(hF.x=o*uF.x-i*uF.y,hF.y=i*uF.x+o*uF.y):hF.copy(uF),e.copy(t),e.x+=hF.x,e.y+=hF.y,e.applyMatrix4(dF)}bF.prototype=Object.assign(Object.create(BD.prototype),{constructor:bF,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cF.setFromMatrixScale(this.matrixWorld),dF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lF.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&cF.multiplyScalar(-lF.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;xF(fF.set(-.5,-.5,0),lF,o,cF,n,r),xF(pF.set(.5,-.5,0),lF,o,cF,n,r),xF(mF.set(.5,.5,0),lF,o,cF,n,r),vF.set(0,0),gF.set(1,0),yF.set(1,1);var a=e.ray.intersectTriangle(fF,pF,mF,!1,sF);if(null!==a||(xF(pF.set(-.5,.5,0),lF,o,cF,n,r),gF.set(0,1),null!==(a=e.ray.intersectTriangle(fF,mF,pF,!1,sF)))){var s=e.ray.origin.distanceTo(sF);s<e.near||s>e.far||t.push({distance:s,point:sF.clone(),uv:MN.getUV(sF,fF,pF,mF,vF,gF,yF,new nD),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return BD.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var wF=new aD,_F=new aD;function MF(){BD.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function SF(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),yI.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new MD,this.bindMatrixInverse=new MD}MF.prototype=Object.assign(Object.create(BD.prototype),{constructor:MF,isLOD:!0,copy:function(e){BD.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(e,t){wF.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(wF);this.getObjectForDistance(n).raycast(e,t)},update:function(e){var t=this.levels;if(t.length>1){wF.setFromMatrixPosition(e.matrixWorld),_F.setFromMatrixPosition(this.matrixWorld);var n=wF.distanceTo(_F);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=BD.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),SF.prototype=Object.assign(Object.create(yI.prototype),{constructor:SF,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new fD,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){yI.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var EF=new MD,TF=new MD;function PF(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new MD)}}function CF(){BD.call(this),this.type="Bone"}function AF(e,t,n){yI.call(this,e,t),this.instanceMatrix=new NN(new Float32Array(16*n),16),this.count=n}function kF(e){LN.call(this),this.type="LineBasicMaterial",this.color=new PN(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}Object.assign(PF.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new MD;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:TF;EF.multiplyMatrices(a,t[i]),EF.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new PF(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),CF.prototype=Object.assign(Object.create(BD.prototype),{constructor:CF,isBone:!0}),AF.prototype=Object.assign(Object.create(yI.prototype),{constructor:AF,isInstancedMesh:!0,raycast:function(){},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),kF.prototype=Object.create(LN.prototype),kF.prototype.constructor=kF,kF.prototype.isLineBasicMaterial=!0,kF.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var OF=new aD,RF=new aD,LF=new MD,DF=new dN,NF=new iN;function IF(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),BD.call(this),this.type="Line",this.geometry=void 0!==e?e:new eI,this.material=void 0!==t?t:new kF({color:16777215*Math.random()})}IF.prototype=Object.assign(Object.create(BD.prototype),{constructor:IF,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)OF.fromBufferAttribute(t,r-1),RF.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=OF.distanceTo(RF);e.addAttribute("lineDistance",new HN(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),NF.copy(r.boundingSphere),NF.applyMatrix4(i),NF.radius+=n,!1!==e.ray.intersectsSphere(NF)){LF.getInverse(i),DF.copy(e.ray).applyMatrix4(LF);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new aD,c=new aD,l=new aD,u=new aD,h=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,f=r.attributes.position.array;if(null!==d)for(var p=d.array,m=0,v=p.length-1;m<v;m+=h){var g=p[m],y=p[m+1];if(s.fromArray(f,3*g),c.fromArray(f,3*y),!(DF.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}else for(m=0,v=f.length/3-1;m<v;m+=h){if(s.fromArray(f,3*m),c.fromArray(f,3*m+3),!(DF.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){var b=r.vertices,x=b.length;for(m=0;m<x-1;m+=h){var w;if(!(DF.distanceSqToSegment(b[m],b[m+1],u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jF=new aD,zF=new aD;function FF(e,t){IF.call(this,e,t),this.type="LineSegments"}function UF(e,t){IF.call(this,e,t),this.type="LineLoop"}function BF(e){LN.call(this),this.type="PointsMaterial",this.color=new PN(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}FF.prototype=Object.assign(Object.create(IF.prototype),{constructor:FF,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)jF.fromBufferAttribute(t,r),zF.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+jF.distanceTo(zF);e.addAttribute("lineDistance",new HN(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for(n=e.lineDistances,r=0,i=o.length;r<i;r+=2)jF.copy(o[r]),zF.copy(o[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+jF.distanceTo(zF)}return this}}),UF.prototype=Object.assign(Object.create(IF.prototype),{constructor:UF,isLineLoop:!0}),BF.prototype=Object.create(LN.prototype),BF.prototype.constructor=BF,BF.prototype.isPointsMaterial=!0,BF.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var VF=new MD,HF=new dN,GF=new iN,WF=new aD;function qF(e,t){BD.call(this),this.type="Points",this.geometry=void 0!==e?e:new eI,this.material=void 0!==t?t:new BF({color:16777215*Math.random()}),this.updateMorphTargets()}function YF(e,t,n,r,i,o,a){var s=HF.distanceSqToPoint(e);if(s<n){var c=new aD;HF.closestPointToPoint(e,c),c.applyMatrix4(r);var l=i.ray.origin.distanceTo(c);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function XF(e,t,n,r,i,o,a,s,c){dD.call(this,e,t,n,r,i,o,a,s,c),this.format=void 0!==a?a:tL,this.minFilter=void 0!==o?o:FR,this.magFilter=void 0!==i?i:FR,this.generateMipmaps=!1}function ZF(e,t,n,r,i,o,a,s,c,l,u,h){dD.call(this,null,o,a,s,c,l,r,i,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function $F(e,t,n,r,i,o,a,s,c){dD.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function JF(e,t,n,r,i,o,a,s,c,l){if((l=void 0!==l?l:oL)!==oL&&l!==aL)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===oL&&(n=WR),void 0===n&&l===aL&&(n=QR),dD.call(this,null,r,i,o,a,s,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:IR,this.minFilter=void 0!==s?s:IR,this.flipY=!1,this.generateMipmaps=!1}function KF(e){eI.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,c,l,u,h=[],d=[0,0],f={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(n=0;n<3;n++)s=v[p[n]],c=v[p[(n+1)%3]],d[0]=Math.min(s,c),d[1]=Math.max(s,c),void 0===f[l=d[0]+","+d[1]]&&(f[l]={index1:d[0],index2:d[1]})}for(l in f)a=f[l],u=e.vertices[a.index1],h.push(u.x,u.y,u.z),u=e.vertices[a.index2],h.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var g,y,b,x,w,_,M;if(u=new aD,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=w=(x=b[i]).start,r=w+x.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),c=y.getX(t+(n+1)%3),d[0]=Math.min(s,c),d[1]=Math.max(s,c),void 0===f[l=d[0]+","+d[1]]&&(f[l]={index1:d[0],index2:d[1]});for(l in f)a=f[l],u.fromBufferAttribute(g,a.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(g,a.index2),h.push(u.x,u.y,u.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)_=3*t+n,u.fromBufferAttribute(g,_),h.push(u.x,u.y,u.z),M=3*t+(n+1)%3,u.fromBufferAttribute(g,M),h.push(u.x,u.y,u.z)}this.addAttribute("position",new HN(h,3))}function QF(e,t,n){EI.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new eU(e,t,n)),this.mergeVertices()}function eU(e,t,n){eI.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],c=[],l=1e-5,u=new aD,h=new aD,d=new aD,f=new aD,p=new aD;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var v=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,v,h),a.push(h.x,h.y,h.z),g-l>=0?(e(g-l,v,d),f.subVectors(h,d)):(e(g+l,v,d),f.subVectors(d,h)),v-l>=0?(e(g,v-l,d),p.subVectors(h,d)):(e(g,v+l,d),p.subVectors(d,h)),u.crossVectors(f,p).normalize(),s.push(u.x,u.y,u.z),c.push(g,v)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,w=(r+1)*m+i;o.push(y,b,w),o.push(b,x,w)}this.setIndex(o),this.addAttribute("position",new HN(a,3)),this.addAttribute("normal",new HN(s,3)),this.addAttribute("uv",new HN(c,2))}function tU(e,t,n,r){EI.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new nU(e,t,n,r)),this.mergeVertices()}function nU(e,t,n,r){eI.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),c=[];for(i=0;i<=a;i++){c[i]=[];var l=e.clone().lerp(n,i/a),u=t.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)c[i][o]=0===o&&i===a?l:l.clone().lerp(u,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var d=Math.floor(o/2);o%2===0?(s(c[i][d+1]),s(c[i+1][d]),s(c[i][d])):(s(c[i][d+1]),s(c[i+1][d+1]),s(c[i+1][d]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new aD,r=new aD,i=new aD,o=0;o<t.length;o+=3)c(t[o+0],n),c(t[o+1],r),c(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new aD,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new aD,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=u(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new aD,t=new aD,n=new aD,r=new aD,a=new nD,s=new nD,c=new nD,h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),c.set(o[d+4],o[d+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=u(r);l(a,d+0,e,f),l(s,d+2,t,f),l(c,d+4,n,f)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new HN(i,3)),this.addAttribute("normal",new HN(i.slice(),3)),this.addAttribute("uv",new HN(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function rU(e,t){EI.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new iU(e,t)),this.mergeVertices()}function iU(e,t){nU.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function oU(e,t){EI.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new aU(e,t)),this.mergeVertices()}function aU(e,t){nU.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function sU(e,t){EI.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new cU(e,t)),this.mergeVertices()}function cU(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];nU.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function lU(e,t){EI.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new uU(e,t)),this.mergeVertices()}function uU(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];nU.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function hU(e,t,n,r,i,o){EI.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new dU(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function dU(e,t,n,r,i){eI.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new aD,l=new aD,u=new nD,h=new aD,d=[],f=[],p=[],m=[];function v(i){h=e.getPointAt(i/t,h);var a=o.normals[i],u=o.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);l.x=v*a.x+m*u.x,l.y=v*a.y+m*u.y,l.z=v*a.z+m*u.z,l.normalize(),f.push(l.x,l.y,l.z),c.x=h.x+n*l.x,c.y=h.y+n*l.y,c.z=h.z+n*l.z,d.push(c.x,c.y,c.z)}}!function(){for(a=0;a<t;a++)v(a);v(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)u.x=a/t,u.y=s/r,p.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new HN(d,3)),this.addAttribute("normal",new HN(f,3)),this.addAttribute("uv",new HN(p,2))}function fU(e,t,n,r,i,o,a){EI.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new pU(e,t,n,r,i,o)),this.mergeVertices()}function pU(e,t,n,r,i,o){eI.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,c=[],l=[],u=[],h=[],d=new aD,f=new aD,p=new aD,m=new aD,v=new aD,g=new aD,y=new aD;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(P(b,i,o,e,p),P(b+.01,i,o,e,m),g.subVectors(m,p),y.addVectors(m,p),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,w=-t*Math.cos(x),_=t*Math.sin(x);d.x=p.x+(w*y.x+_*v.x),d.y=p.y+(w*y.y+_*v.y),d.z=p.z+(w*y.z+_*v.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),u.push(f.x,f.y,f.z),h.push(a/n),h.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var M=(r+1)*(s-1)+(a-1),S=(r+1)*s+(a-1),E=(r+1)*s+a,T=(r+1)*(s-1)+a;c.push(M,S,T),c.push(S,E,T)}function P(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new HN(l,3)),this.addAttribute("normal",new HN(u,3)),this.addAttribute("uv",new HN(h,2))}function mU(e,t,n,r,i){EI.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new vU(e,t,n,r,i)),this.mergeVertices()}function vU(e,t,n,r,i){eI.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],c=[],l=[],u=[],h=new aD,d=new aD,f=new aD;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var p=a/r*i,m=o/n*Math.PI*2;d.x=(e+t*Math.cos(m))*Math.cos(p),d.y=(e+t*Math.cos(m))*Math.sin(p),d.z=t*Math.sin(m),c.push(d.x,d.y,d.z),h.x=e*Math.cos(p),h.y=e*Math.sin(p),f.subVectors(d,h).normalize(),l.push(f.x,f.y,f.z),u.push(a/r),u.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new HN(c,3)),this.addAttribute("normal",new HN(l,3)),this.addAttribute("uv",new HN(u,2))}qF.prototype=Object.assign(Object.create(BD.prototype),{constructor:qF,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),GF.copy(n.boundingSphere),GF.applyMatrix4(r),GF.radius+=i,!1!==e.ray.intersectsSphere(GF)){VF.getInverse(r),HF.copy(e.ray).applyMatrix4(VF);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,c=n.attributes.position.array;if(null!==s)for(var l=s.array,u=0,h=l.length;u<h;u++){var d=l[u];WF.fromArray(c,3*d),YF(WF,d,a,r,e,t,this)}else{u=0;for(var f=c.length/3;u<f;u++)WF.fromArray(c,3*u),YF(WF,u,a,r,e,t,this)}}else{var p=n.vertices;for(u=0,f=p.length;u<f;u++)YF(p[u],u,a,r,e,t,this)}}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),XF.prototype=Object.assign(Object.create(dD.prototype),{constructor:XF,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ZF.prototype=Object.create(dD.prototype),ZF.prototype.constructor=ZF,ZF.prototype.isCompressedTexture=!0,$F.prototype=Object.create(dD.prototype),$F.prototype.constructor=$F,$F.prototype.isCanvasTexture=!0,JF.prototype=Object.create(dD.prototype),JF.prototype.constructor=JF,JF.prototype.isDepthTexture=!0,KF.prototype=Object.create(eI.prototype),KF.prototype.constructor=KF,QF.prototype=Object.create(EI.prototype),QF.prototype.constructor=QF,eU.prototype=Object.create(eI.prototype),eU.prototype.constructor=eU,tU.prototype=Object.create(EI.prototype),tU.prototype.constructor=tU,nU.prototype=Object.create(eI.prototype),nU.prototype.constructor=nU,rU.prototype=Object.create(EI.prototype),rU.prototype.constructor=rU,iU.prototype=Object.create(nU.prototype),iU.prototype.constructor=iU,oU.prototype=Object.create(EI.prototype),oU.prototype.constructor=oU,aU.prototype=Object.create(nU.prototype),aU.prototype.constructor=aU,sU.prototype=Object.create(EI.prototype),sU.prototype.constructor=sU,cU.prototype=Object.create(nU.prototype),cU.prototype.constructor=cU,lU.prototype=Object.create(EI.prototype),lU.prototype.constructor=lU,uU.prototype=Object.create(nU.prototype),uU.prototype.constructor=uU,hU.prototype=Object.create(EI.prototype),hU.prototype.constructor=hU,dU.prototype=Object.create(eI.prototype),dU.prototype.constructor=dU,dU.prototype.toJSON=function(){var e=eI.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},fU.prototype=Object.create(EI.prototype),fU.prototype.constructor=fU,pU.prototype=Object.create(eI.prototype),pU.prototype.constructor=pU,mU.prototype=Object.create(EI.prototype),mU.prototype.constructor=mU,vU.prototype=Object.create(eI.prototype),vU.prototype.constructor=vU;var gU=function(e,t,n){n=n||2;var r,i,o,a,s,c,l,u=t&&t.length,h=u?t[0]*n:e.length,d=yU(e,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(u&&(d=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=yU(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(CU(a));for(s.sort(EU),i=0;i<s.length;i++)TU(s[i],n),n=bU(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<h;p+=n)(s=e[p])<r&&(r=s),(c=e[p+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return xU(d,f,n,r,i,l),f};function yU(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=IU(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=IU(o,e[o],e[o+1],a);return a&&RU(a,a.next)&&(jU(a),a=a.next),a}function bU(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!RU(r,r.next)&&0!==OU(r.prev,r,r.next))r=r.next;else{if(jU(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function xU(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=PU(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,o);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?_U(e,r,i,o):wU(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),jU(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?xU(e=MU(e,t,n),t,n,r,i,o,2):2===a&&SU(e,t,n,r,i,o):xU(bU(e),t,n,r,i,o,1);break}}}function wU(e){var t=e.prev,n=e,r=e.next;if(OU(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(AU(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&OU(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function _U(e,t,n,r){var i=e.prev,o=e,a=e.next;if(OU(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=PU(s,c,t,n,r),d=PU(l,u,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&AU(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&OU(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&AU(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&OU(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&AU(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&OU(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&AU(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&OU(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function MU(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!RU(i,o)&&LU(i,r,r.next,o)&&DU(i,o)&&DU(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),jU(r),jU(r.next),r=e=o),r=r.next}while(r!==e);return r}function SU(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&kU(a,s)){var c=NU(a,s);return a=bU(a,a.next),c=bU(c,c.next),xU(a,t,n,r,i,o),void xU(c,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function EU(e,t){return e.x-t.x}function TU(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var c,l=n,u=n.x,h=n.y,d=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=u&&i!==r.x&&AU(o<h?i:a,o,u,h,o<h?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<d||c===d&&r.x>n.x)&&DU(r,e)&&(n=r,d=c),r=r.next;return n}(e,t),t){var n=NU(t,e);bU(n,n.next)}}function PU(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function CU(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function AU(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function kU(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&LU(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&DU(e,t)&&DU(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function OU(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function RU(e,t){return e.x===t.x&&e.y===t.y}function LU(e,t,n,r){return!!(RU(e,n)&&RU(t,r)||RU(e,r)&&RU(n,t))||OU(e,t,n)>0!==OU(e,t,r)>0&&OU(n,r,e)>0!==OU(n,r,t)>0}function DU(e,t){return OU(e.prev,e,e.next)<0?OU(e,t,e.next)>=0&&OU(e,e.prev,t)>=0:OU(e,t,e.prev)<0||OU(e,e.next,t)<0}function NU(e,t){var n=new zU(e.i,e.x,e.y),r=new zU(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function IU(e,t,n,r){var i=new zU(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function jU(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function zU(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var FU={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return FU.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];UU(e),BU(n,e);var o=e.length;t.forEach(UU);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,BU(n,t[a]);var s=gU(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function UU(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function BU(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function VU(e,t){EI.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new HU(e,t)),this.mergeVertices()}function HU(e,t){eI.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:GU;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var v,g,y,b,x,w,_,M,S=!1;p&&(v=p.getSpacedPoints(s),S=!0,l=!1,g=p.computeFrenetFrames(s,!1),y=new aD,b=new aD,x=new aD),l||(f=0,u=0,h=0,d=0);var E=e.extractPoints(a),T=E.shape,P=E.holes;if(!FU.isClockWise(T))for(T=T.reverse(),_=0,M=P.length;_<M;_++)w=P[_],FU.isClockWise(w)&&(P[_]=w.reverse());var C=FU.triangulateShape(T,P),A=T;for(_=0,M=P.length;_<M;_++)w=P[_],T=T.concat(w);function k(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var O,R,L,D,N,I,j=T.length,z=C.length;function F(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,c=n.x-e.x,l=n.y-e.y,u=a*a+s*s,h=a*l-s*c;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),f=Math.sqrt(c*c+l*l),p=t.x-s/d,m=t.y+a/d,v=((n.x-l/f-p)*l-(n.y+c/f-m)*c)/(a*l-s*c),g=(r=p+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new nD(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new nD(r/o,i/o)}for(var U=[],B=0,V=A.length,H=V-1,G=B+1;B<V;B++,H++,G++)H===V&&(H=0),G===V&&(G=0),U[B]=F(A[B],A[H],A[G]);var W,q,Y=[],X=U.concat();for(_=0,M=P.length;_<M;_++){for(w=P[_],W=[],B=0,H=(V=w.length)-1,G=B+1;B<V;B++,H++,G++)H===V&&(H=0),G===V&&(G=0),W[B]=F(w[B],w[H],w[G]);Y.push(W),X=X.concat(W)}for(O=0;O<f;O++){for(L=O/f,D=u*Math.cos(L*Math.PI/2),R=h*Math.sin(L*Math.PI/2)+d,B=0,V=A.length;B<V;B++)$((N=k(A[B],U[B],R)).x,N.y,-D);for(_=0,M=P.length;_<M;_++)for(w=P[_],W=Y[_],B=0,V=w.length;B<V;B++)$((N=k(w[B],W[B],R)).x,N.y,-D)}for(R=h+d,B=0;B<j;B++)N=l?k(T[B],X[B],R):T[B],S?(b.copy(g.normals[0]).multiplyScalar(N.x),y.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(v[0]).add(b).add(y),$(x.x,x.y,x.z)):$(N.x,N.y,0);for(q=1;q<=s;q++)for(B=0;B<j;B++)N=l?k(T[B],X[B],R):T[B],S?(b.copy(g.normals[q]).multiplyScalar(N.x),y.copy(g.binormals[q]).multiplyScalar(N.y),x.copy(v[q]).add(b).add(y),$(x.x,x.y,x.z)):$(N.x,N.y,c/s*q);for(O=f-1;O>=0;O--){for(L=O/f,D=u*Math.cos(L*Math.PI/2),R=h*Math.sin(L*Math.PI/2)+d,B=0,V=A.length;B<V;B++)$((N=k(A[B],U[B],R)).x,N.y,c+D);for(_=0,M=P.length;_<M;_++)for(w=P[_],W=Y[_],B=0,V=w.length;B<V;B++)N=k(w[B],W[B],R),S?$(N.x,N.y+v[s-1].y,v[s-1].x+D):$(N.x,N.y,c+D)}function Z(e,t){var n,r;for(B=e.length;--B>=0;){n=B,(r=B-1)<0&&(r=e.length-1);var i=0,o=s+2*f;for(i=0;i<o;i++){var a=j*i,c=j*(i+1);K(t+n+a,t+r+a,t+r+c,t+n+c)}}}function $(e,t,n){o.push(e),o.push(t),o.push(n)}function J(e,t,i){Q(e),Q(t),Q(i);var o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);ee(a[0]),ee(a[1]),ee(a[2])}function K(e,t,i,o){Q(e),Q(t),Q(o),Q(t),Q(i),Q(o);var a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function Q(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=j*t;for(B=0;B<z;B++)J((I=C[B])[2]+i,I[1]+i,I[0]+i);for(i=j*(t=s+2*f),B=0;B<z;B++)J((I=C[B])[0]+i,I[1]+i,I[2]+i)}else{for(B=0;B<z;B++)J((I=C[B])[2],I[1],I[0]);for(B=0;B<z;B++)J((I=C[B])[0]+j*s,I[1]+j*s,I[2]+j*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Z(A,t),t+=A.length,_=0,M=P.length;_<M;_++)Z(w=P[_],t),t+=w.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new HN(r,3)),this.addAttribute("uv",new HN(i,2)),this.computeVertexNormals()}VU.prototype=Object.create(EI.prototype),VU.prototype.constructor=VU,VU.prototype.toJSON=function(){var e=EI.prototype.toJSON.call(this);return WU(this.parameters.shapes,this.parameters.options,e)},HU.prototype=Object.create(eI.prototype),HU.prototype.constructor=HU,HU.prototype.toJSON=function(){var e=eI.prototype.toJSON.call(this);return WU(this.parameters.shapes,this.parameters.options,e)};var GU={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],c=t[3*r+1],l=t[3*i],u=t[3*i+1];return[new nD(o,a),new nD(s,c),new nD(l,u)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],c=t[3*n+2],l=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-u)<.01?[new nD(a,1-c),new nD(l,1-h),new nD(d,1-p),new nD(m,1-g)]:[new nD(s,1-c),new nD(u,1-h),new nD(f,1-p),new nD(v,1-g)]}};function WU(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function qU(e,t){EI.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new YU(e,t)),this.mergeVertices()}function YU(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new EI;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),HU.call(this,r,t),this.type="TextBufferGeometry"}function XU(e,t,n,r,i,o,a){EI.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new ZU(e,t,n,r,i,o,a)),this.mergeVertices()}function ZU(e,t,n,r,i,o,a){eI.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,l=Math.min(o+a,Math.PI),u=0,h=[],d=new aD,f=new aD,p=[],m=[],v=[],g=[];for(c=0;c<=n;c++){var y=[],b=c/n,x=0;for(0==c&&0==o?x=.5/t:c==n&&l==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var w=s/t;d.x=-e*Math.cos(r+w*i)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(r+w*i)*Math.sin(o+b*a),m.push(d.x,d.y,d.z),f.copy(d).normalize(),v.push(f.x,f.y,f.z),g.push(w+x,1-b),y.push(u++)}h.push(y)}for(c=0;c<n;c++)for(s=0;s<t;s++){var _=h[c][s+1],M=h[c][s],S=h[c+1][s],E=h[c+1][s+1];(0!==c||o>0)&&p.push(_,M,E),(c!==n-1||l<Math.PI)&&p.push(M,S,E)}this.setIndex(p),this.addAttribute("position",new HN(m,3)),this.addAttribute("normal",new HN(v,3)),this.addAttribute("uv",new HN(g,2))}function $U(e,t,n,r,i,o){EI.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new JU(e,t,n,r,i,o)),this.mergeVertices()}function JU(e,t,n,r,i,o){eI.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,c,l=[],u=[],h=[],d=[],f=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new aD,v=new nD;for(s=0;s<=r;s++){for(c=0;c<=n;c++)a=i+c/n*o,m.x=f*Math.cos(a),m.y=f*Math.sin(a),u.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y);f+=p}for(s=0;s<r;s++){var g=s*(n+1);for(c=0;c<n;c++){var y=a=c+g,b=a+n+1,x=a+n+2,w=a+1;l.push(y,b,w),l.push(b,x,w)}}this.setIndex(l),this.addAttribute("position",new HN(u,3)),this.addAttribute("normal",new HN(h,3)),this.addAttribute("uv",new HN(d,2))}function KU(e,t,n,r){EI.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new QU(e,t,n,r)),this.mergeVertices()}function QU(e,t,n,r){eI.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=tD.clamp(r,0,2*Math.PI);var i,o,a,s=[],c=[],l=[],u=1/t,h=new aD,d=new nD;for(o=0;o<=t;o++){var f=n+o*u*r,p=Math.sin(f),m=Math.cos(f);for(a=0;a<=e.length-1;a++)h.x=e[a].x*p,h.y=e[a].y,h.z=e[a].x*m,c.push(h.x,h.y,h.z),d.x=o/t,d.y=a/(e.length-1),l.push(d.x,d.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var v=i=a+o*e.length,g=i+e.length,y=i+e.length+1,b=i+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new HN(c,3)),this.addAttribute("uv",new HN(l,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,w=new aD,_=new aD,M=new aD;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],_.x=x[i+a+0],_.y=x[i+a+1],_.z=x[i+a+2],M.addVectors(w,_).normalize(),x[a+0]=x[i+a+0]=M.x,x[a+1]=x[i+a+1]=M.y,x[a+2]=x[i+a+2]=M.z}}function eB(e,t){EI.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new tB(e,t)),this.mergeVertices()}function tB(e,t){eI.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){var a,c,l,u=r.length/3,h=e.extractPoints(t),d=h.shape,f=h.holes;for(!1===FU.isClockWise(d)&&(d=d.reverse()),a=0,c=f.length;a<c;a++)l=f[a],!0===FU.isClockWise(l)&&(f[a]=l.reverse());var p=FU.triangulateShape(d,f);for(a=0,c=f.length;a<c;a++)l=f[a],d=d.concat(l);for(a=0,c=d.length;a<c;a++){var m=d[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=p.length;a<c;a++){var v=p[a],g=v[0]+u,y=v[1]+u,b=v[2]+u;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new HN(r,3)),this.addAttribute("normal",new HN(i,3)),this.addAttribute("uv",new HN(o,2))}function nB(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function rB(e,t){eI.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(tD.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(o=new EI).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,d=o.faces,f=0,p=d.length;f<p;f++)for(var m=d[f],v=0;v<3;v++)n=m[u[v]],r=m[u[(v+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),void 0===l[i=c[0]+","+c[1]]?l[i]={index1:c[0],index2:c[1],face1:f,face2:void 0}:l[i].face2=f;for(i in l){var g=l[i];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var y=h[g.index1];a.push(y.x,y.y,y.z),y=h[g.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new HN(a,3))}function iB(e,t,n,r,i,o,a,s){EI.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new oB(e,t,n,r,i,o,a,s)),this.mergeVertices()}function oB(e,t,n,r,i,o,a,s){eI.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],h=[],d=[],f=0,p=[],m=n/2,v=0;function g(n){var i,o,p,g=new nD,y=new aD,b=0,x=!0===n?e:t,w=!0===n?1:-1;for(o=f,i=1;i<=r;i++)u.push(0,m*w,0),h.push(0,w,0),d.push(.5,.5),f++;for(p=f,i=0;i<=r;i++){var _=i/r*s+a,M=Math.cos(_),S=Math.sin(_);y.x=x*S,y.y=m*w,y.z=x*M,u.push(y.x,y.y,y.z),h.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,d.push(g.x,g.y),f++}for(i=0;i<r;i++){var E=o+i,T=p+i;!0===n?l.push(T,T+1,E):l.push(T+1,T,E),b+=3}c.addGroup(v,b,!0===n?1:2),v+=b}!function(){var o,g,y=new aD,b=new aD,x=0,w=(t-e)/n;for(g=0;g<=i;g++){var _=[],M=g/i,S=M*(t-e)+e;for(o=0;o<=r;o++){var E=o/r,T=E*s+a,P=Math.sin(T),C=Math.cos(T);b.x=S*P,b.y=-M*n+m,b.z=S*C,u.push(b.x,b.y,b.z),y.set(P,w,C).normalize(),h.push(y.x,y.y,y.z),d.push(E,1-M),_.push(f++)}p.push(_)}for(o=0;o<r;o++)for(g=0;g<i;g++){var A=p[g][o],k=p[g+1][o],O=p[g+1][o+1],R=p[g][o+1];l.push(A,k,R),l.push(k,O,R),x+=6}c.addGroup(v,x,0),v+=x}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new HN(u,3)),this.addAttribute("normal",new HN(h,3)),this.addAttribute("uv",new HN(d,2))}function aB(e,t,n,r,i,o,a){iB.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function sB(e,t,n,r,i,o,a){oB.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function cB(e,t,n,r){EI.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new lB(e,t,n,r)),this.mergeVertices()}function lB(e,t,n,r){eI.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],c=[],l=[],u=new aD,h=new nD;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var d=n+o/t*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),c.push(0,0,1),h.x=(s[i]/e+1)/2,h.y=(s[i+1]/e+1)/2,l.push(h.x,h.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new HN(s,3)),this.addAttribute("normal",new HN(c,3)),this.addAttribute("uv",new HN(l,2))}qU.prototype=Object.create(EI.prototype),qU.prototype.constructor=qU,YU.prototype=Object.create(HU.prototype),YU.prototype.constructor=YU,XU.prototype=Object.create(EI.prototype),XU.prototype.constructor=XU,ZU.prototype=Object.create(eI.prototype),ZU.prototype.constructor=ZU,$U.prototype=Object.create(EI.prototype),$U.prototype.constructor=$U,JU.prototype=Object.create(eI.prototype),JU.prototype.constructor=JU,KU.prototype=Object.create(EI.prototype),KU.prototype.constructor=KU,QU.prototype=Object.create(eI.prototype),QU.prototype.constructor=QU,eB.prototype=Object.create(EI.prototype),eB.prototype.constructor=eB,eB.prototype.toJSON=function(){var e=EI.prototype.toJSON.call(this);return nB(this.parameters.shapes,e)},tB.prototype=Object.create(eI.prototype),tB.prototype.constructor=tB,tB.prototype.toJSON=function(){var e=eI.prototype.toJSON.call(this);return nB(this.parameters.shapes,e)},rB.prototype=Object.create(eI.prototype),rB.prototype.constructor=rB,iB.prototype=Object.create(EI.prototype),iB.prototype.constructor=iB,oB.prototype=Object.create(eI.prototype),oB.prototype.constructor=oB,aB.prototype=Object.create(iB.prototype),aB.prototype.constructor=aB,sB.prototype=Object.create(oB.prototype),sB.prototype.constructor=sB,cB.prototype=Object.create(EI.prototype),cB.prototype.constructor=cB,lB.prototype=Object.create(eI.prototype),lB.prototype.constructor=lB;var uB=Object.freeze({WireframeGeometry:KF,ParametricGeometry:QF,ParametricBufferGeometry:eU,TetrahedronGeometry:rU,TetrahedronBufferGeometry:iU,OctahedronGeometry:oU,OctahedronBufferGeometry:aU,IcosahedronGeometry:sU,IcosahedronBufferGeometry:cU,DodecahedronGeometry:lU,DodecahedronBufferGeometry:uU,PolyhedronGeometry:tU,PolyhedronBufferGeometry:nU,TubeGeometry:hU,TubeBufferGeometry:dU,TorusKnotGeometry:fU,TorusKnotBufferGeometry:pU,TorusGeometry:mU,TorusBufferGeometry:vU,TextGeometry:qU,TextBufferGeometry:YU,SphereGeometry:XU,SphereBufferGeometry:ZU,RingGeometry:$U,RingBufferGeometry:JU,PlaneGeometry:JI,PlaneBufferGeometry:KI,LatheGeometry:KU,LatheBufferGeometry:QU,ShapeGeometry:eB,ShapeBufferGeometry:tB,ExtrudeGeometry:VU,ExtrudeBufferGeometry:HU,EdgesGeometry:rB,ConeGeometry:aB,ConeBufferGeometry:sB,CylinderGeometry:iB,CylinderBufferGeometry:oB,CircleGeometry:cB,CircleBufferGeometry:lB,BoxGeometry:TI,BoxBufferGeometry:PI});function hB(e){LN.call(this),this.type="ShadowMaterial",this.color=new PN(0),this.transparent=!0,this.setValues(e)}function dB(e){RI.call(this,e),this.type="RawShaderMaterial"}function fB(e){LN.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new PN(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new PN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=XL,this.normalScale=new nD(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function pB(e){fB.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new nD(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function mB(e){LN.call(this),this.type="MeshPhongMaterial",this.color=new PN(16777215),this.specular=new PN(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new PN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=XL,this.normalScale=new nD(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function vB(e){mB.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function gB(e){LN.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=XL,this.normalScale=new nD(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function yB(e){LN.call(this),this.type="MeshLambertMaterial",this.color=new PN(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new PN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bB(e){LN.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new PN(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=XL,this.normalScale=new nD(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function xB(e){kF.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}hB.prototype=Object.create(LN.prototype),hB.prototype.constructor=hB,hB.prototype.isShadowMaterial=!0,hB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this},dB.prototype=Object.create(RI.prototype),dB.prototype.constructor=dB,dB.prototype.isRawShaderMaterial=!0,fB.prototype=Object.create(LN.prototype),fB.prototype.constructor=fB,fB.prototype.isMeshStandardMaterial=!0,fB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},pB.prototype=Object.create(fB.prototype),pB.prototype.constructor=pB,pB.prototype.isMeshPhysicalMaterial=!0,pB.prototype.copy=function(e){return fB.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new PN).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},mB.prototype=Object.create(LN.prototype),mB.prototype.constructor=mB,mB.prototype.isMeshPhongMaterial=!0,mB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},vB.prototype=Object.create(mB.prototype),vB.prototype.constructor=vB,vB.prototype.isMeshToonMaterial=!0,vB.prototype.copy=function(e){return mB.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},gB.prototype=Object.create(LN.prototype),gB.prototype.constructor=gB,gB.prototype.isMeshNormalMaterial=!0,gB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},yB.prototype=Object.create(LN.prototype),yB.prototype.constructor=yB,yB.prototype.isMeshLambertMaterial=!0,yB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bB.prototype=Object.create(LN.prototype),bB.prototype.constructor=bB,bB.prototype.isMeshMatcapMaterial=!0,bB.prototype.copy=function(e){return LN.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},xB.prototype=Object.create(kF.prototype),xB.prototype.constructor=xB,xB.prototype.isLineDashedMaterial=!0,xB.prototype.copy=function(e){return kF.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var wB=Object.freeze({ShadowMaterial:hB,SpriteMaterial:aF,RawShaderMaterial:dB,ShaderMaterial:RI,PointsMaterial:BF,MeshPhysicalMaterial:pB,MeshStandardMaterial:fB,MeshPhongMaterial:mB,MeshToonMaterial:vB,MeshNormalMaterial:gB,MeshLambertMaterial:yB,MeshDepthMaterial:jz,MeshDistanceMaterial:zz,MeshBasicMaterial:DN,MeshMatcapMaterial:bB,LineDashedMaterial:xB,LineBasicMaterial:kF,Material:LN}),_B={arraySlice:function(e,t,n){return _B.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function MB(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function SB(e,t,n,r){MB.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function EB(e,t,n,r){MB.call(this,e,t,n,r)}function TB(e,t,n,r){MB.call(this,e,t,n,r)}function PB(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_B.convertArray(t,this.TimeBufferType),this.values=_B.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function CB(e,t,n){PB.call(this,e,t,n)}function AB(e,t,n,r){PB.call(this,e,t,n,r)}function kB(e,t,n,r){PB.call(this,e,t,n,r)}function OB(e,t,n,r){MB.call(this,e,t,n,r)}function RB(e,t,n,r){PB.call(this,e,t,n,r)}function LB(e,t,n,r){PB.call(this,e,t,n,r)}function DB(e,t,n,r){PB.call(this,e,t,n,r)}function NB(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=tD.generateUUID(),this.duration<0&&this.resetDuration()}function IB(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kB;case"vector":case"vector2":case"vector3":case"vector4":return DB;case"color":return AB;case"quaternion":return RB;case"bool":case"boolean":return CB;case"string":return LB}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];_B.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(MB.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(MB.prototype,{beforeStart_:MB.prototype.copySampleValue_,afterEnd_:MB.prototype.copySampleValue_}),SB.prototype=Object.assign(Object.create(MB.prototype),{constructor:SB,DefaultSettings_:{endingStart:DL,endingEnd:DL},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case NL:i=e,a=2*t-n;break;case IL:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case NL:o=e,s=2*n-t;break;case IL:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var c=.5*(n-t),l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-h*m+2*h*p-h*f,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,x=0;x!==a;++x)i[x]=v*o[l+x]+g*o[c+x]+y*o[s+x]+b*o[u+x];return i}}),EB.prototype=Object.assign(Object.create(MB.prototype),{constructor:EB,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=(n-t)/(r-t),u=1-l,h=0;h!==a;++h)i[h]=o[c+h]*u+o[s+h]*l;return i}}),TB.prototype=Object.assign(Object.create(MB.prototype),{constructor:TB,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(PB,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:_B.convertArray(e.times,Array),values:_B.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(PB.prototype,{constructor:PB,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:RL,InterpolantFactoryMethodDiscrete:function(e){return new TB(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new EB(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new SB(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case OL:t=this.InterpolantFactoryMethodDiscrete;break;case RL:t=this.InterpolantFactoryMethodLinear;break;case LL:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return OL;case this.InterpolantFactoryMethodLinear:return RL;case this.InterpolantFactoryMethodSmooth:return LL}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=_B.arraySlice(n,i,o),this.values=_B.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&_B.isTypedArray(r)){a=0;for(var c=r.length;a!==c;++a){var l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===LL,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a];if(c!==e[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var l=a*n,u=l-n,h=l+n,d=0;d!==n;++d){var f=t[l+d];if(f!==t[u+d]||f!==t[h+d]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var p=a*n,m=i*n;for(d=0;d!==n;++d)t[m+d]=t[p+d]}++i}}if(o>0){e[i]=e[o];for(p=o*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d];++i}return i!==e.length&&(this.times=_B.arraySlice(e,0,i),this.values=_B.arraySlice(t,0,i*n)),this},clone:function(){var e=_B.arraySlice(this.times,0),t=_B.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),CB.prototype=Object.assign(Object.create(PB.prototype),{constructor:CB,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:OL,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),AB.prototype=Object.assign(Object.create(PB.prototype),{constructor:AB,ValueTypeName:"color"}),kB.prototype=Object.assign(Object.create(PB.prototype),{constructor:kB,ValueTypeName:"number"}),OB.prototype=Object.assign(Object.create(MB.prototype),{constructor:OB,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(n-t)/(r-t),l=s+a;s!==l;s+=4)rD.slerpFlat(i,0,o,s-a,o,s,c);return i}}),RB.prototype=Object.assign(Object.create(PB.prototype),{constructor:RB,ValueTypeName:"quaternion",DefaultInterpolation:RL,InterpolantFactoryMethodLinear:function(e){return new OB(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),LB.prototype=Object.assign(Object.create(PB.prototype),{constructor:LB,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:OL,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),DB.prototype=Object.assign(Object.create(PB.prototype),{constructor:DB,ValueTypeName:"vector"}),Object.assign(NB,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(IB(n[i]).scale(r));return new NB(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(PB.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=_B.getKeyframeOrder(s);s=_B.sortedArray(s,1,l),c=_B.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new kB(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/n))}return new NB(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var l=r[h=c[1]];l||(r[h]=l=[]),l.push(s)}}var u=[];for(var h in r)u.push(NB.CreateFromMorphTargetSequence(h,r[h],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];_B.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var d=0;d<l[h].morphTargets.length;d++)u[l[h].morphTargets[d]]=-1;for(var f in u){var p=[],m=[];for(d=0;d!==l[h].morphTargets.length;++d){var v=l[h];p.push(v.time),m.push(v.morphTarget===f?1:0)}r.push(new kB(".morphTargetInfluence["+f+"]",p,m))}o=u.length*(a||1)}else{var g=".bones["+t[c].name+"]";n(DB,g+".position",l,"pos",r),n(RB,g+".quaternion",l,"rot",r),n(DB,g+".scale",l,"scl",r)}}return 0===r.length?null:new NB(i,o,r)}}),Object.assign(NB.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new NB(this.name,this.duration,e)}});var jB={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function zB(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.test(e))return i}return null}}var FB=new zB;function UB(e){this.manager=void 0!==e?e:FB,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(UB.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var BB={};function VB(e){UB.call(this,e)}function HB(e){UB.call(this,e)}function GB(e){UB.call(this,e)}function WB(e){UB.call(this,e)}function qB(e){UB.call(this,e)}function YB(e){UB.call(this,e)}function XB(e){UB.call(this,e)}function ZB(){this.type="Curve",this.arcLengthDivisions=200}function $B(e,t,n,r,i,o,a,s){ZB.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function JB(e,t,n,r,i,o){$B.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function KB(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var c=(t-e)/o-(n-e)/(o+a)+(n-t)/a,l=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,c*=a,l*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}VB.prototype=Object.assign(Object.create(UB.prototype),{constructor:VB,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=jB.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===BB[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],l=a[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(l.length),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);u="blob"===h?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(l,s);break;case"json":u=JSON.parse(l);break;default:u=l}setTimeout((function(){t&&t(u),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{BB[e]=[],BB[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;jB.add(e,n);var r=BB[e];if(delete BB[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=BB[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=BB[e];delete BB[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=BB[e];delete BB[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(e),m}BB[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),HB.prototype=Object.assign(Object.create(UB.prototype),{constructor:HB,load:function(e,t,n,r){var i=this,o=new VB(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=NB.parse(e[n]);t.push(r)}return t}}),GB.prototype=Object.assign(Object.create(UB.prototype),{constructor:GB,load:function(e,t,n,r){var i=this,o=[],a=new ZF;a.image=o;var s=new VB(this.manager);function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=FR),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,h=e.length;u<h;++u)c(u);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=FR),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),WB.prototype=Object.assign(Object.create(UB.prototype),{constructor:WB,load:function(e,t,n,r){var i=this,o=new zI,a=new VB(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:DR,o.wrapT=void 0!==n.wrapT?n.wrapT:DR,o.magFilter=void 0!==n.magFilter?n.magFilter:FR,o.minFilter=void 0!==n.minFilter?n.minFilter:BR,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=FR),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),qB.prototype=Object.assign(Object.create(UB.prototype),{constructor:qB,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=jB.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),jB.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),YB.prototype=Object.assign(Object.create(UB.prototype),{constructor:YB,load:function(e,t,n,r){var i=new uj,o=new qB(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var c=0;c<e.length;++c)s(c);return i}}),XB.prototype=Object.assign(Object.create(UB.prototype),{constructor:XB,load:function(e,t,n,r){var i=new dD,o=new qB(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?tL:nL,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(ZB.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(o-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new aD,a=[],s=[],c=[],l=new aD,u=new MD;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new aD,c[0]=new aD;var h=Number.MAX_VALUE,d=Math.abs(a[0].x),f=Math.abs(a[0].y),p=Math.abs(a[0].z);for(d<=h&&(h=d,o.set(1,0,0)),f<=h&&(h=f,o.set(0,1,0)),p<=h&&o.set(0,0,1),l.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],l),c[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),l.crossVectors(a[n-1],a[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(tD.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(l,i))),c[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(tD.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),$B.prototype=Object.create(ZB.prototype),$B.prototype.constructor=$B,$B.prototype.isEllipseCurve=!0,$B.prototype.getPoint=function(e,t){for(var n=t||new nD,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=c-this.aY;s=h*l-d*u+this.aX,c=h*u+d*l+this.aY}return n.set(s,c)},$B.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},$B.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},$B.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},JB.prototype=Object.create($B.prototype),JB.prototype.constructor=JB,JB.prototype.isArcCurve=!0;var QB=new aD,eV=new KB,tV=new KB,nV=new KB;function rV(e,t,n,r){ZB.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function iV(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function oV(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function aV(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function sV(e,t,n,r){ZB.call(this),this.type="CubicBezierCurve",this.v0=e||new nD,this.v1=t||new nD,this.v2=n||new nD,this.v3=r||new nD}function cV(e,t,n,r){ZB.call(this),this.type="CubicBezierCurve3",this.v0=e||new aD,this.v1=t||new aD,this.v2=n||new aD,this.v3=r||new aD}function lV(e,t){ZB.call(this),this.type="LineCurve",this.v1=e||new nD,this.v2=t||new nD}function uV(e,t){ZB.call(this),this.type="LineCurve3",this.v1=e||new aD,this.v2=t||new aD}function hV(e,t,n){ZB.call(this),this.type="QuadraticBezierCurve",this.v0=e||new nD,this.v1=t||new nD,this.v2=n||new nD}function dV(e,t,n){ZB.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new aD,this.v1=t||new aD,this.v2=n||new aD}function fV(e){ZB.call(this),this.type="SplineCurve",this.points=e||[]}rV.prototype=Object.create(ZB.prototype),rV.prototype.constructor=rV,rV.prototype.isCatmullRomCurve3=!0,rV.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new aD,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),h=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===h&&u===c-1&&(u=c-2,h=1),this.closed||u>0?n=s[(u-1)%c]:(QB.subVectors(s[0],s[1]).add(s[0]),n=QB),r=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?o=s[(u+2)%c]:(QB.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=QB),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(r),d),p=Math.pow(r.distanceToSquared(i),d),m=Math.pow(i.distanceToSquared(o),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),eV.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,f,p,m),tV.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,f,p,m),nV.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,f,p,m)}else"catmullrom"===this.curveType&&(eV.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),tV.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),nV.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(eV.calc(h),tV.calc(h),nV.calc(h)),a},rV.prototype.copy=function(e){ZB.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},rV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},rV.prototype.fromJSON=function(e){ZB.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new aD).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},sV.prototype=Object.create(ZB.prototype),sV.prototype.constructor=sV,sV.prototype.isCubicBezierCurve=!0,sV.prototype.getPoint=function(e,t){var n=t||new nD,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(aV(e,r.x,i.x,o.x,a.x),aV(e,r.y,i.y,o.y,a.y)),n},sV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},sV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},sV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},cV.prototype=Object.create(ZB.prototype),cV.prototype.constructor=cV,cV.prototype.isCubicBezierCurve3=!0,cV.prototype.getPoint=function(e,t){var n=t||new aD,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(aV(e,r.x,i.x,o.x,a.x),aV(e,r.y,i.y,o.y,a.y),aV(e,r.z,i.z,o.z,a.z)),n},cV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},cV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},cV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},lV.prototype=Object.create(ZB.prototype),lV.prototype.constructor=lV,lV.prototype.isLineCurve=!0,lV.prototype.getPoint=function(e,t){var n=t||new nD;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},lV.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},lV.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},lV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},lV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},lV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},uV.prototype=Object.create(ZB.prototype),uV.prototype.constructor=uV,uV.prototype.isLineCurve3=!0,uV.prototype.getPoint=function(e,t){var n=t||new aD;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},uV.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},uV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},uV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},uV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},hV.prototype=Object.create(ZB.prototype),hV.prototype.constructor=hV,hV.prototype.isQuadraticBezierCurve=!0,hV.prototype.getPoint=function(e,t){var n=t||new nD,r=this.v0,i=this.v1,o=this.v2;return n.set(oV(e,r.x,i.x,o.x),oV(e,r.y,i.y,o.y)),n},hV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},hV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},hV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},dV.prototype=Object.create(ZB.prototype),dV.prototype.constructor=dV,dV.prototype.isQuadraticBezierCurve3=!0,dV.prototype.getPoint=function(e,t){var n=t||new aD,r=this.v0,i=this.v1,o=this.v2;return n.set(oV(e,r.x,i.x,o.x),oV(e,r.y,i.y,o.y),oV(e,r.z,i.z,o.z)),n},dV.prototype.copy=function(e){return ZB.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},dV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},dV.prototype.fromJSON=function(e){return ZB.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},fV.prototype=Object.create(ZB.prototype),fV.prototype.constructor=fV,fV.prototype.isSplineCurve=!0,fV.prototype.getPoint=function(e,t){var n=t||new nD,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],l=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(iV(a,s.x,c.x,l.x,u.x),iV(a,s.y,c.y,l.y,u.y)),n},fV.prototype.copy=function(e){ZB.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},fV.prototype.toJSON=function(){var e=ZB.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},fV.prototype.fromJSON=function(e){ZB.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new nD).fromArray(r))}return this};var pV=Object.freeze({ArcCurve:JB,CatmullRomCurve3:rV,CubicBezierCurve:sV,CubicBezierCurve3:cV,EllipseCurve:$B,LineCurve:lV,LineCurve3:uV,QuadraticBezierCurve:hV,QuadraticBezierCurve3:dV,SplineCurve:fV});function mV(){ZB.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function vV(e){mV.call(this),this.type="Path",this.currentPoint=new nD,e&&this.setFromPoints(e)}function gV(e){vV.call(this,e),this.uuid=tD.generateUUID(),this.type="Shape",this.holes=[]}function yV(e,t){BD.call(this),this.type="Light",this.color=new PN(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function bV(e,t,n){yV.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(BD.DefaultUp),this.updateMatrix(),this.groundColor=new PN(t)}function xV(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new nD(512,512),this.map=null,this.mapPass=null,this.matrix=new MD,this._frustum=new WI,this._frameExtents=new nD(1,1),this._viewportCount=1,this._viewports=[new fD(0,0,1,1)]}function wV(){xV.call(this,new DI(50,1,.5,500))}function _V(e,t,n,r,i,o){yV.call(this,e,t),this.type="SpotLight",this.position.copy(BD.DefaultUp),this.updateMatrix(),this.target=new BD,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new wV}function MV(){xV.call(this,new DI(90,1,.5,500)),this._frameExtents=new nD(4,2),this._viewportCount=6,this._viewports=[new fD(2,1,1,1),new fD(0,1,1,1),new fD(3,1,1,1),new fD(1,1,1,1),new fD(3,0,1,1),new fD(1,0,1,1)],this._cubeDirections=[new aD(1,0,0),new aD(-1,0,0),new aD(0,0,1),new aD(0,0,-1),new aD(0,1,0),new aD(0,-1,0)],this._cubeUps=[new aD(0,1,0),new aD(0,1,0),new aD(0,1,0),new aD(0,1,0),new aD(0,0,1),new aD(0,0,-1)]}function SV(e,t,n,r){yV.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new MV}function EV(e,t,n,r,i,o){LI.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function TV(){xV.call(this,new EV(-5,5,5,-5,.5,500))}function PV(e,t){yV.call(this,e,t),this.type="DirectionalLight",this.position.copy(BD.DefaultUp),this.updateMatrix(),this.target=new BD,this.shadow=new TV}function CV(e,t){yV.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function AV(e,t,n,r){yV.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function kV(e){UB.call(this,e),this.textures={}}mV.prototype=Object.assign(Object.create(ZB.prototype),{constructor:mV,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new lV(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){ZB.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=ZB.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){ZB.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new pV[r.type]).fromJSON(r))}return this}}),vV.prototype=Object.assign(Object.create(mV.prototype),{constructor:vV,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new lV(this.currentPoint.clone(),new nD(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new hV(this.currentPoint.clone(),new nD(e,t),new nD(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new sV(this.currentPoint.clone(),new nD(e,t),new nD(n,r),new nD(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new fV([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var c=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+c,t+l,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var c=new $B(e,t,n,r,i,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return mV.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=mV.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return mV.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),gV.prototype=Object.assign(Object.create(vV.prototype),{constructor:gV,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){vV.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=vV.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){vV.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new vV).fromJSON(r))}return this}}),yV.prototype=Object.assign(Object.create(BD.prototype),{constructor:yV,isLight:!0,copy:function(e){return BD.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=BD.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),bV.prototype=Object.assign(Object.create(yV.prototype),{constructor:bV,isHemisphereLight:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(xV.prototype,{_projScreenMatrix:new MD,_lightPositionWorld:new aD,_lookTarget:new aD,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),wV.prototype=Object.assign(Object.create(xV.prototype),{constructor:wV,isSpotLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=2*tD.RAD2DEG*e.angle,o=this.mapSize.width/this.mapSize.height,a=e.distance||r.far;i===r.fov&&o===r.aspect&&a===r.far||(r.fov=i,r.aspect=o,r.far=a,r.updateProjectionMatrix()),xV.prototype.updateMatrices.call(this,e,t,n)}}),_V.prototype=Object.assign(Object.create(yV.prototype),{constructor:_V,isSpotLight:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),MV.prototype=Object.assign(Object.create(xV.prototype),{constructor:MV,isPointLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=this.matrix,o=this._lightPositionWorld,a=this._lookTarget,s=this._projScreenMatrix;o.setFromMatrixPosition(e.matrixWorld),r.position.copy(o),a.copy(r.position),a.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(a),r.updateMatrixWorld(),i.makeTranslation(-o.x,-o.y,-o.z),s.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromMatrix(s)}}),SV.prototype=Object.assign(Object.create(yV.prototype),{constructor:SV,isPointLight:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),EV.prototype=Object.assign(Object.create(LI.prototype),{constructor:EV,isOrthographicCamera:!0,copy:function(e,t){return LI.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=u*(this.view.offsetX/c))+u*(this.view.width/c),s=(a-=h*(this.view.offsetY/l))-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=BD.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),TV.prototype=Object.assign(Object.create(xV.prototype),{constructor:TV,isDirectionalLightShadow:!0,updateMatrices:function(e,t,n){xV.prototype.updateMatrices.call(this,e,t,n)}}),PV.prototype=Object.assign(Object.create(yV.prototype),{constructor:PV,isDirectionalLight:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),CV.prototype=Object.assign(Object.create(yV.prototype),{constructor:CV,isAmbientLight:!0}),AV.prototype=Object.assign(Object.create(yV.prototype),{constructor:AV,isRectAreaLight:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=yV.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),kV.prototype=Object.assign(Object.create(UB.prototype),{constructor:kV,load:function(e,t,n,r){var i=this,o=new VB(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new wB[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new PN).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new PN).setHex(o.value);break;case"v2":r.uniforms[i].value=(new nD).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new aD).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new fD).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new lD).fromArray(o.value);case"m4":r.uniforms[i].value=(new MD).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new nD).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new nD).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var OV=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function RV(){eI.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function LV(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),NN.call(this,e,t,n),this.meshPerAttribute=r||1}function DV(e){UB.call(this,e)}RV.prototype=Object.assign(Object.create(eI.prototype),{constructor:RV,isInstancedBufferGeometry:!0,copy:function(e){return eI.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=eI.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),LV.prototype=Object.assign(Object.create(NN.prototype),{constructor:LV,isInstancedBufferAttribute:!0,copy:function(e){return NN.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=NN.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),DV.prototype=Object.assign(Object.create(UB.prototype),{constructor:DV,load:function(e,t,n,r){var i=this,o=new VB(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new RV:new eI,n=e.data.index;if(void 0!==n){var r=new NV[n.type](n.array);t.setIndex(new NN(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],s=(r=new NV[a.type](a.array),new(a.isInstancedBufferAttribute?LV:NN)(r,a.itemSize,a.normalized));void 0!==a.name&&(s.name=a.name),t.addAttribute(o,s)}var c=e.data.morphAttributes;if(c)for(var o in c){for(var l=c[o],u=[],h=0,d=l.length;h<d;h++){a=l[h],s=new NN(r=new NV[a.type](a.array),a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),u.push(s)}t.morphAttributes[o]=u}var f=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==f){h=0;for(var p=f.length;h!==p;++h){var m=f[h];t.addGroup(m.start,m.count,m.materialIndex)}}var v=e.data.boundingSphere;if(void 0!==v){var g=new aD;void 0!==v.center&&g.fromArray(v.center),t.boundingSphere=new iN(g,v.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var NV={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function IV(e){UB.call(this,e)}IV.prototype=Object.assign(Object.create(UB.prototype),{constructor:IV,load:function(e,t,n,r){var i=this,o=""===this.path?OV(e):this.path;this.resourcePath=this.resourcePath||o;var a=new VB(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new gV).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new DV,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new uB[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new uB[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new uB[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new uB[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new uB[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new uB[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new uB[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new uB[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new uB[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new uB[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new uB[s.type]((new pV[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new uB[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new uB[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var h=t[s.shapes[l]];c.push(h)}a=new uB[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,u=s.shapes.length;l<u;l++){h=t[s.shapes[l]];c.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new pV[d.type]).fromJSON(d)),a=new uB[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new kV;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),c.push(n[u.uuid])}r[s.uuid]=c}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=NB.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new qB(new zB(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var c=e[a],l=c.url;if(Array.isArray(l)){r[c.uuid]=[];for(var u=0,h=l.length;u<h;u++){var d=l[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;r[c.uuid].push(i(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(f)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new uj(t[s.image]):new dD(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,zV)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],FV),a.wrapT=n(s.wrap[1],FV)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,UV)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,UV)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new VD,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new PN(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new rF(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new nF(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new DI(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new EV(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new CV(e.color,e.intensity);break;case"DirectionalLight":r=new PV(e.color,e.intensity);break;case"PointLight":r=new SV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new AV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new _V(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new bV(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new SF(a,s):new yI(a,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case"LOD":r=new MF;break;case"Line":r=new IF(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new UF(i(e.geometry),o(e.material));break;case"LineSegments":r=new FF(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new qF(i(e.geometry),o(e.material));break;case"Sprite":r=new bF(o(e.material));break;case"Group":r=new Yz;break;default:r=new BD}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,l=0;l<c.length;l++)r.add(this.parseObject(c[l],t,n));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var d=u[h],f=r.getObjectByProperty("uuid",d.object);void 0!==f&&r.addLevel(f,d.distance)}return r}});var jV,zV={UVMapping:300,CubeReflectionMapping:TR,CubeRefractionMapping:PR,EquirectangularReflectionMapping:CR,EquirectangularRefractionMapping:AR,SphericalReflectionMapping:kR,CubeUVReflectionMapping:OR,CubeUVRefractionMapping:RR},FV={RepeatWrapping:LR,ClampToEdgeWrapping:DR,MirroredRepeatWrapping:NR},UV={NearestFilter:IR,NearestMipmapNearestFilter:jR,NearestMipmapLinearFilter:zR,LinearFilter:FR,LinearMipmapNearestFilter:UR,LinearMipmapLinearFilter:BR};function BV(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),UB.call(this,e),this.options=void 0}function VV(){this.type="ShapePath",this.color=new PN,this.subPaths=[],this.currentPath=null}function HV(e){this.type="Font",this.data=e}function GV(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,l,u,h,d,f,p=new VV;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(a,s);break;case"q":c=m[v++]*t+n,l=m[v++]*t+r,u=m[v++]*t+n,h=m[v++]*t+r,p.quadraticCurveTo(u,h,c,l);break;case"b":c=m[v++]*t+n,l=m[v++]*t+r,u=m[v++]*t+n,h=m[v++]*t+r,d=m[v++]*t+n,f=m[v++]*t+r,p.bezierCurveTo(u,h,d,f,c,l)}}return{offsetX:o.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function WV(e){UB.call(this,e)}BV.prototype=Object.assign(Object.create(UB.prototype),{constructor:BV,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=jB.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){jB.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(VV.prototype,{moveTo:function(e,t){this.currentPath=new vV,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new gV;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],c=-c,s=t[i],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=FU.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new gV).curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=e?!u:u;var h,d,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(h=(s=o[g]).getPoints()),(a=e?!a:a)?(!u&&p[v]&&v++,p[v]={s:new gV,p:h},p[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var b=!1,x=[],w=0,_=p.length;w<_;w++)f[w]=[];for(w=0,_=p.length;w<_;w++)for(var M=m[w],S=0;S<M.length;S++){for(var E=M[S],T=!0,P=0;P<p.length;P++)r(E.p,p[P].p)&&(w!==P&&x.push({froms:w,tos:P,hole:S}),T?(T=!1,f[P].push(E)):b=!0);T&&f[w].push(E)}x.length>0&&(b||(m=f))}g=0;for(var C=p.length;g<C;g++){c=p[g].s,l.push(c);for(var A=0,k=(d=m[g]).length;A<k;A++)c.holes.push(d[A].h)}return l}}),Object.assign(HV.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,c=0,l=0;l<r.length;l++){var u=r[l];if("\n"===u)s=0,c-=o;else{var h=GV(u,i,s,c,n);s+=h.offsetX,a.push(h.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),WV.prototype=Object.assign(Object.create(UB.prototype),{constructor:WV,load:function(e,t,n,r){var i=this,o=new VB(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new HV(e)}});var qV=function(){return void 0===jV&&(jV=new(window.AudioContext||window.webkitAudioContext)),jV};function YV(e){UB.call(this,e)}function XV(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new aD)}function ZV(e,t){yV.call(this,void 0,t),this.sh=void 0!==e?e:new XV}function $V(e,t,n){ZV.call(this,void 0,n);var r=(new PN).set(e),i=(new PN).set(t),o=new aD(r.r,r.g,r.b),a=new aD(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function JV(e,t){ZV.call(this,void 0,t);var n=(new PN).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}YV.prototype=Object.assign(Object.create(UB.prototype),{constructor:YV,load:function(e,t,n,r){var i=new VB(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);qV().decodeAudioData(n,(function(e){t(e)}))}),n,r)}}),Object.assign(XV.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScale(o[1],.488603*r),t.addScale(o[2],.488603*i),t.addScale(o[3],.488603*n),t.addScale(o[4],n*r*1.092548),t.addScale(o[5],r*i*1.092548),t.addScale(o[6],.315392*(3*i*i-1)),t.addScale(o[7],n*i*1.092548),t.addScale(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScale(o[1],1.023328*r),t.addScale(o[2],1.023328*i),t.addScale(o[3],1.023328*n),t.addScale(o[4],.858086*n*r),t.addScale(o[5],.858086*r*i),t.addScale(o[6],.743125*i*i-.247708),t.addScale(o[7],.858086*n*i),t.addScale(o[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(XV,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),ZV.prototype=Object.assign(Object.create(yV.prototype),{constructor:ZV,isLightProbe:!0,copy:function(e){return yV.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return yV.prototype.toJSON.call(this,e)}}),$V.prototype=Object.assign(Object.create(ZV.prototype),{constructor:$V,isHemisphereLightProbe:!0,copy:function(e){return ZV.prototype.copy.call(this,e),this},toJSON:function(e){return ZV.prototype.toJSON.call(this,e)}}),JV.prototype=Object.assign(Object.create(ZV.prototype),{constructor:JV,isAmbientLightProbe:!0,copy:function(e){return ZV.prototype.copy.call(this,e),this},toJSON:function(e){return ZV.prototype.toJSON.call(this,e)}});var KV=new MD,QV=new MD;function eH(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new DI,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new DI,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(tD.DEG2RAD*t.fov*.5)/t.zoom;QV.elements[12]=-o,KV.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(KV)}}),Object.assign(eH.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var tH=new aD,nH=new rD,rH=new aD,iH=new aD;function oH(){BD.call(this),this.type="AudioListener",this.context=qV(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new eH}function aH(e){BD.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}oH.prototype=Object.assign(Object.create(BD.prototype),{constructor:oH,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){BD.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tH,nH,rH),iH.set(0,0,-1).applyQuaternion(nH),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(tH.x,r),t.positionY.linearRampToValueAtTime(tH.y,r),t.positionZ.linearRampToValueAtTime(tH.z,r),t.forwardX.linearRampToValueAtTime(iH.x,r),t.forwardY.linearRampToValueAtTime(iH.y,r),t.forwardZ.linearRampToValueAtTime(iH.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(tH.x,tH.y,tH.z),t.setOrientation(iH.x,iH.y,iH.z,n.x,n.y,n.z)}}),aH.prototype=Object.assign(Object.create(BD.prototype),{constructor:aH,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var sH=new aD,cH=new rD,lH=new aD,uH=new aD;function hH(e){aH.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function dH(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function fH(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}hH.prototype=Object.assign(Object.create(aH.prototype),{constructor:hH,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(BD.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(sH,cH,lH),uH.set(0,0,1).applyQuaternion(cH);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sH.x,n),t.positionY.linearRampToValueAtTime(sH.y,n),t.positionZ.linearRampToValueAtTime(sH.z,n),t.orientationX.linearRampToValueAtTime(uH.x,n),t.orientationY.linearRampToValueAtTime(uH.y,n),t.orientationZ.linearRampToValueAtTime(uH.z,n)}else t.setPosition(sH.x,sH.y,sH.z),t.setOrientation(uH.x,uH.y,uH.z)}}}),Object.assign(dH.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(fH.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){rD.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var pH="\\[\\]\\.:\\/",mH=new RegExp("["+pH+"]","g"),vH="[^"+pH+"]",gH="[^"+pH.replace("\\.","")+"]",yH=/((?:WC+[\/:])*)/.source.replace("WC",vH),bH=/(WCOD+)?/.source.replace("WCOD",gH),xH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vH),wH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vH),_H=new RegExp("^"+yH+bH+xH+wH+"$"),MH=["material","materials","bones"];function SH(e,t,n){var r=n||EH.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function EH(e,t,n){this.path=t,this.parsedPath=n||EH.parseTrackName(t),this.node=EH.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function TH(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:DL,endingEnd:DL},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function PH(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function CH(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function AH(e,t,n){iF.call(this,e,t),this.meshPerAttribute=n||1}function kH(e,t,n,r){this.ray=new dN(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function OH(e,t){return e.distance-t.distance}function RH(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)RH(i[o],t,n,!0)}function LH(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}Object.assign(SH.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(EH,{Composite:SH,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new EH.Composite(e,t,n):new EH(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(mH,"")},parseTrackName:function(e){var t=_H.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==MH.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(EH.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=EH.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(EH.prototype,{_getValue_unbound:EH.prototype.getValue,_setValue_unbound:EH.prototype.setValue}),Object.assign(function(){this.uuid=tD.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],d=h.uuid,f=r[d];if(void 0===f){f=t++,r[d]=f,e.push(h);for(var p=0,m=s;p!==m;++p)a[p].push(new EH(h,i[p],o[p]))}else if(f<n){c=e[f];var v=--n,g=e[v];r[g.uuid]=f,e[f]=g,r[d]=v,e[v]=h;for(p=0,m=s;p!==m;++p){var y=a[p],b=y[v],x=y[f];y[f]=b,void 0===x&&(x=new EH(h,i[p],o[p])),y[v]=x}}else e[f]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=n[c];if(void 0!==l&&l>=t){var u=t++,h=e[u];n[h.uuid]=l,e[l]=h,n[c]=u,e[u]=s;for(var d=0,f=i;d!==f;++d){var p=r[d],m=p[u],v=p[l];p[l]=m,p[u]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,l=r[c];if(void 0!==l)if(delete r[c],l<n){var u=--n,h=e[u],d=e[g=--t];r[h.uuid]=l,e[l]=h,r[d.uuid]=u,e[u]=d,e.pop();for(var f=0,p=o;f!==p;++f){var m=(y=i[f])[u],v=y[g];y[l]=m,y[u]=v,y.pop()}}else{var g;r[(d=e[g=--t]).uuid]=l,e[l]=d,e.pop();for(f=0,p=o;f!==p;++f){var y;(y=i[f])[l]=y[g],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(var h=l,d=s.length;h!==d;++h){var f=s[h];u[h]=new EH(f,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(TH.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,h=c.length;u!==h;++u)c[u].evaluate(a),l[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(o&&1===(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=NL,r.endingEnd=NL):(r.endingStart=e?this.zeroSlopeAtStart?NL:DL:IL,r.endingEnd=t?this.zeroSlopeAtEnd?NL:DL:IL)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),PH.prototype=Object.assign(Object.create(KL.prototype),{constructor:PH,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var h=r[u],d=h.name,f=l[d];if(void 0!==f)o[u]=f;else{if(void 0!==(f=o[u])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(f=new fH(EH.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),o[u]=f}a[u].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new EB(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?NB.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new TH(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?NB.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),CH.prototype.clone=function(){return new CH(void 0===this.value.clone?this.value:this.value.clone())},AH.prototype=Object.assign(Object.create(iF.prototype),{constructor:AH,isInstancedInterleavedBuffer:!0,copy:function(e){return iF.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(kH.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return RH(e,this,r,t),r.sort(OH),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)RH(e[i],this,r,t);return r.sort(OH),r}}),Object.assign(LH.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(tD.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var DH=new nD;function NH(e,t){this.min=void 0!==e?e:new nD(1/0,1/0),this.max=void 0!==t?t:new nD(-1/0,-1/0)}Object.assign(NH.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=DH.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new nD),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new nD),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new nD),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new nD),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return DH.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var IH=new aD,jH=new aD;function zH(e,t){this.start=void 0!==e?e:new aD,this.end=void 0!==t?t:new aD}function FH(e){BD.call(this),this.material=e,this.render=function(){}}Object.assign(zH.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new aD),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new aD),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new aD),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){IH.subVectors(e,this.start),jH.subVectors(this.end,this.start);var n=jH.dot(jH),r=jH.dot(IH)/n;return t&&(r=tD.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new aD),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),FH.prototype=Object.create(BD.prototype),FH.prototype.constructor=FH,FH.prototype.isImmediateRenderObject=!0;var UH=new aD,BH=new aD,VH=new lD,HH=["a","b","c"];function GH(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new eI,l=new HN(2*a*3,3);c.addAttribute("position",l),FF.call(this,c,new kF({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}GH.prototype=Object.create(FF.prototype),GH.prototype.constructor=GH,GH.prototype.update=function(){this.object.updateMatrixWorld(!0),VH.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++)for(var c=i[a],l=0,u=c.vertexNormals.length;l<u;l++){var h=r[c[HH[l]]],d=c.vertexNormals[l];UH.copy(h).applyMatrix4(e),BH.copy(d).applyMatrix3(VH).normalize().multiplyScalar(this.size).add(UH),t.setXYZ(o,UH.x,UH.y,UH.z),o+=1,t.setXYZ(o,BH.x,BH.y,BH.z),o+=1}else if(n&&n.isBufferGeometry){var f=n.attributes.position,p=n.attributes.normal;for(o=0,l=0,u=f.count;l<u;l++)UH.set(f.getX(l),f.getY(l),f.getZ(l)).applyMatrix4(e),BH.set(p.getX(l),p.getY(l),p.getZ(l)),BH.applyMatrix3(VH).normalize().multiplyScalar(this.size).add(UH),t.setXYZ(o,UH.x,UH.y,UH.z),o+=1,t.setXYZ(o,BH.x,BH.y,BH.z),o+=1}t.needsUpdate=!0};var WH=new aD;function qH(e,t){BD.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new eI,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new HN(r,3));var c=new kF({fog:!1});this.cone=new FF(n,c),this.add(this.cone),this.update()}qH.prototype=Object.create(BD.prototype),qH.prototype.constructor=qH,qH.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},qH.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WH.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WH),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var YH=new aD,XH=new MD,ZH=new MD;function $H(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,$H(e.children[n]));return t}function JH(e){for(var t=$H(e),n=new eI,r=[],i=[],o=new PN(0,0,1),a=new PN(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new HN(r,3)),n.addAttribute("color",new HN(i,3));var l=new kF({vertexColors:UO,depthTest:!1,depthWrite:!1,transparent:!0});FF.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function KH(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new ZU(t,4,2),i=new DN({wireframe:!0,fog:!1});yI.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function QH(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new eI;n.addAttribute("position",new HN([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new kF({fog:!1});IF.call(this,n,r);var i=new eI;i.addAttribute("position",new HN([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new yI(i,new DN({side:jO,fog:!1}))),this.update()}JH.prototype=Object.create(FF.prototype),JH.prototype.constructor=JH,JH.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");ZH.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(XH.multiplyMatrices(ZH,a.matrixWorld),YH.setFromMatrixPosition(XH),r.setXYZ(o,YH.x,YH.y,YH.z),XH.multiplyMatrices(ZH,a.parent.matrixWorld),YH.setFromMatrixPosition(XH),r.setXYZ(o+1,YH.x,YH.y,YH.z),o+=2)}n.getAttribute("position").needsUpdate=!0,BD.prototype.updateMatrixWorld.call(this,e)},KH.prototype=Object.create(yI.prototype),KH.prototype.constructor=KH,KH.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},KH.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},QH.prototype=Object.create(IF.prototype),QH.prototype.constructor=QH,QH.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},QH.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var eG=new aD,tG=new PN,nG=new PN;function rG(e,t,n){BD.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new aU(t);r.rotateY(.5*Math.PI),this.material=new DN({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=UO);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new NN(o,3)),this.add(new yI(r,this.material)),this.update()}function iG(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:""},r=new RI({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new ZU(1,32,16);yI.call(this,i,r),this.onBeforeRender()}function oG(e,t,n,r){e=e||10,t=t||10,n=new PN(void 0!==n?n:4473924),r=new PN(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],l=0,u=0,h=-a;l<=t;l++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var d=l===i?n:r;d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3}var f=new eI;f.addAttribute("position",new HN(s,3)),f.addAttribute("color",new HN(c,3));var p=new kF({vertexColors:UO});FF.call(this,f,p)}function aG(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new PN(void 0!==i?i:4473924),o=new PN(void 0!==o?o:8947848);var a,s,c,l,u,h,d,f=[],p=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,f.push(0,0,0),f.push(a,0,s),d=1&l?i:o,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(l=0;l<=n;l++)for(d=1&l?i:o,h=e-e/n*l,u=0;u<r;u++)c=u/r*(2*Math.PI),a=Math.sin(c)*h,s=Math.cos(c)*h,f.push(a,0,s),p.push(d.r,d.g,d.b),c=(u+1)/r*(2*Math.PI),a=Math.sin(c)*h,s=Math.cos(c)*h,f.push(a,0,s),p.push(d.r,d.g,d.b);var m=new eI;m.addAttribute("position",new HN(f,3)),m.addAttribute("color",new HN(p,3));var v=new kF({vertexColors:UO});FF.call(this,m,v)}function sG(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new eI,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));i.addAttribute("position",new NN(a,3));var s=new kF({color:65280}),c=new kF({color:16776960});IF.call(this,i,[c,s]),this.update()}rG.prototype=Object.create(BD.prototype),rG.prototype.constructor=rG,rG.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},rG.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");tG.copy(this.light.color),nG.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?tG:nG;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(eG.setFromMatrixPosition(this.light.matrixWorld).negate())},iG.prototype=Object.create(yI.prototype),iG.prototype.constructor=iG,iG.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},iG.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},oG.prototype=Object.assign(Object.create(FF.prototype),{constructor:oG,copy:function(e){return FF.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),aG.prototype=Object.create(FF.prototype),aG.prototype.constructor=aG,sG.prototype=Object.create(IF.prototype),sG.prototype.constructor=sG,sG.prototype.update=function(){var e,t,n=this.audio,r=this.range,i=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=tD.degToRad(n.panner.coneInnerAngle),s=tD.degToRad(n.panner.coneOuterAngle),c=a/2,l=s/2,u=0,h=0,d=this.geometry,f=d.attributes.position;function p(n,i,o,a){var s=(i-n)/o;for(f.setXYZ(u,0,0,0),h++,e=n;e<i;e+=s)t=u+h,f.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),f.setXYZ(t+1,Math.sin(Math.min(e+s,i))*r,0,Math.cos(Math.min(e+s,i))*r),f.setXYZ(t+2,0,0,0),h+=3;d.addGroup(u,h,a),u+=h,h=0}d.clearGroups(),p(-l,-c,o,0),p(-c,c,i,1),p(c,l,o,0),f.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},sG.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var cG=new aD,lG=new aD,uG=new lD;function hG(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new eI,l=new HN(2*a*3,3);c.addAttribute("position",l),FF.call(this,c,new kF({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}hG.prototype=Object.create(FF.prototype),hG.prototype.constructor=hG,hG.prototype.update=function(){this.object.updateMatrixWorld(!0),uG.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++){var c=i[a],l=c.normal;cG.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(e),lG.copy(l).applyMatrix3(uG).normalize().multiplyScalar(this.size).add(cG),t.setXYZ(o,cG.x,cG.y,cG.z),o+=1,t.setXYZ(o,lG.x,lG.y,lG.z),o+=1}t.needsUpdate=!0};var dG=new aD,fG=new aD,pG=new aD;function mG(e,t,n){BD.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new eI;r.addAttribute("position",new HN([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new kF({fog:!1});this.lightPlane=new IF(r,i),this.add(this.lightPlane),(r=new eI).addAttribute("position",new HN([0,0,0,0,0,1],3)),this.targetLine=new IF(r,i),this.add(this.targetLine),this.update()}mG.prototype=Object.create(BD.prototype),mG.prototype.constructor=mG,mG.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},mG.prototype.update=function(){dG.setFromMatrixPosition(this.light.matrixWorld),fG.setFromMatrixPosition(this.light.target.matrixWorld),pG.subVectors(fG,dG),this.lightPlane.lookAt(fG),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fG),this.targetLine.scale.z=pG.length()};var vG=new aD,gG=new LI;function yG(e){var t=new eI,n=new kF({color:16777215,vertexColors:1}),r=[],i=[],o={},a=new PN(16755200),s=new PN(16711680),c=new PN(43775),l=new PN(16777215),u=new PN(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.addAttribute("position",new HN(r,3)),t.addAttribute("color",new HN(i,3)),FF.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function bG(e,t,n,r,i,o,a){vG.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var c=n.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],vG.x,vG.y,vG.z)}yG.prototype=Object.create(FF.prototype),yG.prototype.constructor=yG,yG.prototype.update=function(){var e=this.geometry,t=this.pointMap;gG.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),bG("c",t,e,gG,0,0,-1),bG("t",t,e,gG,0,0,1),bG("n1",t,e,gG,-1,-1,-1),bG("n2",t,e,gG,1,-1,-1),bG("n3",t,e,gG,-1,1,-1),bG("n4",t,e,gG,1,1,-1),bG("f1",t,e,gG,-1,-1,1),bG("f2",t,e,gG,1,-1,1),bG("f3",t,e,gG,-1,1,1),bG("f4",t,e,gG,1,1,1),bG("u1",t,e,gG,.7,1.1,-1),bG("u2",t,e,gG,-.7,1.1,-1),bG("u3",t,e,gG,0,2,-1),bG("cf1",t,e,gG,-1,0,1),bG("cf2",t,e,gG,1,0,1),bG("cf3",t,e,gG,0,-1,1),bG("cf4",t,e,gG,0,1,1),bG("cn1",t,e,gG,-1,0,-1),bG("cn2",t,e,gG,1,0,-1),bG("cn3",t,e,gG,0,-1,-1),bG("cn4",t,e,gG,0,1,-1),e.getAttribute("position").needsUpdate=!0};var xG=new tN;function wG(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new eI;i.setIndex(new NN(n,1)),i.addAttribute("position",new NN(r,3)),FF.call(this,i,new kF({color:t})),this.matrixAutoUpdate=!1,this.update()}function _G(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new eI;r.setIndex(new NN(n,1)),r.addAttribute("position",new HN([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),FF.call(this,r,new kF({color:t})),this.geometry.computeBoundingSphere()}function MG(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new eI;i.addAttribute("position",new HN([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),IF.call(this,i,new kF({color:r}));var o=new eI;o.addAttribute("position",new HN([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new yI(o,new DN({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}wG.prototype=Object.create(FF.prototype),wG.prototype.constructor=wG,wG.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&xG.setFromObject(this.object),!xG.isEmpty()){var t=xG.min,n=xG.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},wG.prototype.setFromObject=function(e){return this.object=e,this.update(),this},wG.prototype.copy=function(e){return FF.prototype.copy.call(this,e),this.object=e.object,this},wG.prototype.clone=function(){return(new this.constructor).copy(this)},_G.prototype=Object.create(FF.prototype),_G.prototype.constructor=_G,_G.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),BD.prototype.updateMatrixWorld.call(this,e))},MG.prototype=Object.create(IF.prototype),MG.prototype.constructor=MG,MG.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?jO:IO,this.lookAt(this.plane.normal),BD.prototype.updateMatrixWorld.call(this,e)};var SG,EG,TG=new aD;function PG(e,t,n,r,i,o){BD.call(this),void 0===e&&(e=new aD(0,0,1)),void 0===t&&(t=new aD(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===SG&&((SG=new eI).addAttribute("position",new HN([0,0,0,0,1,0],3)),(EG=new oB(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new IF(SG,new kF({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yI(EG,new DN({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function CG(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new eI;n.addAttribute("position",new HN(t,3)),n.addAttribute("color",new HN([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new kF({vertexColors:UO});FF.call(this,n,r)}PG.prototype=Object.create(BD.prototype),PG.prototype.constructor=PG,PG.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{TG.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(TG,t)}},PG.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},PG.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},PG.prototype.copy=function(e){return BD.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},PG.prototype.clone=function(){return(new this.constructor).copy(this)},CG.prototype=Object.create(FF.prototype),CG.prototype.constructor=CG;function AG(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),rV.call(this,e),this.type="catmullrom"}ZB.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ZB.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(mV.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new EI,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new aD(i.x,i.y,i.z||0))}return t}}),Object.assign(vV.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(rV.prototype),Object.create(rV.prototype),AG.prototype=Object.create(rV.prototype),Object.assign(AG.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),oG.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},JH.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(UB.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),OV(e)}}),UB.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(IV.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(NH.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(tN.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),zH.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(tD,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),tD.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),tD.ceilPowerOfTwo(e)}}),Object.assign(lD.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(MD.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new aD).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),VI.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},rD.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(dN.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(MN.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(MN,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),MN.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),MN.getNormal(e,t,n,r)}}),Object.assign(gV.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new VU(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new eB(this,e)}}),Object.assign(nD.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(aD.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(fD.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(EI.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(BD.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(BD.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(MF.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(PF.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),SF.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ZB.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),DI.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(yV.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(NN.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(NN.prototype,{copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(e){return console.warn("THREE.BufferAttribute: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this}}),Object.assign(eI.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(eI.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(iF.prototype,{setArray:function(e){return console.warn("THREE.InterleavedBuffer: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==e?e.length/this.stride:0,this.array=e,this}}),Object.assign(HU.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(CH.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(LN.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new PN}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(mB.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(RI.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(tF.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(tF.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Bz.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(jI.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(pD.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Qz.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),aH.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new YV).load(e,(function(e){t.setBuffer(e)})),this},dH.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},II.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};uD.crossOrigin=void 0,uD.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new XB;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},uD.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new YB;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},uD.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},uD.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"109"}}));var kG=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),OG="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,RG="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),LG="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(RG):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var DG=["top","right","bottom","left","width","height","size","weight"],NG="undefined"!==typeof MutationObserver,IG=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){LG(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){OG&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),NG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){OG&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;DG.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),jG=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},zG=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||RG},FG=WG(0,0,0,0);function UG(e){return parseFloat(e)||0}function BG(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+UG(e["border-"+n+"-width"])}),0)}function VG(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return FG;var r=zG(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=UG(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=UG(r.width),c=UG(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=BG(r,"left","right")+o),Math.round(c+a)!==n&&(c-=BG(r,"top","bottom")+a)),!function(e){return e===zG(e).document.documentElement}(e)){var l=Math.round(s+o)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return WG(i.left,i.top,s,c)}var HG="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof zG(e).SVGGraphicsElement}:function(e){return e instanceof zG(e).SVGElement&&"function"===typeof e.getBBox};function GG(e){return OG?HG(e)?function(e){var t=e.getBBox();return WG(0,0,t.width,t.height)}(e):VG(e):FG}function WG(e,t,n,r){return{x:e,y:t,width:n,height:r}}var qG=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=WG(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=GG(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),YG=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return jG(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);jG(this,{target:e,contentRect:n})},XG=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new kG,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof zG(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new qG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof zG(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new YG(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ZG="undefined"!==typeof WeakMap?new WeakMap:new kG,$G=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=IG.getInstance(),r=new XG(t,n,this);ZG.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){$G.prototype[e]=function(){var t;return(t=ZG.get(this))[e].apply(t,arguments)}}));const JG="undefined"!==typeof RG.ResizeObserver?RG.ResizeObserver:$G;var KG={backside:!0,coefficient:.5,color:"gold",size:2,power:1};function QG(e,t){void 0===t&&(t=KG);var n=t.backside,r=t.coefficient,i=t.color,o=t.power,a=function(e,t){var n=e.clone(),r=new Array(n.vertices.length);return n.faces.forEach((function(e){e instanceof ON?(r[e.a]=e.vertexNormals[0],r[e.b]=e.vertexNormals[1],r[e.c]=e.vertexNormals[2]):console.error("Face needs to be an instance of THREE.Face3.")})),n.vertices.forEach((function(e,n){var i=r[n],o=i.y,a=i.z;e.x+=i.x*t,e.y+=o*t,e.z+=a*t})),n}(e,t.size),s=function(e,t,n){return new RI({depthWrite:!1,fragmentShader:"\nuniform vec3 color;\nuniform float coefficient;\nuniform float power;\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvoid main() {\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity\t= pow(\n    coefficient + dot(vVertexNormal, viewCameraToVertex),\n    power\n  );\n  gl_FragColor = vec4(color, intensity);\n}",transparent:!0,uniforms:{coefficient:{value:e},color:{value:new PN(t)},power:{value:n}},vertexShader:"\nvarying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvoid main() {\n  vVertexNormal\t= normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"})}(r,i,o);return n&&(s.side=jO),new yI(a,s)}var eW=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new aD,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:MO,MIDDLE:SO,RIGHT:EO},this.touches={ONE:TO,TWO:CO},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=a.NONE},this.update=function(){var t=new aD,i=(new rD).setFromUnitVectors(e.up,new aD(0,1,0)),o=i.clone().inverse(),p=new aD,m=new rD;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(i),l.setFromVector3(t),n.autoRotate&&s===a.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=u.theta*n.dampingFactor,l.phi+=u.phi*n.dampingFactor):(l.theta+=u.theta,l.phi+=u.phi),l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),d.set(0,0,0)),h=1,!!(f||p.distanceToSquared(n.object.position)>c||8*(1-m.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),p.copy(n.object.position),m.copy(n.object.quaternion),f=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("mousedown",F,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",G,!1),n.domElement.removeEventListener("touchend",q,!1),n.domElement.removeEventListener("touchmove",W,!1),document.removeEventListener("mousemove",U,!1),document.removeEventListener("mouseup",B,!1),window.removeEventListener("keydown",H,!1)};var n=this,r={type:"change"},i={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,c=1e-6,l=new LH,u=new LH,h=1,d=new aD,f=!1,p=new nD,m=new nD,v=new nD,g=new nD,y=new nD,b=new nD,x=new nD,w=new nD,_=new nD;function M(){return Math.pow(.95,n.zoomSpeed)}function S(e){u.theta-=e}function E(e){u.phi-=e}var T=function(){var e=new aD;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),P=function(){var e=new aD;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),C=function(){var e=new aD;return function(t,r){var i=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),T(2*t*a/i.clientHeight,n.object.matrix),P(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),P(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function A(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){p.set(e.clientX,e.clientY)}function R(e){g.set(e.clientX,e.clientY)}function L(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function D(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function N(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);x.set(0,r)}function I(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,r)}v.subVectors(m,p).multiplyScalar(n.rotateSpeed);var i=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*v.x/i.clientHeight),E(2*Math.PI*v.y/i.clientHeight),p.copy(m)}function j(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,r)}b.subVectors(y,g).multiplyScalar(n.panSpeed),C(b.x,b.y),g.copy(y)}function z(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);w.set(0,i),_.set(0,Math.pow(w.y/x.y,n.zoomSpeed)),A(_.y),x.copy(w)}function F(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:switch(n.mouseButtons.LEFT){case MO:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),s=a.PAN}else{if(!1===n.enableRotate)return;O(e),s=a.ROTATE}break;case EO:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;O(e),s=a.ROTATE}else{if(!1===n.enablePan)return;R(e),s=a.PAN}break;default:s=a.NONE}break;case 1:if(n.mouseButtons.MIDDLE===SO){if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),s=a.DOLLY}else s=a.NONE;break;case 2:switch(n.mouseButtons.RIGHT){case MO:if(!1===n.enableRotate)return;O(e),s=a.ROTATE;break;case EO:if(!1===n.enablePan)return;R(e),s=a.PAN;break;default:s=a.NONE}}s!==a.NONE&&(document.addEventListener("mousemove",U,!1),document.addEventListener("mouseup",B,!1),n.dispatchEvent(i))}}function U(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),v.subVectors(m,p).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*v.x/t.clientHeight),E(2*Math.PI*v.y/t.clientHeight),p.copy(m),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY),_.subVectors(w,x),_.y>0?A(M()):_.y<0&&k(M()),x.copy(w),n.update()}(e);break;case a.PAN:if(!1===n.enablePan)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,g).multiplyScalar(n.panSpeed),C(b.x,b.y),g.copy(y),n.update()}(e)}}function B(e){!1!==n.enabled&&(document.removeEventListener("mousemove",U,!1),document.removeEventListener("mouseup",B,!1),n.dispatchEvent(o),s=a.NONE)}function V(e){!1===n.enabled||!1===n.enableZoom||s!==a.NONE&&s!==a.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){e.deltaY<0?k(M()):e.deltaY>0&&A(M()),n.update()}(e),n.dispatchEvent(o))}function H(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:C(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:C(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:C(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:C(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function G(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case TO:if(!1===n.enableRotate)return;L(e),s=a.TOUCH_ROTATE;break;case PO:if(!1===n.enablePan)return;D(e),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(n.touches.TWO){case CO:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&N(e),n.enablePan&&D(e)}(e),s=a.TOUCH_DOLLY_PAN;break;case AO:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&N(e),n.enableRotate&&L(e)}(e),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&n.dispatchEvent(i)}}function W(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;I(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;j(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&z(e),n.enablePan&&j(e)}(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&z(e),n.enableRotate&&I(e)}(e),n.update();break;default:s=a.NONE}}function q(e){!1!==n.enabled&&(n.dispatchEvent(o),s=a.NONE)}function Y(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Y,!1),n.domElement.addEventListener("mousedown",F,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",G,!1),n.domElement.addEventListener("touchend",q,!1),n.domElement.addEventListener("touchmove",W,!1),window.addEventListener("keydown",H,!1),this.update()};(eW.prototype=Object.create(KL.prototype)).constructor=eW;var tW=function(e,t){eW.call(this,e,t),this.mouseButtons.LEFT=EO,this.mouseButtons.RIGHT=MO,this.touches.ONE=PO,this.touches.TWO=AO};function nW(e){return Object.prototype.toString.call(e)}(tW.prototype=Object.create(KL.prototype)).constructor=tW;var rW={isFunction:function(){var e=nW((function(){}));return function(t){return nW(t)===e}}(),isUndefined:function(e){return"undefined"===typeof e}};KL.prototype.on=function(e,t){if(rW.isFunction(t))return this instanceof BD&&(this.interactive=!0),this.addEventListener(e,t),this},KL.prototype.off=function(e,t){return this.removeEventListener(e,t),this},KL.prototype.once=function(e,t){var n=this;if(rW.isFunction(t)){return this.on(e,(function r(i){t(i),n.off(e,r)})),this}},KL.prototype.emit=function(e){if(void 0!==this._listeners&&!rW.isUndefined(this._listeners[e])){for(var t=(this._listeners[e]||[]).slice(0),n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,r);return this}},BD.prototype.interactive=!1,BD.prototype.interactiveChildren=!0,BD.prototype.started=!1,Object.defineProperty(BD.prototype,"trackedPointers",{get:function(){return this._trackedPointers||(this._trackedPointers={}),this._trackedPointers}}),BD.prototype.raycastTest=function(e){var t=[];return this.raycast(e,t),t.length>0&&t[0]};var iW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oW=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},aW=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sW=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cW=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},lW=function(){function e(){oW(this,e),this.global=new nD,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return aW(e,[{key:"_copyEvent",value:function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=e.buttons,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0}},{key:"_reset",value:function(){this.isPrimary=!1}},{key:"pointerId",get:function(){return this.identifier}}]),e}(),uW=function(){function e(){oW(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null,this.intersects=[]}return aW(e,[{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"_reset",value:function(){this.stopped=!1,this.currentTarget=null,this.target=null,this.intersects=[]}}]),e}(),hW=function(){function e(t){oW(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return aW(e,[{key:"_doSet",value:function(e,t){this._flags=t?this._flags|e:this._flags&~e}},{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();hW.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var dW="MOUSE",fW={target:null,data:{global:null}},pW=function(e){function t(e,n,r,i){oW(this,t);var o=cW(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i=i||{},o.renderer=e,o.scene=n,o.camera=r,o.autoPreventDefault=i.autoPreventDefault||!1,o.interactionFrequency=i.interactionFrequency||10,o.mouse=new lW,o.mouse.identifier=dW,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[dW]=o.mouse,o.interactionDataPool=[],o.eventData=new uW,o.interactionDOMElement=null,o.moveWhenInside=!0,o.eventsAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onClick=o.onClick.bind(o),o.processClick=o.processClick.bind(o),o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.raycaster=new kH,o._deltaTime=0,o.setTargetElement(o.renderer.domElement),o}return sW(t,e),aW(t,[{key:"hitTest",value:function(e,t){return fW.target=null,fW.data.global=e,t||(t=this.scene),this.processInteractive(fW,t,null,!0),fW.target}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.interactionDOMElement=e,this.addEvents()}},{key:"addEvents",value:function(){this.interactionDOMElement&&!this.eventsAdded&&(this.emit("addevents"),this.interactionDOMElement.addEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(this.emit("removeevents"),this.interactionDOMElement.removeEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(e){var t=e.snippet;if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var n in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var r=this.activeInteractionData[n];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.scene,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch("undefined"===typeof t?"undefined":iW(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!==typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}}},{key:"triggerEvent",value:function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))}},{key:"processInteractive",value:function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=!1,a=i=t.interactive||i;if(t.interactiveChildren&&t.children)for(var s=t.children,c=s.length-1;c>=0;c--){var l=s[c],u=this.processInteractive(e,l,n,r,a);if(u){if(!l.parent)continue;a=!1,u&&(e.target&&(r=!1),o=!0)}}return i&&(r&&!e.target&&e.intersects[0]&&e.intersects[0].object===t&&(o=!0),t.interactive&&(o&&!e.target&&(e.data.target=e.target=t),n&&n(e,t,!!o))),o}},{key:"onClick",value:function(e){if("click"===e.type){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();var n=this.getInteractionDataForPointerId(t[0]),r=this.configureInteractionEventForDOMEvent(this.eventData,t[0],n);r.data.originalEvent=e,this.processInteractive(r,this.scene,this.processClick,!0),this.emit("click",r)}}},{key:"processClick",value:function(e,t,n){n&&this.triggerEvent(t,"click",e)}},{key:"onPointerDown",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.scene,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}}},{key:"processPointerDown",value:function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new hW(i)),this.triggerEvent(t,"pointerdown",e),"touch"===r.pointerType)t.started=!0,this.triggerEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.triggerEvent(t,o?"rightdown":"mousedown",e)}}},{key:"onPointerComplete",value:function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=e,this.processInteractive(l,this.scene,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var u=2===s.button;this.emit(u?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,c))}}},{key:"onPointerCancel",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)}},{key:"processPointerCancel",value:function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.triggerEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.triggerEvent(t,"touchcancel",e))}},{key:"onPointerUp",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)}},{key:"processPointerUp",value:function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType;if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button,c=hW.FLAGS,l=s?c.RIGHT_DOWN:c.LEFT_DOWN,u=void 0!==o&&o.flags&l;n?(this.triggerEvent(t,s?"rightup":"mouseup",e),u&&this.triggerEvent(t,s?"rightclick":"leftclick",e)):u&&this.triggerEvent(t,s?"rightupoutside":"mouseupoutside",e),o&&(s?o.rightDown=!1:o.leftDown=!1)}a&&t.started&&(t.started=!1,this.triggerEvent(t,"touchend",e)),n?(this.triggerEvent(t,"pointerup",e),o&&(this.triggerEvent(t,"pointertap",e),a&&(this.triggerEvent(t,"tap",e),o.over=!1))):o&&(this.triggerEvent(t,"pointerupoutside",e),a&&this.triggerEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]}},{key:"onPointerMove",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"===t[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.scene,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),i&&t.started&&this.triggerEvent(t,"touchmove",e),this.moveWhenInside&&!n||(this.triggerEvent(t,"pointermove",e),o&&this.triggerEvent(t,"mousemove",e))}},{key:"onPointerOut",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.scene,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}}},{key:"processPointerOverOut",value:function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new hW(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.triggerEvent(t,"pointerover",e),o&&this.triggerEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.triggerEvent(t,"pointerout",this.eventData),o&&this.triggerEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))}},{key:"onPointerOver",value:function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)}},{key:"getInteractionDataForPointerId",value:function(e){var t=e.pointerId,n=void 0;return t===dW||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:((n=this.interactionDataPool.pop()||new lW).identifier=t,this.activeInteractionData[t]=n),n._copyEvent(e),n}},{key:"releaseInteractionDataForPointerId",value:function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t._reset(),this.interactionDataPool.push(t))}},{key:"mapPositionToPoint",value:function(e,t,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,left:0,top:0,width:0,height:0},e.x=(t-r.left)/r.width*2-1,e.y=-(n-r.top)/r.height*2+1}},{key:"configureInteractionEventForDOMEvent",value:function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),this.raycaster.setFromCamera(n.global,this.camera),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e._reset(),e.intersects=this.raycaster.intersectObjects(this.scene.children,!0),e}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||("undefined"===typeof e.isPrimary&&(e.isPrimary=!0),"undefined"===typeof e.width&&(e.width=1),"undefined"===typeof e.height&&(e.height=1),"undefined"===typeof e.tiltX&&(e.tiltX=0),"undefined"===typeof e.tiltY&&(e.tiltY=0),"undefined"===typeof e.pointerType&&(e.pointerType="mouse"),"undefined"===typeof e.pointerId&&(e.pointerId=dW),"undefined"===typeof e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0),t.push(e);return t}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),t}(KL),mW="MOUSE",vW={target:null,data:{global:null}};!function(e){function t(e,n){oW(this,t);var r=cW(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n=n||{},r.renderer=e,r.layer=null,r.autoPreventDefault=n.autoPreventDefault||!1,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new lW,r.mouse.identifier=mW,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[mW]=r.mouse,r.interactionDataPool=[],r.eventData=new uW,r.interactionDOMElement=null,r.moveWhenInside=!0,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onClick=r.onClick.bind(r),r.processClick=r.processClick.bind(r),r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.raycaster=new kH,r._deltaTime=0,r.setTargetElement(r.renderer.domElement),r}sW(t,e),aW(t,[{key:"isAble",value:function(){return this.layer&&this.layer.interactive}},{key:"setLayer",value:function(e){this.layer=e}},{key:"hitTest",value:function(e,t){return this.isAble()?(vW.target=null,vW.data.global=e,t||(t=this.layer.scene),this.processInteractive(vW,t,null,!0),vW.target):null}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.interactionDOMElement=e,this.addEvents()}},{key:"addEvents",value:function(){this.interactionDOMElement&&!this.eventsAdded&&(this.emit("addevents"),this.interactionDOMElement.addEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(this.emit("removeevents"),this.interactionDOMElement.removeEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(e){var t=e.snippet;if(this.isAble()&&(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)))if(this.didMove)this.didMove=!1;else{for(var n in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var r=this.activeInteractionData[n];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.layer.scene,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch("undefined"===typeof t?"undefined":iW(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!==typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}}},{key:"triggerEvent",value:function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))}},{key:"processInteractive",value:function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=!1,a=i=t.interactive||i;if(t.interactiveChildren&&t.children)for(var s=t.children,c=s.length-1;c>=0;c--){var l=s[c],u=this.processInteractive(e,l,n,r,a);if(u){if(!l.parent)continue;a=!1,u&&(e.target&&(r=!1),o=!0)}}return i&&(r&&!e.target&&e.intersects[0]&&e.intersects[0].object===t&&(o=!0),t.interactive&&(o&&!e.target&&(e.data.target=e.target=t),n&&n(e,t,!!o))),o}},{key:"onClick",value:function(e){if(this.isAble()&&"click"===e.type){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();var n=this.getInteractionDataForPointerId(t[0]),r=this.configureInteractionEventForDOMEvent(this.eventData,t[0],n);r.data.originalEvent=e,this.processInteractive(r,this.layer.scene,this.processClick,!0),this.emit("click",r)}}},{key:"processClick",value:function(e,t,n){n&&this.triggerEvent(t,"click",e)}},{key:"onPointerDown",value:function(e){if(this.isAble()&&(!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.layer.scene,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}}},{key:"processPointerDown",value:function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new hW(i)),this.triggerEvent(t,"pointerdown",e),"touch"===r.pointerType)t.started=!0,this.triggerEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.triggerEvent(t,o?"rightdown":"mousedown",e)}}},{key:"onPointerComplete",value:function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=e,this.processInteractive(l,this.layer.scene,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var u=2===s.button;this.emit(u?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,c))}}},{key:"onPointerCancel",value:function(e){this.isAble()&&(this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel))}},{key:"processPointerCancel",value:function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.triggerEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.triggerEvent(t,"touchcancel",e))}},{key:"onPointerUp",value:function(e){this.isAble()&&(this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp))}},{key:"processPointerUp",value:function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType;if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button,c=hW.FLAGS,l=s?c.RIGHT_DOWN:c.LEFT_DOWN,u=void 0!==o&&o.flags&l;n?(this.triggerEvent(t,s?"rightup":"mouseup",e),u&&this.triggerEvent(t,s?"rightclick":"leftclick",e)):u&&this.triggerEvent(t,s?"rightupoutside":"mouseupoutside",e),o&&(s?o.rightDown=!1:o.leftDown=!1)}a&&t.started&&(t.started=!1,this.triggerEvent(t,"touchend",e)),n?(this.triggerEvent(t,"pointerup",e),o&&(this.triggerEvent(t,"pointertap",e),a&&(this.triggerEvent(t,"tap",e),o.over=!1))):o&&(this.triggerEvent(t,"pointerupoutside",e),a&&this.triggerEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]}},{key:"onPointerMove",value:function(e){if(this.isAble()&&(!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e);"mouse"===t[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.layer.scene,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),i&&t.started&&this.triggerEvent(t,"touchmove",e),this.moveWhenInside&&!n||(this.triggerEvent(t,"pointermove",e),o&&this.triggerEvent(t,"mousemove",e))}},{key:"onPointerOut",value:function(e){if(this.isAble()&&(!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.layer.scene,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}}},{key:"processPointerOverOut",value:function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new hW(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.triggerEvent(t,"pointerover",e),o&&this.triggerEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.triggerEvent(t,"pointerout",this.eventData),o&&this.triggerEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))}},{key:"onPointerOver",value:function(e){if(this.isAble()){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)}}},{key:"getInteractionDataForPointerId",value:function(e){var t=e.pointerId,n=void 0;return t===mW||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:((n=this.interactionDataPool.pop()||new lW).identifier=t,this.activeInteractionData[t]=n),n._copyEvent(e),n}},{key:"releaseInteractionDataForPointerId",value:function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t._reset(),this.interactionDataPool.push(t))}},{key:"mapPositionToPoint",value:function(e,t,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,left:0,top:0,width:0,height:0},e.x=(t-r.left)/r.width*2-1,e.y=-(n-r.top)/r.height*2+1}},{key:"configureInteractionEventForDOMEvent",value:function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),this.layer&&this.layer.interactive&&this.raycaster.setFromCamera(n.global,this.layer.camera),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e._reset(),e.intersects=this.raycaster.intersectObjects(this.scene.children,!0),e}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||("undefined"===typeof e.isPrimary&&(e.isPrimary=!0),"undefined"===typeof e.width&&(e.width=1),"undefined"===typeof e.height&&(e.height=1),"undefined"===typeof e.tiltX&&(e.tiltX=0),"undefined"===typeof e.tiltY&&(e.tiltY=0),"undefined"===typeof e.pointerType&&(e.pointerType="mouse"),"undefined"===typeof e.pointerId&&(e.pointerId=mW),"undefined"===typeof e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0),t.push(e);return t}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}])}(KL);!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),i=window.setTimeout((function(){t(n+r)}),r);return e=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),window.RAF=window.requestAnimationFrame,window.CAF=window.cancelAnimationFrame}();var gW=function(e){function t(){oW(this,t);var e=cW(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timer=null,e.started=!1,e.pt=0,e.snippet=0,e.start(),e}return sW(t,e),aW(t,[{key:"start",value:function(){var e=this;if(!this.started){!function t(){e.timeline(),e.emit("tick",{snippet:e.snippet}),e.timer=RAF(t)}()}}},{key:"stop",value:function(){CAF(this.timer),this.started=!1}},{key:"timeline",value:function(){this.snippet=Date.now()-this.pt,(0===this.pt||this.snippet>200)&&(this.pt=Date.now(),this.snippet=Date.now()-this.pt),this.pt+=this.snippet}}]),t}(KL),yW=function(e){function t(e,n,r,i){oW(this,t),i=Object.assign({autoAttach:!1},i);var o=cW(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i));return o.ticker=new gW,o.update=o.update.bind(o),o.on("addevents",(function(){o.ticker.on("tick",o.update)})),o.on("removeevents",(function(){o.ticker.off("tick",o.update)})),o.setTargetElement(o.renderer.domElement),o}return sW(t,e),t}(pW);function bW(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xW(e){return e instanceof bW(e).Element||e instanceof Element}function wW(e){return e instanceof bW(e).HTMLElement||e instanceof HTMLElement}function _W(e){return"undefined"!==typeof ShadowRoot&&(e instanceof bW(e).ShadowRoot||e instanceof ShadowRoot)}var MW=Math.max,SW=Math.min,EW=Math.round;function TW(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function PW(){return!/^((?!chrome|android).)*safari/i.test(TW())}function CW(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&wW(e)&&(i=e.offsetWidth>0&&EW(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&EW(r.height)/e.offsetHeight||1);var a=(xW(e)?bW(e):window).visualViewport,s=!PW()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,h=r.height/o;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c,x:c,y:l}}function AW(e){var t=bW(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kW(e){return e?(e.nodeName||"").toLowerCase():null}function OW(e){return((xW(e)?e.ownerDocument:e.document)||window.document).documentElement}function RW(e){return CW(OW(e)).left+AW(e).scrollLeft}function LW(e){return bW(e).getComputedStyle(e)}function DW(e){var t=LW(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function NW(e,t,n){void 0===n&&(n=!1);var r=wW(t),i=wW(t)&&function(e){var t=e.getBoundingClientRect(),n=EW(t.width)/e.offsetWidth||1,r=EW(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=OW(t),a=CW(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==kW(t)||DW(o))&&(s=function(e){return e!==bW(e)&&wW(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:AW(e);var t}(t)),wW(t)?((c=CW(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=RW(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function IW(e){var t=CW(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function jW(e){return"html"===kW(e)?e:e.assignedSlot||e.parentNode||(_W(e)?e.host:null)||OW(e)}function zW(e){return["html","body","#document"].indexOf(kW(e))>=0?e.ownerDocument.body:wW(e)&&DW(e)?e:zW(jW(e))}function FW(e,t){var n;void 0===t&&(t=[]);var r=zW(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=bW(r),a=i?[o].concat(o.visualViewport||[],DW(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(FW(jW(a)))}function UW(e){return["table","td","th"].indexOf(kW(e))>=0}function BW(e){return wW(e)&&"fixed"!==LW(e).position?e.offsetParent:null}function VW(e){for(var t=bW(e),n=BW(e);n&&UW(n)&&"static"===LW(n).position;)n=BW(n);return n&&("html"===kW(n)||"body"===kW(n)&&"static"===LW(n).position)?t:n||function(e){var t=/firefox/i.test(TW());if(/Trident/i.test(TW())&&wW(e)&&"fixed"===LW(e).position)return null;var n=jW(e);for(_W(n)&&(n=n.host);wW(n)&&["html","body"].indexOf(kW(n))<0;){var r=LW(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var HW="top",GW="bottom",WW="right",qW="left",YW="auto",XW=[HW,GW,WW,qW],ZW="start",$W="end",JW="clippingParents",KW="viewport",QW="popper",eq="reference",tq=XW.reduce((function(e,t){return e.concat([t+"-"+ZW,t+"-"+$W])}),[]),nq=[].concat(XW,[YW]).reduce((function(e,t){return e.concat([t,t+"-"+ZW,t+"-"+$W])}),[]),rq=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function iq(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function oq(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var aq={placement:"bottom",modifiers:[],strategy:"absolute"};function sq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function cq(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?aq:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},aq,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:xW(e)?FW(e):e.contextElement?FW(e.contextElement):[],popper:FW(t)};var u=function(e){var t=iq(e);return rq.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:c,options:r}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(sq(t,n)){i.rects={reference:NW(t,VW(n),"fixed"===i.options.strategy),popper:IW(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,u=void 0===l?{}:l,h=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:oq((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!sq(e,t))return c;function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var lq={passive:!0};const uq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=bW(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,lq)})),s&&c.addEventListener("resize",n.update,lq),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,lq)})),s&&c.removeEventListener("resize",n.update,lq)}},data:{}};function hq(e){return e.split("-")[0]}function dq(e){return e.split("-")[1]}function fq(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pq(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?hq(i):null,a=i?dq(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case HW:t={x:s,y:n.y-r.height};break;case GW:t={x:s,y:n.y+n.height};break;case WW:t={x:n.x+n.width,y:c};break;case qW:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?fq(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case ZW:t[l]=t[l]-(n[u]/2-r[u]/2);break;case $W:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var mq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vq(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=a.x,f=void 0===d?0:d,p=a.y,m=void 0===p?0:p,v="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=qW,x=HW,w=window;if(l){var _=VW(n),M="clientHeight",S="clientWidth";if(_===bW(n)&&"static"!==LW(_=OW(n)).position&&"absolute"===s&&(M="scrollHeight",S="scrollWidth"),i===HW||(i===qW||i===WW)&&o===$W)x=GW,m-=(h&&_===w&&w.visualViewport?w.visualViewport.height:_[M])-r.height,m*=c?1:-1;if(i===qW||(i===HW||i===GW)&&o===$W)b=WW,f-=(h&&_===w&&w.visualViewport?w.visualViewport.width:_[S])-r.width,f*=c?1:-1}var E,T=Object.assign({position:s},l&&mq),P=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:EW(n*i)/i||0,y:EW(r*i)/i||0}}({x:f,y:m},bW(n)):{x:f,y:m};return f=P.x,m=P.y,c?Object.assign({},T,((E={})[x]=y?"0":"",E[b]=g?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[x]=y?m+"px":"",t[b]=g?f+"px":"",t.transform="",t))}const gq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:hq(t.placement),variation:dq(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,vq(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,vq(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const yq={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];wW(i)&&kW(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});wW(r)&&kW(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const bq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=nq.reduce((function(e,n){return e[n]=function(e,t,n){var r=hq(e),i=[qW,HW].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[qW,WW].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}};var xq={left:"right",right:"left",bottom:"top",top:"bottom"};function wq(e){return e.replace(/left|right|bottom|top/g,(function(e){return xq[e]}))}var _q={start:"end",end:"start"};function Mq(e){return e.replace(/start|end/g,(function(e){return _q[e]}))}function Sq(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&_W(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Eq(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Tq(e,t,n){return t===KW?Eq(function(e,t){var n=bW(e),r=OW(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=PW();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+RW(e),y:c}}(e,n)):xW(t)?function(e,t){var n=CW(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Eq(function(e){var t,n=OW(e),r=AW(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=MW(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=MW(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+RW(e),c=-r.scrollTop;return"rtl"===LW(i||n).direction&&(s+=MW(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(OW(e)))}function Pq(e,t,n,r){var i="clippingParents"===t?function(e){var t=FW(jW(e)),n=["absolute","fixed"].indexOf(LW(e).position)>=0&&wW(e)?VW(e):e;return xW(n)?t.filter((function(e){return xW(e)&&Sq(e,n)&&"body"!==kW(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Tq(e,n,r);return t.top=MW(i.top,t.top),t.right=SW(i.right,t.right),t.bottom=SW(i.bottom,t.bottom),t.left=MW(i.left,t.left),t}),Tq(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Cq(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Aq(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function kq(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,c=void 0===s?JW:s,l=n.rootBoundary,u=void 0===l?KW:l,h=n.elementContext,d=void 0===h?QW:h,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,g=Cq("number"!==typeof v?v:Aq(v,XW)),y=d===QW?eq:QW,b=e.rects.popper,x=e.elements[p?y:d],w=Pq(xW(x)?x:x.contextElement||OW(e.elements.popper),c,u,a),_=CW(e.elements.reference),M=pq({reference:_,element:b,strategy:"absolute",placement:i}),S=Eq(Object.assign({},b,M)),E=d===QW?S:_,T={top:w.top-E.top+g.top,bottom:E.bottom-w.bottom+g.bottom,left:w.left-E.left+g.left,right:E.right-w.right+g.right},P=e.modifiersData.offset;if(d===QW&&P){var C=P[i];Object.keys(T).forEach((function(e){var t=[WW,GW].indexOf(e)>=0?1:-1,n=[HW,GW].indexOf(e)>=0?"y":"x";T[e]+=C[n]*t}))}return T}const Oq={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=hq(v),y=c||(g===v||!p?[wq(v)]:function(e){if(hq(e)===YW)return[];var t=wq(e);return[Mq(e),t,Mq(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(hq(n)===YW?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?nq:c,u=dq(r),h=u?s?tq:tq.filter((function(e){return dq(e)===u})):XW,d=h.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=h);var f=d.reduce((function(t,n){return t[n]=kq(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[hq(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,_=new Map,M=!0,S=b[0],E=0;E<b.length;E++){var T=b[E],P=hq(T),C=dq(T)===ZW,A=[HW,GW].indexOf(P)>=0,k=A?"width":"height",O=kq(t,{placement:T,boundary:u,rootBoundary:h,altBoundary:d,padding:l}),R=A?C?WW:qW:C?GW:HW;x[k]>w[k]&&(R=wq(R));var L=wq(R),D=[];if(o&&D.push(O[P]<=0),s&&D.push(O[R]<=0,O[L]<=0),D.every((function(e){return e}))){S=T,M=!1;break}_.set(T,D)}if(M)for(var N=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},I=p?3:1;I>0;I--){if("break"===N(I))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Rq(e,t,n){return MW(e,SW(t,n))}const Lq={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,m=void 0===p?0:p,v=kq(t,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),g=hq(t.placement),y=dq(t.placement),b=!y,x=fq(g),w="x"===x?"y":"x",_=t.modifiersData.popperOffsets,M=t.rects.reference,S=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(o){var A,k="y"===x?HW:qW,O="y"===x?GW:WW,R="y"===x?"height":"width",L=_[x],D=L+v[k],N=L-v[O],I=f?-S[R]/2:0,j=y===ZW?M[R]:S[R],z=y===ZW?-S[R]:-M[R],F=t.elements.arrow,U=f&&F?IW(F):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=B[k],H=B[O],G=Rq(0,M[R],U[R]),W=b?M[R]/2-I-G-V-T.mainAxis:j-G-V-T.mainAxis,q=b?-M[R]/2+I+G+H+T.mainAxis:z+G+H+T.mainAxis,Y=t.elements.arrow&&VW(t.elements.arrow),X=Y?"y"===x?Y.clientTop||0:Y.clientLeft||0:0,Z=null!=(A=null==P?void 0:P[x])?A:0,$=L+q-Z,J=Rq(f?SW(D,L+W-Z-X):D,L,f?MW(N,$):N);_[x]=J,C[x]=J-L}if(s){var K,Q="x"===x?HW:qW,ee="x"===x?GW:WW,te=_[w],ne="y"===w?"height":"width",re=te+v[Q],ie=te-v[ee],oe=-1!==[HW,qW].indexOf(g),ae=null!=(K=null==P?void 0:P[w])?K:0,se=oe?re:te-M[ne]-S[ne]-ae+T.altAxis,ce=oe?te+M[ne]+S[ne]-ae-T.altAxis:ie,le=f&&oe?function(e,t,n){var r=Rq(e,t,n);return r>n?n:r}(se,te,ce):Rq(f?se:re,te,f?ce:ie);_[w]=le,C[w]=le-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const Dq={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=hq(n.placement),c=fq(s),l=[qW,WW].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return Cq("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Aq(e,XW))}(i.padding,n),h=IW(o),d="y"===c?HW:qW,f="y"===c?GW:WW,p=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],v=VW(o),g=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,y=p/2-m/2,b=u[d],x=g-h[l]-u[f],w=g/2-h[l]/2+y,_=Rq(b,w,x),M=c;n.modifiersData[r]=((t={})[M]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Sq(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nq(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Iq(e){return[HW,WW,GW,qW].some((function(t){return e[t]>=0}))}var jq=cq({defaultModifiers:[uq,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},gq,yq,bq,Oq,Lq,Dq,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=kq(t,{elementContext:"reference"}),s=kq(t,{altBoundary:!0}),c=Nq(a,r),l=Nq(s,i,o),u=Iq(c),h=Iq(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),zq="tippy-content",Fq="tippy-backdrop",Uq="tippy-arrow",Bq="tippy-svg-arrow",Vq={passive:!0,capture:!0},Hq=function(){return document.body};function Gq(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Wq(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function qq(e,t){return"function"===typeof e?e.apply(void 0,t):e}function Yq(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Xq(e){return[].concat(e)}function Zq(e,t){-1===e.indexOf(t)&&e.push(t)}function $q(e){return e.split("-")[0]}function Jq(e){return[].slice.call(e)}function Kq(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Qq(){return document.createElement("div")}function eY(e){return["Element","Fragment"].some((function(t){return Wq(e,t)}))}function tY(e){return Wq(e,"MouseEvent")}function nY(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function rY(e){return eY(e)?[e]:function(e){return Wq(e,"NodeList")}(e)?Jq(e):Array.isArray(e)?e:Jq(document.querySelectorAll(e))}function iY(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function oY(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function aY(e){var t,n=Xq(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function sY(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function cY(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var lY={isTouch:!1},uY=0;function hY(){lY.isTouch||(lY.isTouch=!0,window.performance&&document.addEventListener("mousemove",dY))}function dY(){var e=performance.now();e-uY<20&&(lY.isTouch=!1,document.removeEventListener("mousemove",dY)),uY=e}function fY(){var e=document.activeElement;if(nY(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var pY=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var mY={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},vY=Object.assign({appendTo:Hq,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mY,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),gY=Object.keys(vY);function yY(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=vY[i])?r:o);return t}),{});return Object.assign({},e,t)}function bY(e,t){var n=Object.assign({},t,{content:qq(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(yY(Object.assign({},vY,{plugins:t}))):gY).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},vY.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}var xY=function(){return"innerHTML"};function wY(e,t){e[xY()]=t}function _Y(e){var t=Qq();return!0===e?t.className=Uq:(t.className=Bq,eY(e)?t.appendChild(e):wY(t,e)),t}function MY(e,t){eY(t.content)?(wY(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?wY(e,t.content):e.textContent=t.content)}function SY(e){var t=e.firstElementChild,n=Jq(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(zq)})),arrow:n.find((function(e){return e.classList.contains(Uq)||e.classList.contains(Bq)})),backdrop:n.find((function(e){return e.classList.contains(Fq)}))}}function EY(e){var t=Qq(),n=Qq();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Qq();function i(n,r){var i=SY(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"===typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||MY(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(_Y(r.arrow))):o.appendChild(_Y(r.arrow)):s&&o.removeChild(s)}return r.className=zq,r.setAttribute("data-state","hidden"),MY(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}EY.$$tippy=!0;var TY=1,PY=[],CY=[];function AY(e,t){var n,r,i,o,a,s,c,l,u=bY(e,Object.assign({},vY,yY(Kq(t)))),h=!1,d=!1,f=!1,p=!1,m=[],v=Yq(Y,u.interactiveDebounce),g=TY++,y=(l=u.plugins).filter((function(e,t){return l.indexOf(e)===t})),b={id:g,reference:e,popper:Qq(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(b.state.isDestroyed)return;L("onBeforeUpdate",[b,t]),W();var n=b.props,r=bY(e,Object.assign({},n,Kq(t),{ignoreAttributes:!0}));b.props=r,G(),n.interactiveDebounce!==r.interactiveDebounce&&(I(),v=Yq(Y,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Xq(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");N(),R(),_&&_(n,r);b.popperInstance&&(J(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));L("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=lY.isTouch&&!b.props.touch,i=Gq(b.props.duration,0,vY.duration);if(e||t||n||r)return;if(C().hasAttribute("disabled"))return;if(L("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,P()&&(w.style.visibility="visible");R(),U(),b.state.isMounted||(w.style.transition="none");if(P()){var o=k();iY([o.box,o.content],0)}s=function(){var e;if(b.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,P()&&b.props.animation){var t=k(),n=t.box,r=t.content;iY([n,r],i),oY([n,r],"visible")}D(),N(),Zq(CY,b),null==(e=b.popperInstance)||e.forceUpdate(),L("onMount",[b]),b.props.animation&&P()&&function(e,t){V(e,t)}(i,(function(){b.state.isShown=!0,L("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=C();e=b.props.interactive&&t===Hq||"parent"===t?n.parentNode:qq(t,[n]);e.contains(w)||e.appendChild(w);b.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Gq(b.props.duration,1,vY.duration);if(e||t||n)return;if(L("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,h=!1,P()&&(w.style.visibility="hidden");if(I(),B(),R(!0),P()){var i=k(),o=i.box,a=i.content;b.props.animation&&(iY([o,a],r),oY([o,a],"hidden"))}D(),N(),b.props.animation?P()&&function(e,t){V(e,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;A().addEventListener("mousemove",v),Zq(PY,v),v(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;K(),Q().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);CY=CY.filter((function(e){return e!==b})),b.state.isMounted=!1,L("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete e._tippy,b.state.isDestroyed=!0,L("onDestroy",[b])}};if(!u.render)return b;var x=u.render(b),w=x.popper,_=x.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var M=y.map((function(e){return e.fn(b)})),S=e.hasAttribute("aria-expanded");return G(),N(),R(),L("onCreate",[b]),u.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",v)})),b;function E(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===E()[0]}function P(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function C(){return c||e}function A(){var e=C().parentNode;return e?aY(e):document}function k(){return SY(w)}function O(e){return b.state.isMounted&&!b.state.isVisible||lY.isTouch||o&&"focus"===o.type?0:Gq(b.props.delay,e?0:1,vY.delay)}function R(e){void 0===e&&(e=!1),w.style.pointerEvents=b.props.interactive&&!e?"":"none",w.style.zIndex=""+b.props.zIndex}function L(e,t,n){var r;(void 0===n&&(n=!0),M.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=b.props)[e].apply(r,t)}function D(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;Xq(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function N(){!S&&b.props.aria.expanded&&Xq(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function I(){A().removeEventListener("mousemove",v),PY=PY.filter((function(e){return e!==v}))}function j(t){if(!lY.isTouch||!f&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!cY(w,n)){if(Xq(b.props.triggerTarget||e).some((function(e){return cY(e,n)}))){if(lY.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),d=!0,setTimeout((function(){d=!1})),b.state.isMounted||B())}}}function z(){f=!0}function F(){f=!1}function U(){var e=A();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,Vq),e.addEventListener("touchstart",F,Vq),e.addEventListener("touchmove",z,Vq)}function B(){var e=A();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,Vq),e.removeEventListener("touchstart",F,Vq),e.removeEventListener("touchmove",z,Vq)}function V(e,t){var n=k().box;function r(e){e.target===n&&(sY(n,"remove",r),t())}if(0===e)return t();sY(n,"remove",a),sY(n,"add",r),a=r}function H(t,n,r){void 0===r&&(r=!1),Xq(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),m.push({node:e,eventType:t,handler:n,options:r})}))}function G(){T()&&(H("touchstart",q,{passive:!0}),H("touchend",X,{passive:!0})),function(e){return e.split(/\s+/).filter(Boolean)}(b.props.trigger).forEach((function(e){if("manual"!==e)switch(H(e,q),e){case"mouseenter":H("mouseleave",X);break;case"focus":H(pY?"focusout":"blur",Z);break;case"focusin":H("focusout",Z)}}))}function W(){m.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),m=[]}function q(e){var t,n=!1;if(b.state.isEnabled&&!$(e)&&!d){var r="focus"===(null==(t=o)?void 0:t.type);o=e,c=e.currentTarget,N(),!b.state.isVisible&&tY(e)&&PY.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(h=!n),n&&!r&&te(e)}}function Y(e){var t=e.target,n=C().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=Q().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=$q(i.placement),s=i.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,h="left"===a?s.right.x:0,d=t.top-r+c>o,f=r-t.bottom-l>o,p=t.left-n+u>o,m=n-t.right-h>o;return d||f||p||m}))})(r,e)&&(I(),te(e))}}function X(e){$(e)||b.props.trigger.indexOf("click")>=0&&h||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function Z(e){b.props.trigger.indexOf("focusin")<0&&e.target!==C()||b.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function $(e){return!!lY.isTouch&&T()!==e.type.indexOf("touch")>=0}function J(){K();var t=b.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,c=P()?SY(w).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||C()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(P()){var n=k().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];P()&&c&&h.push({name:"arrow",options:{element:c,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),b.popperInstance=jq(l,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:h}))}function K(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return Jq(w.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&L("onTrigger",[b,e]),U();var t=O(!0),r=E(),i=r[0],o=r[1];lY.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),L("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=O(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):i=requestAnimationFrame((function(){b.hide()}))}}else B()}}function kY(e,t){void 0===t&&(t={});var n=vY.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",hY,Vq),window.addEventListener("blur",fY);var r=Object.assign({},t,{plugins:n}),i=rY(e).reduce((function(e,t){var n=t&&AY(t,r);return n&&e.push(n),e}),[]);return eY(e)?i[0]:i}kY.defaultProps=vY,kY.setDefaultProps=function(e){Object.keys(e).forEach((function(t){vY[t]=e[t]}))},kY.currentInput=lY;Object.assign({},yq,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});kY.setDefaultProps({render:EY});const OY=kY;var RY={onClickMarker:function(e,t,n){},onDefocus:function(e){},onGlobeBackgroundTextureLoaded:function(){},onGlobeCloudsTextureLoaded:function(){},onGlobeTextureLoaded:function(){},onMouseOutMarker:function(e,t,n){},onMouseOverMarker:function(e,t,n){}},LY=[1.29027,103.851959],DY={ambientLightColor:"white",ambientLightIntensity:.8,cameraAutoRotateSpeed:.1,cameraDistanceRadiusScale:3,cameraMaxDistanceRadiusScale:100,cameraMaxPolarAngle:Math.PI,cameraMinPolarAngle:0,cameraRotateSpeed:.2,cameraZoomSpeed:1,enableCameraAutoRotate:!0,enableCameraRotate:!0,enableCameraZoom:!0,enableDefocus:!0,enableGlobeGlow:!0,enableMarkerGlow:!0,enableMarkerTooltip:!0,focusAnimationDuration:1e3,focusDistanceRadiusScale:1.5,focusEasingFunction:["Cubic","Out"],globeCloudsOpacity:.3,globeGlowCoefficient:.1,globeGlowColor:"#d1d1d1",globeGlowPower:3,globeGlowRadiusScale:.2,markerEnterAnimationDuration:1e3,markerEnterEasingFunction:["Linear","None"],markerExitAnimationDuration:500,markerExitEasingFunction:["Cubic","Out"],markerGlowCoefficient:0,markerGlowPower:3,markerGlowRadiusScale:2,markerOffsetRadiusScale:0,markerRadiusScaleRange:[.005,.02],markerRenderer:null,markerTooltipRenderer:function(e){return JSON.stringify(e.coordinates)},markerType:"dot",pointLightColor:"white",pointLightIntensity:1,pointLightPositionRadiusScales:[-2,1,-1]};function NY(){return(NY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IY(e,t){var n=e[0]*Math.PI/180,r=(e[1]-180)*Math.PI/180;return[-t*Math.cos(n)*Math.cos(r),t*Math.sin(n),t*Math.cos(n)*Math.sin(r)]}function jY(e,t){var n=NY({},t);return Object.keys(n).forEach((function(t){var r=e[t];n[t]=void 0===r?n[t]:r})),n}function zY(e){var t=e.to,n=e.animationDuration,r=e.easingFunction,i=e.onUpdate,o=e.onEnd,a=void 0===o?null:o,s=e.delay,c=void 0===s?0:s,l=r[0],u=r[1];new _O.Tween(e.from).to(t,n).easing(_O.Easing[l][u]).on("update",i).on("complete",a).delay(c).start()}var FY=function(){function e(e){this.element=e,this.instance=OY([e],{animation:"scale",arrow:!1})[0]}var t=e.prototype;return t.destroy=function(){this.instance.destroy()},t.hide=function(){document.body.style.cursor="inherit",this.element.style.position="fixed",this.element.style.left="0",this.element.style.top="0",this.instance.hide()},t.show=function(e,t,n){document.body.style.cursor="pointer",this.element.style.position="fixed",this.element.style.left=e+10+"px",this.element.style.top=t+10+"px",this.instance.setContent(n),this.instance.show()},e}(),UY=function(){function e(e){var t,n,r,i=e.canvasElement,o=e.initialCameraDistanceRadiusScale,a=void 0===o?DY.cameraDistanceRadiusScale:o,s=e.initialCoordinates,c=void 0===s?LY:s,l=e.textures,u=void 0===l?{}:l,h=e.tooltipElement;this.callbacks=RY,this.focus=null,this.isLocked=!1,this.markers=[],this.options=DY,this.textures=u,this.previousFocus=null,this.tooltip=new FY(h),this.renderer=new tF({alpha:!0,antialias:!0,canvas:i}),this.camera=function(e,t){var n=new DI;n.name="camera",n.far=3e5,n.fov=45,n.near=1;var r=IY(e,300*t);return n.position.set(r[0],r[1],r[2]),n}(c,a),this.earth=function(){var e=new yI;e.geometry=new XU(300,50,50),e.name="earth";var t=new yI;t.geometry=new XU(301,50,50),t.name="clouds";var n=new yI;return n.name="background",n.geometry=new XU(3e4,50,50),{clouds:t,globe:e,background:n}}(),this.lights=(t=new CV("white"),n=new SV("white"),t.name="ambientLight",n.name="pointLight",{ambient:t,point:n}),this.markerObjects=((r=new Yz).name="markers",r),this.orbitControls=new eW(this.camera,this.renderer.domElement),this.scene=function(e){var t=e.camera,n=e.earth,r=e.lights,i=e.markerObjects,o=e.renderer,a=e.defocus,s=new VD;return t.add(r.ambient),t.add(r.point),s.add(t),s.add(n.globe),s.add(i),new yW(o,s,t),s.on("click",a),s}({camera:this.camera,earth:this.earth,lights:this.lights,markerObjects:this.markerObjects,renderer:this.renderer,defocus:this.defocus.bind(this)}),this.updateOptions(),this.updateCallbacks(),this.updateMarkers()}var t=e.prototype;return t.animate=function(){this.render(),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))},t.animateClouds=function(){var e=this;["x","y","z"].forEach((function(t){e.earth.clouds.rotation[t]+=Math.random()/1e4}))},t.applyAnimations=function(e){var t=this,n=0,r=[];return e.forEach((function(i,o){var a=i.coordinates,s=i.focusAnimationDuration,c={focusAnimationDuration:s,focusDistanceRadiusScale:i.focusDistanceRadiusScale,focusEasingFunction:i.focusEasingFunction},l=o===e.length-1,u=setTimeout((function(){t.unlock(),t.updateFocus(a,c,l)}),n);r.push(u),n+=s})),function(){r.forEach((function(e){clearTimeout(e)}))}},t.defocus=function(){!this.isLocked&&this.previousFocus&&this.options.enableDefocus&&(this.updateFocus(null),this.callbacks.onDefocus(this.previousFocus))},t.destroy=function(){cancelAnimationFrame(this.animationFrameId),this.tooltip.destroy(),this.renderer.domElement.remove()},t.lock=function(){this.isLocked=!0,this.orbitControls.enabled=!1,this.orbitControls.autoRotate=!1},t.render=function(){this.renderer.sortObjects=!1,this.renderer.render(this.scene,this.camera),this.orbitControls.update(),this.animateClouds(),(0,_O.update)()},t.resize=function(e){var t=e.height,n=e.width;this.renderer.setSize(n,t),this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.render()},t.saveFocus=function(e){this.previousFocus=e},t.unlock=function(){this.isLocked=!1,this.orbitControls.enabled=!0,this.orbitControls.autoRotate=!0},t.updateCallbacks=function(e){void 0===e&&(e={}),this.callbacks=jY(e,RY)},t.updateFocus=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!0),this.isLocked||(this.focus=e,function(e,t,n){var r=n.options,i=n.previousFocus,o=n.shouldUnlockAfterFocus,a=n.lock,s=n.unlock,c=n.saveFocus,l=r.cameraDistanceRadiusScale,u=r.focusAnimationDuration,h=r.focusEasingFunction;if(e){var d=[t.position.x,t.position.y,t.position.z],f=IY(e,300*r.focusDistanceRadiusScale);c(e),a(),zY({from:d,to:f,animationDuration:u,easingFunction:h,onUpdate:function(){t.position.set(d[0],d[1],d[2])},onEnd:function(){o&&s()}})}else if(i){var p=[t.position.x,t.position.y,t.position.z],m=IY(i,300*l);a(),zY({from:p,to:m,animationDuration:u,easingFunction:h,onUpdate:function(){t.position.set(p[0],p[1],p[2])},onEnd:function(){c(null),s()}})}}(this.focus,this.camera,{shouldUnlockAfterFocus:n,options:jY(t,this.options),previousFocus:this.previousFocus,lock:this.lock.bind(this),unlock:this.unlock.bind(this),saveFocus:this.saveFocus.bind(this)}))},t.updateMarkers=function(e){var t=this;void 0===e&&(e=[]),this.markers=e,function(e,t){var n=t.callbacks,r=t.markers,i=t.options,o=i.markerExitAnimationDuration,a=i.markerExitEasingFunction,s=i.markerRadiusScaleRange,c=r.map((function(e){return e.value})),l=new Set(r.map((function(e){return e.id}))),u=s[0],h=s[1],d=KT().domain([Math.min.apply(null,c),Math.max.apply(null,c)]).range([300*u,300*h]);r.forEach((function(t){var n=t.id,r=d(t.value),o=e.children.find((function(e){return e.marker.id===t.id}));o||((o=function(e,t,n){var r,i,o=t.enableMarkerGlow,a=t.markerEnterAnimationDuration,s=t.markerEnterEasingFunction,c=t.markerGlowCoefficient,l=t.markerGlowPower,u=t.markerGlowRadiusScale,h=t.markerOffsetRadiusScale,d=t.markerRenderer,f=t.markerType;if(d)i=d(e);else{var p=e.color||"gold",m={size:0},v={size:n},g=new yI;zY({from:m,to:v,animationDuration:a,easingFunction:s,onUpdate:function(){if("bar"===f)g.geometry=new TI(3,3,m.size),g.material=new yB({color:p});else if(g.geometry=new XU(m.size,10,10),g.material=new DN({color:p}),o){var e=QG(g.geometry,{backside:!1,coefficient:c,color:p,power:l,size:m.size*u});g.children=[],g.add(e)}}}),i=g}var y=IY(e.coordinates,300+(h?300*h:"dot"===f?n*(1+u)/2:0));return(r=i.position).set.apply(r,y),i.lookAt(new aD(0,0,0)),i.name=e.id,i}(t,i,r)).name=n,e.add(o)),o.marker=t})),e.children.forEach((function(t){if(!l.has(t.marker.id)){var r=t.scale.toArray();zY({from:r,to:[0,0,0],animationDuration:o,easingFunction:a,onUpdate:function(){var e;t&&(e=t.scale).set.apply(e,r)},onEnd:function(){e.remove(t)}})}!function(e,t){var n=e.marker;e._listeners={},e.on("click",(function(r){t.onClickMarker(n,e,r.data.originalEvent)})),e.on("mousemove",(function(r){t.onMouseOverMarker(n,e,r.data.originalEvent)})),e.on("mouseout",(function(r){t.onMouseOutMarker(n,e,r.data.originalEvent)}))}(t,n)}))}(this.markerObjects,{options:this.options,markers:e,callbacks:{onClickMarker:function(e,n,r){t.updateFocus(e.coordinates),t.callbacks.onClickMarker(e,n,r)},onMouseOutMarker:function(e,n,r){t.tooltip.hide(),t.callbacks.onMouseOutMarker(e,n,r)},onMouseOverMarker:function(e,n,r){t.options.enableMarkerTooltip&&t.tooltip.show(r.clientX,r.clientY,t.options.markerTooltipRenderer(n.marker)),t.callbacks.onMouseOverMarker(e,n,r)}}})},t.updateOptions=function(e){void 0===e&&(e={}),this.options=jY(e,DY),function(e,t){var n=t.callbacks,r=t.options,i=t.textures,o=r.globeCloudsOpacity,a=n.onGlobeBackgroundTextureLoaded,s=n.onGlobeCloudsTextureLoaded,c=n.onGlobeTextureLoaded,l=i.globeBackgroundTexture,u=void 0===l?"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/background.png":l,h=i.globeCloudsTexture,d=void 0===h?"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/clouds.png":h,f=i.globeTexture,p=void 0===f?"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/globe.jpg":f,m=e.clouds,v=e.globe,g=e.glow,y=e.background;r.enableGlobeGlow&&((g=QG(v.geometry,{backside:!0,coefficient:r.globeGlowCoefficient,color:r.globeGlowColor,power:r.globeGlowPower,size:300*r.globeGlowRadiusScale})).name="glow"),p&&(new XB).load(p,(function(e){v.material=new yB({map:e}),v.remove(v.getObjectByName("glow")),v.add(g),c()}),(function(){}),c),u&&((new XB).load(u,(function(e){y.material=new DN({map:e,side:jO}),a()}),(function(){}),a),v.remove(v.getObjectByName("background")),v.add(y)),d&&((new XB).load(d,(function(e){m.material=new yB({map:e,transparent:!0}),m.material.opacity=o,s()}),(function(){}),s),v.remove(v.getObjectByName("clouds")),v.add(m))}(this.earth,{callbacks:this.callbacks,options:this.options,textures:this.textures}),function(e,t){var n=t.ambientLightIntensity,r=t.pointLightColor,i=t.pointLightIntensity,o=t.pointLightPositionRadiusScales,a=e.ambient,s=e.point,c=o[0],l=o[1],u=o[2];a.color=new PN(t.ambientLightColor),a.intensity=n,s.color=new PN(r),s.intensity=i,s.position.set(300*c,300*l,300*u)}(this.lights,this.options),function(e,t){var n=t.cameraAutoRotateSpeed,r=t.cameraMaxDistanceRadiusScale,i=t.cameraMaxPolarAngle,o=t.cameraMinPolarAngle,a=t.cameraRotateSpeed,s=t.cameraZoomSpeed,c=t.enableCameraRotate,l=t.enableCameraZoom;e.autoRotate=t.enableCameraAutoRotate,e.autoRotateSpeed=n,e.dampingFactor=.1,e.enableDamping=!0,e.enablePan=!1,e.enableRotate=c,e.enableZoom=l,e.maxDistance=300*r,e.maxPolarAngle=i,e.minDistance=330,e.minPolarAngle=o,e.rotateSpeed=a,e.zoomSpeed=s}(this.orbitControls,this.options),this.updateFocus.bind(this,this.focus),this.updateMarkers.bind(this,this.markers)},e}();function BY(t){var n=t.animations,r=void 0===n?[]:n,i=t.focus,o=t.height,a=void 0===o?"100%":o,s=t.globeBackgroundTexture,c=t.globeCloudsTexture,l=t.globeTexture,u=t.initialCameraDistanceRadiusScale,h=t.initialCoordinates,d=t.markers,f=t.options,p=void 0===f?DY:f,m=t.width,v=void 0===m?"100%":m,g=t.onClickMarker,y=t.onDefocus,b=t.onGetGlobe,x=t.onGlobeBackgroundTextureLoaded,w=t.onGlobeCloudsTextureLoaded,_=t.onGlobeTextureLoaded,M=t.onMouseOutMarker,S=t.onMouseOverMarker,E=(0,e.useRef)(null),T=(0,e.useRef)(null),P=(0,e.useRef)(null),C=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=new UY({canvasElement:E.current,initialCameraDistanceRadiusScale:u||p.cameraDistanceRadiusScale,initialCoordinates:h,textures:{globeBackgroundTexture:s,globeCloudsTexture:c,globeTexture:l},tooltipElement:P.current});return e.animate(),C.current=e,b&&b(e),function(){return e.destroy()}}),[s,c,l,u,p.cameraDistanceRadiusScale,h,b]),(0,e.useEffect)((function(){var e,t,n,r=C.current;return e=T.current,t=r.resize.bind(r),(n=new JG((function(e){if(e&&0!==e.length){var n=e[0].contentRect;t({height:n.height,width:n.width})}}))).observe(e),function(){return n.unobserve(e)}}),[]),(0,e.useEffect)((function(){C.current.updateCallbacks({onClickMarker:g,onDefocus:y,onGlobeBackgroundTextureLoaded:x,onGlobeCloudsTextureLoaded:w,onGlobeTextureLoaded:_,onMouseOutMarker:M,onMouseOverMarker:S})}),[g,y,x,w,_,M,S]),(0,e.useEffect)((function(){C.current.updateOptions(p)}),[p]),(0,e.useEffect)((function(){C.current.updateMarkers(d)}),[d]),(0,e.useEffect)((function(){C.current.updateFocus(i)}),[i]),(0,e.useEffect)((function(){return C.current.applyAnimations(r)}),[r]),e.createElement("div",{ref:T,style:{height:a,width:v}},e.createElement("canvas",{ref:E}),e.createElement("div",{ref:P}))}const VY=[{id:1,city:"Singapore",color:"red",coordinates:[1.3521,103.8198],value:50},{id:2,city:"New York",color:"blue",coordinates:[40.73061,-73.935242],value:25},{id:3,city:"San Francisco",color:"orange",coordinates:[37.773972,-122.431297],value:35},{id:4,city:"Beijing",color:"gold",coordinates:[39.9042,116.4074],value:0},{id:5,city:"London",color:"green",coordinates:[51.5074,.1278],value:80},{id:6,city:"Korea",color:"red",coordinates:[37,127],value:3e3}];var HY,GY,WY,qY,YY,XY,ZY,$Y;function JY(e){return"".concat(e.city)}function KY(e){return"".concat(e.value)}Gt.div(HY||(HY=i(["\n  width: 100px;\n  height: 100px;\n  background-color: gray;\n  position: absolute;\n"])));const QY=Gt.div(GY||(GY=i(["\n  position: absolute;\n  top: 50px;\n"]))),eX=Gt.div(WY||(WY=i(["\n  position: absolute;\n  top: 100px;\n  right: 100px;\n  // color: transparent;\n"]))),tX=Gt.div(qY||(qY=i(["\n  display: flex;\n  // background-color: #212121;\n  // justify-content: space-around;\n  // padding: 30px 0;\n  // border: 2px solid #212121;\n  border-radius: 30px;\n  overflow: hidden;\n"]))),nX=Gt.div(YY||(YY=i(["\n  padding: 20px;\n  background-color: royalBlue;\n  color: white;\n  width: 10 0px;\n  height: 70px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  font-size: 20px;\n  font-weight: 700;\n  // border-radius: 20px;\n  flex-direction: column;\n"]))),rX=Gt.div(XY||(XY=i(["\n  padding: 20px;\n  background-color: white;\n  color: black;\n  width: 70px;\n  height: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  font-weight: 700;\n  // border-radius: 20px;\n  // border-right: 2px solid #212121;\n"]))),iX=Gt.div(ZY||(ZY=i(["\n  border-bottom: 2px solid white;\n  padding: 3px;\n"]))),oX=Gt.div($Y||($Y=i([""]))),aX=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)([]),o={method:"GET",headers:{"auth-token":"nq3azaHThk0uE4IwrgFKtOAMxSWF5kC5"}},a=["KR","GB","JP","IN","DE","BR","RU","KR"],s=["Korea","England","Japan","India","Denmark","Brazil","Rusia","GreenLand"],c=[[36,127],[51,-.1275],[35,138],[22,79],[56,10],[12,55],[62,105],[93,-20]];let l=0;function u(){if(l<a.length){const e=a[l],t="".concat("https://api-access.electricitymaps.com/free-tier/carbon-intensity/latest","?zone=").concat(e);fetch(t,o).then((e=>e.json())).then((e=>{!function(e,t,n){i((r=>{const i={id:r.length+1,city:e,color:"red",coordinates:n,value:t.carbonIntensity};return[...r,i]}))}(s[l],e,c[l]),l++,setTimeout(u,100)})).catch((t=>{console.error("Error fetching data for zone ".concat(e,": ").concat(t)),l++,setTimeout(u,100)}))}else n(!0),console.log("All requests completed")}(0,e.useEffect)((()=>(u(),()=>clearTimeout(u))),[]),VY.map((e=>({...e,value:Math.floor(100*Math.random())})));const[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)(null),[m,v]=(0,e.useState)(null),[g,y]=(0,e.useState)(null);return(0,hr.jsxs)("div",{children:[m&&(0,hr.jsx)(eX,{children:(0,hr.jsxs)(tX,{children:[(0,hr.jsx)(rX,{children:m}),(0,hr.jsxs)(nX,{children:[(0,hr.jsx)(iX,{children:"\ud0c4\uc18c\uc9d1\uc57d\ub3c4"}),(0,hr.jsx)(oX,{children:g})]})]})}),(0,hr.jsx)(Hr,{}),(0,hr.jsxs)(QY,{style:{padding:40,display:"flex",flexDirection:"column",width:"200px"},children:[(0,hr.jsx)("button",{style:{backgroundColor:"white",border:"none",padding:"5px 0",borderRadius:"5px",marginBottom:"3px"},onClick:()=>{d(r),console.log(h),console.log(VY)},children:t?(0,hr.jsx)("div",{children:"\ud0c4\uc18c \uc9d1\uc57d\ub3c4 \ud655\uc778\ud558\uae30"}):(0,hr.jsx)("div",{children:"\uc138\uacc4\uc758 \ud0c4\uc18c\uc9d1\uc57d\ub3c4\ub97c \ubc1b\uc544\uc624\ub294\uc911..."})}),(0,hr.jsx)("button",{style:{backgroundColor:"white",border:"none",padding:"5px 0",borderRadius:"5px",marginBottom:"3px"},disabled:0===h.length,onClick:()=>d([]),children:"\ub9c8\ucee4 \uc9c0\uc6b0\uae30"})]}),(0,hr.jsx)(BY,{height:"100vh",markers:h,options:o,width:"100vw",onClickMarker:function(e,t,n){console.log(e,t,n),p({type:"CLICK",marker:e,markerObjectID:t.uuid,pointerEventPosition:{x:n.clientX,y:n.clientY}}),v(JY(e)),y(KY(e))},onDefocus:function(e){p({type:"DEFOCUS",previousFocus:e}),v(null),y(null)}})]})};var sX;const cX=qt(sX||(sX=i(["\n  ","\n"])),Zt);const lX=function(){return(0,hr.jsxs)("div",{className:"App",children:[(0,hr.jsx)(cX,{}),(0,hr.jsxs)(sr,{children:[(0,hr.jsx)(or,{path:"/",element:(0,hr.jsx)(aX,{})}),(0,hr.jsx)(or,{path:"/info",element:(0,hr.jsx)(yO,{})}),(0,hr.jsx)(or,{path:"/game",element:(0,hr.jsx)(wO,{})})]})]})};r.createRoot(document.getElementById("root")).render((0,hr.jsx)(wr,{children:(0,hr.jsx)(lX,{})}))})()})();
//# sourceMappingURL=main.a0eb4aa2.js.map